(function(E,t){typeof exports=="object"&&typeof module<"u"?t(exports,require("vue"),require("@qikdev/sdk")):typeof define=="function"&&define.amd?define(["exports","vue","@qikdev/sdk"],t):(E=typeof globalThis<"u"?globalThis:E||self,t(E["@qikdev/vue-ui"]={},E.Vue,E["@qikdev/sdk"]))})(this,function(E,t,Bs){"use strict";const Ns="0.2.76",yn={STRIPE_NOT_LOADED:"Stripe v3 library is not loaded",INSTANCE_NOT_DEFINED:"Instance object is not defined. Make sure you initialized Stripe before creating elements",ELEMENTS_NOT_DEFINED:"Elements object is not defined. You can't create stripe element without it",ELEMENT_TYPE_NOT_DEFINED:"elementType is required. You can't create stripe element without it"},Ss=(e,n)=>{try{if(!window.Stripe)throw new Error(yn.STRIPE_NOT_LOADED);return window.Stripe(e,n)}catch(o){return console.error(o),o}},Ts=(e,n)=>{try{if(!e)throw new Error(yn.INSTANCE_NOT_DEFINED);return e.elements(n)}catch(o){return console.error(o),o}},Os=(e,n,o)=>{try{if(!e)throw new Error(yn.ELEMENTS_NOT_DEFINED);if(!n)throw new Error(yn.ELEMENT_TYPE_NOT_DEFINED);return e.create(n,o)}catch(i){return console.error(i),i}};var yr=(e,n)=>{const o=e.__vccOpts||e;for(const[i,l]of n)o[i]=l;return o};const Ds=t.defineComponent({name:"StripeElement",props:{elements:{type:Object,required:!0},type:{type:String,default:()=>"card"},options:{type:Object,default:()=>({})}},setup(e,{emit:n}){const o=t.ref(document.createElement("div")),i=t.ref(),l=t.ref(),{elements:r,type:a,options:s}=t.toRefs(e);return t.onMounted(()=>{const c=()=>{i.value=Os(r.value,a.value,s.value),i.value.mount(o.value),l.value.appendChild(o.value)},d=(m,f)=>{n(m,f)},u=()=>{["change","ready","focus","blur","click","escape"].forEach(f=>{i.value.on(f,d.bind(null,f))})};try{c(),u()}catch(m){console.error(m)}}),t.onBeforeUnmount(()=>{var c,d;(c=i.value)==null||c.unmount(),(d=i.value)==null||d.destroy()}),t.watch(s,()=>{var c;(c=i.value)==null||c.update(e.options)}),{stripeElement:i,domElement:o,mountPoint:l}}}),As={ref:"mountPoint"};function Ms(e,n,o,i,l,r){return t.openBlock(),t.createElementBlock("div",As,null,512)}var gr=yr(Ds,[["render",Ms]]);const Fs=t.defineComponent({name:"StripeElements",props:{stripeKey:{type:String,required:!0},instanceOptions:{type:Object,default:()=>({})},elementsOptions:{type:Object,default:()=>({})}},setup(e){const{stripeKey:n,instanceOptions:o,elementsOptions:i}=t.toRefs(e),l=t.ref(),r=t.ref(),a=t.computed(()=>r.value?Object.keys(r.value).length>0:!1);return t.onMounted(()=>{l.value=Ss(n.value,o.value),r.value=Ts(l.value,i.value)}),t.watch(i,()=>{var s;(s=r.value)==null||s.update(i.value)}),{elements:r,instance:l,elementsUsable:a}}}),Is={key:0};function $s(e,n,o,i,l,r){return e.elementsUsable?(t.openBlock(),t.createElementBlock("div",Is,[t.renderSlot(e.$slots,"default",{instance:e.instance,elements:e.elements})])):t.createCommentVNode("",!0)}var _r=yr(Fs,[["render",$s]]);const jN="",g=(e,n)=>{const o=e.__vccOpts||e;for(const[i,l]of n)o[i]=l;return o},Ls={},Ps={class:"flex-column"};function Us(e,n,o,i,l,r){return t.openBlock(),t.createElementBlock("div",Ps,[t.renderSlot(e.$slots,"default",{},void 0,!0)])}const kr=g(Ls,[["render",Us],["__scopeId","data-v-71e77c4f"]]),RN="",js={},Rs={class:"flex-column-body"};function zs(e,n,o,i,l,r){return t.openBlock(),t.createElementBlock("div",Rs,[t.renderSlot(e.$slots,"default",{},void 0,!0)])}const xr=g(js,[["render",zs],["__scopeId","data-v-ab49c425"]]),zN="",Hs={},qs={class:"flex-column-header"};function Gs(e,n,o,i,l,r){return t.openBlock(),t.createElementBlock("div",qs,[t.renderSlot(e.$slots,"default",{},void 0,!0)])}const br=g(Hs,[["render",Gs],["__scopeId","data-v-968bcded"]]),HN="",Ws={},Ks={class:"flex-column-footer"};function Zs(e,n,o,i,l,r){return t.openBlock(),t.createElementBlock("div",Ks,[t.renderSlot(e.$slots,"default",{},void 0,!0)])}const Cr=g(Ws,[["render",Zs],["__scopeId","data-v-941966e2"]]),qN="",Ys={},Xs={class:"flex-cell"};function Js(e,n,o,i,l,r){return t.openBlock(),t.createElementBlock("div",Xs,[t.renderSlot(e.$slots,"default",{},void 0,!0)])}const wr=g(Ys,[["render",Js],["__scopeId","data-v-ceefef08"]]),GN="",Qs={},vs={class:"flex-row"};function ec(e,n,o,i,l,r){return t.openBlock(),t.createElementBlock("div",vs,[t.renderSlot(e.$slots,"default",{},void 0,!0)])}const Vr=g(Qs,[["render",ec],["__scopeId","data-v-a4b9a8e0"]]),WN="",tc={},nc={class:"flex-spacer"};function oc(e,n,o,i,l,r){return t.openBlock(),t.createElementBlock("div",nc)}const Er=g(tc,[["render",oc],["__scopeId","data-v-f42ac625"]]),KN="",rc={},ic={class:"panel"};function lc(e,n,o,i,l,r){return t.openBlock(),t.createElementBlock("div",ic,[t.renderSlot(e.$slots,"default",{},void 0,!0)])}const Br=g(rc,[["render",lc],["__scopeId","data-v-d5c9d9ec"]]),ZN="",ac={},sc={class:"panel-body"};function cc(e,n,o,i,l,r){return t.openBlock(),t.createElementBlock("div",sc,[t.renderSlot(e.$slots,"default",{},void 0,!0)])}const Nr=g(ac,[["render",cc],["__scopeId","data-v-53a6d4be"]]),YN="",dc={},uc={class:"panel-header"};function mc(e,n,o,i,l,r){return t.openBlock(),t.createElementBlock("div",uc,[t.renderSlot(e.$slots,"default",{},void 0,!0)])}const Sr=g(dc,[["render",mc],["__scopeId","data-v-12bf7f04"]]),XN="",fc={},pc={class:"panel-footer"};function hc(e,n,o,i,l,r){return t.openBlock(),t.createElementBlock("div",pc,[t.renderSlot(e.$slots,"default",{},void 0,!0)])}const Tr=g(fc,[["render",hc],["__scopeId","data-v-d8937de9"]]);var gn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yc(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}var _n=yc,gc=typeof gn=="object"&&gn&&gn.Object===Object&&gn,Or=gc,_c=Or,kc=typeof self=="object"&&self&&self.Object===Object&&self,xc=_c||kc||Function("return this")(),Ut=xc,bc=Ut,Cc=function(){return bc.Date.now()},wc=Cc,Vc=/\s/;function Ec(e){for(var n=e.length;n--&&Vc.test(e.charAt(n)););return n}var Bc=Ec,Nc=Bc,Sc=/^\s+/;function Tc(e){return e&&e.slice(0,Nc(e)+1).replace(Sc,"")}var Oc=Tc,Dc=Ut,Ac=Dc.Symbol,so=Ac,Dr=so,Ar=Object.prototype,Mc=Ar.hasOwnProperty,Fc=Ar.toString,jt=Dr?Dr.toStringTag:void 0;function Ic(e){var n=Mc.call(e,jt),o=e[jt];try{e[jt]=void 0;var i=!0}catch{}var l=Fc.call(e);return i&&(n?e[jt]=o:delete e[jt]),l}var $c=Ic,Lc=Object.prototype,Pc=Lc.toString;function Uc(e){return Pc.call(e)}var jc=Uc,Mr=so,Rc=$c,zc=jc,Hc="[object Null]",qc="[object Undefined]",Fr=Mr?Mr.toStringTag:void 0;function Gc(e){return e==null?e===void 0?qc:Hc:Fr&&Fr in Object(e)?Rc(e):zc(e)}var Rt=Gc;function Wc(e){return e!=null&&typeof e=="object"}var zt=Wc,Kc=Rt,Zc=zt,Yc="[object Symbol]";function Xc(e){return typeof e=="symbol"||Zc(e)&&Kc(e)==Yc}var kn=Xc,Jc=Oc,Ir=_n,Qc=kn,$r=0/0,vc=/^[-+]0x[0-9a-f]+$/i,ed=/^0b[01]+$/i,td=/^0o[0-7]+$/i,nd=parseInt;function od(e){if(typeof e=="number")return e;if(Qc(e))return $r;if(Ir(e)){var n=typeof e.valueOf=="function"?e.valueOf():e;e=Ir(n)?n+"":n}if(typeof e!="string")return e===0?e:+e;e=Jc(e);var o=ed.test(e);return o||td.test(e)?nd(e.slice(2),o?2:8):vc.test(e)?$r:+e}var Lr=od,rd=_n,co=wc,Pr=Lr,id="Expected a function",ld=Math.max,ad=Math.min;function sd(e,n,o){var i,l,r,a,s,c,d=0,u=!1,m=!1,f=!0;if(typeof e!="function")throw new TypeError(id);n=Pr(n)||0,rd(o)&&(u=!!o.leading,m="maxWait"in o,r=m?ld(Pr(o.maxWait)||0,n):r,f="trailing"in o?!!o.trailing:f);function p(A){var V=i,W=l;return i=l=void 0,d=A,a=e.apply(W,V),a}function h(A){return d=A,s=setTimeout(F,n),u?p(A):a}function y(A){var V=A-c,W=A-d,M=n-V;return m?ad(M,r-W):M}function x(A){var V=A-c,W=A-d;return c===void 0||V>=n||V<0||m&&W>=r}function F(){var A=co();if(x(A))return R(A);s=setTimeout(F,y(A))}function R(A){return s=void 0,f&&i?p(A):(i=l=void 0,a)}function H(){s!==void 0&&clearTimeout(s),d=0,i=c=l=s=void 0}function Z(){return s===void 0?a:R(co())}function Y(){var A=co(),V=x(A);if(i=arguments,l=this,c=A,V){if(s===void 0)return h(c);if(m)return clearTimeout(s),s=setTimeout(F,n),p(c)}return s===void 0&&(s=setTimeout(F,n)),a}return Y.cancel=H,Y.flush=Z,Y}var Ht=sd;const JN="",cd=["onClick"],dd=["onClick"],Ur=g({__name:"tabset",props:{vertical:Boolean,inline:Boolean},setup(e){const n=t.useSlots(),o=t.reactive({tabs:[]});t.provide("tabset",o);const i=t.ref();t.provide("activeHeading",i);const l=function(c){i.value=c},r=Ht(function(){const d=n.default().reduce(function(f,p){var h;return((h=p.type)==null?void 0:h.name)==="tab"?f.push(p):p.children&&(f=[...f,...p.children]),f},[]).filter(function(f){var p;return((p=f.type)==null?void 0:p.name)==="tab"&&f.props.enabled!==!1}).map(function(f,p){return{heading:f.props.heading,index:p}});o.tabs=d;const u=d.reduce(function(f,p){return f[p.heading]=!0,f},{}),m=i.value;(!m||!u[m])&&d.length&&(i.value=d[0].heading)});t.provide("rebuild",r);const a=t.computed(function(){return o.tabs.map(function(c){if(c)return c.heading}).filter(Boolean)}),s=t.computed(function(){return a.value.length>1});return r(),(c,d)=>{const u=t.resolveComponent("flex-body"),m=t.resolveComponent("flex-column"),f=t.resolveComponent("flex-row"),p=t.resolveComponent("flex-header");return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["ux-tabset",{vertical:e.vertical,horizontal:!e.vertical,inline:e.inline,block:!e.inline}])},[e.vertical?(t.openBlock(),t.createElementBlock(t.Fragment,{key:0},[t.unref(s)?(t.openBlock(),t.createBlock(m,{key:0,class:"tabset-menu"},{default:t.withCtx(()=>[t.createVNode(u,null,{default:t.withCtx(()=>[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(t.unref(a),(h,y)=>(t.openBlock(),t.createElementBlock("a",{class:t.normalizeClass({active:i.value===h}),key:`tab-link-${h}`,onClick:x=>l(h)},t.toDisplayString(h),11,cd))),128))]),_:1})]),_:1})):t.createCommentVNode("",!0)],64)):(t.openBlock(),t.createElementBlock(t.Fragment,{key:1},[t.unref(s)?(t.openBlock(),t.createBlock(p,{key:0,class:"tabset-menu"},{default:t.withCtx(()=>[t.createVNode(f,null,{default:t.withCtx(()=>[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(t.unref(a),(h,y)=>(t.openBlock(),t.createElementBlock("a",{class:t.normalizeClass({active:i.value===h}),key:`tab-link-${h}`,onClick:x=>l(h)},t.toDisplayString(h),11,dd))),128))]),_:1})]),_:1})):t.createCommentVNode("",!0)],64)),t.createVNode(m,null,{default:t.withCtx(()=>[t.renderSlot(c.$slots,"default",{},void 0,!0)]),_:3})],2)}}},[["__scopeId","data-v-1568a756"]]),ud={name:"tab",props:{heading:{type:String,required:!0},enabled:{type:Boolean,default:!0}},created(){this.rebuild()},unmounted(){this.rebuild()},inject:["tabset","activeHeading","rebuild"],computed:{active(){var n;return String(this.heading)===String(((n=this.activeHeading)==null?void 0:n.value)||this.activeHeading)}}};function md(e,n,o,i,l,r){const a=t.resolveComponent("flex-column");return r.active?(t.openBlock(),t.createBlock(a,{key:0},{default:t.withCtx(()=>[t.renderSlot(e.$slots,"default")]),_:3})):t.createCommentVNode("",!0)}const jr=g(ud,[["render",md]]);var fd=Array.isArray,qt=fd,pd=qt,hd=kn,yd=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,gd=/^\w*$/;function _d(e,n){if(pd(e))return!1;var o=typeof e;return o=="number"||o=="symbol"||o=="boolean"||e==null||hd(e)?!0:gd.test(e)||!yd.test(e)||n!=null&&e in Object(n)}var kd=_d,xd=Rt,bd=_n,Cd="[object AsyncFunction]",wd="[object Function]",Vd="[object GeneratorFunction]",Ed="[object Proxy]";function Bd(e){if(!bd(e))return!1;var n=xd(e);return n==wd||n==Vd||n==Cd||n==Ed}var Rr=Bd,Nd=Ut,Sd=Nd["__core-js_shared__"],Td=Sd,uo=Td,zr=function(){var e=/[^.]+$/.exec(uo&&uo.keys&&uo.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Od(e){return!!zr&&zr in e}var Dd=Od,Ad=Function.prototype,Md=Ad.toString;function Fd(e){if(e!=null){try{return Md.call(e)}catch{}try{return e+""}catch{}}return""}var Id=Fd,$d=Rr,Ld=Dd,Pd=_n,Ud=Id,jd=/[\\^$.*+?()[\]{}|]/g,Rd=/^\[object .+?Constructor\]$/,zd=Function.prototype,Hd=Object.prototype,qd=zd.toString,Gd=Hd.hasOwnProperty,Wd=RegExp("^"+qd.call(Gd).replace(jd,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Kd(e){if(!Pd(e)||Ld(e))return!1;var n=$d(e)?Wd:Rd;return n.test(Ud(e))}var Zd=Kd;function Yd(e,n){return e==null?void 0:e[n]}var Xd=Yd,Jd=Zd,Qd=Xd;function vd(e,n){var o=Qd(e,n);return Jd(o)?o:void 0}var Hr=vd,eu=Hr,tu=eu(Object,"create"),xn=tu,qr=xn;function nu(){this.__data__=qr?qr(null):{},this.size=0}var ou=nu;function ru(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}var iu=ru,lu=xn,au="__lodash_hash_undefined__",su=Object.prototype,cu=su.hasOwnProperty;function du(e){var n=this.__data__;if(lu){var o=n[e];return o===au?void 0:o}return cu.call(n,e)?n[e]:void 0}var uu=du,mu=xn,fu=Object.prototype,pu=fu.hasOwnProperty;function hu(e){var n=this.__data__;return mu?n[e]!==void 0:pu.call(n,e)}var yu=hu,gu=xn,_u="__lodash_hash_undefined__";function ku(e,n){var o=this.__data__;return this.size+=this.has(e)?0:1,o[e]=gu&&n===void 0?_u:n,this}var xu=ku,bu=ou,Cu=iu,wu=uu,Vu=yu,Eu=xu;function gt(e){var n=-1,o=e==null?0:e.length;for(this.clear();++n<o;){var i=e[n];this.set(i[0],i[1])}}gt.prototype.clear=bu,gt.prototype.delete=Cu,gt.prototype.get=wu,gt.prototype.has=Vu,gt.prototype.set=Eu;var Bu=gt;function Nu(){this.__data__=[],this.size=0}var Su=Nu;function Tu(e,n){return e===n||e!==e&&n!==n}var Ou=Tu,Du=Ou;function Au(e,n){for(var o=e.length;o--;)if(Du(e[o][0],n))return o;return-1}var bn=Au,Mu=bn,Fu=Array.prototype,Iu=Fu.splice;function $u(e){var n=this.__data__,o=Mu(n,e);if(o<0)return!1;var i=n.length-1;return o==i?n.pop():Iu.call(n,o,1),--this.size,!0}var Lu=$u,Pu=bn;function Uu(e){var n=this.__data__,o=Pu(n,e);return o<0?void 0:n[o][1]}var ju=Uu,Ru=bn;function zu(e){return Ru(this.__data__,e)>-1}var Hu=zu,qu=bn;function Gu(e,n){var o=this.__data__,i=qu(o,e);return i<0?(++this.size,o.push([e,n])):o[i][1]=n,this}var Wu=Gu,Ku=Su,Zu=Lu,Yu=ju,Xu=Hu,Ju=Wu;function _t(e){var n=-1,o=e==null?0:e.length;for(this.clear();++n<o;){var i=e[n];this.set(i[0],i[1])}}_t.prototype.clear=Ku,_t.prototype.delete=Zu,_t.prototype.get=Yu,_t.prototype.has=Xu,_t.prototype.set=Ju;var Qu=_t,vu=Hr,em=Ut,tm=vu(em,"Map"),nm=tm,Gr=Bu,om=Qu,rm=nm;function im(){this.size=0,this.__data__={hash:new Gr,map:new(rm||om),string:new Gr}}var lm=im;function am(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}var sm=am,cm=sm;function dm(e,n){var o=e.__data__;return cm(n)?o[typeof n=="string"?"string":"hash"]:o.map}var Cn=dm,um=Cn;function mm(e){var n=um(this,e).delete(e);return this.size-=n?1:0,n}var fm=mm,pm=Cn;function hm(e){return pm(this,e).get(e)}var ym=hm,gm=Cn;function _m(e){return gm(this,e).has(e)}var km=_m,xm=Cn;function bm(e,n){var o=xm(this,e),i=o.size;return o.set(e,n),this.size+=o.size==i?0:1,this}var Cm=bm,wm=lm,Vm=fm,Em=ym,Bm=km,Nm=Cm;function kt(e){var n=-1,o=e==null?0:e.length;for(this.clear();++n<o;){var i=e[n];this.set(i[0],i[1])}}kt.prototype.clear=wm,kt.prototype.delete=Vm,kt.prototype.get=Em,kt.prototype.has=Bm,kt.prototype.set=Nm;var Sm=kt,Wr=Sm,Tm="Expected a function";function mo(e,n){if(typeof e!="function"||n!=null&&typeof n!="function")throw new TypeError(Tm);var o=function(){var i=arguments,l=n?n.apply(this,i):i[0],r=o.cache;if(r.has(l))return r.get(l);var a=e.apply(this,i);return o.cache=r.set(l,a)||r,a};return o.cache=new(mo.Cache||Wr),o}mo.Cache=Wr;var Om=mo,Dm=Om,Am=500;function Mm(e){var n=Dm(e,function(i){return o.size===Am&&o.clear(),i}),o=n.cache;return n}var Fm=Mm,Im=Fm,$m=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Lm=/\\(\\)?/g,Pm=Im(function(e){var n=[];return e.charCodeAt(0)===46&&n.push(""),e.replace($m,function(o,i,l,r){n.push(l?r.replace(Lm,"$1"):i||o)}),n}),Um=Pm;function jm(e,n){for(var o=-1,i=e==null?0:e.length,l=Array(i);++o<i;)l[o]=n(e[o],o,e);return l}var Kr=jm,Zr=so,Rm=Kr,zm=qt,Hm=kn,qm=1/0,Yr=Zr?Zr.prototype:void 0,Xr=Yr?Yr.toString:void 0;function Jr(e){if(typeof e=="string")return e;if(zm(e))return Rm(e,Jr)+"";if(Hm(e))return Xr?Xr.call(e):"";var n=e+"";return n=="0"&&1/e==-qm?"-0":n}var Gm=Jr,Wm=Gm;function Km(e){return e==null?"":Wm(e)}var fo=Km,Zm=qt,Ym=kd,Xm=Um,Jm=fo;function Qm(e,n){return Zm(e)?e:Ym(e,n)?[e]:Xm(Jm(e))}var vm=Qm,ef=kn,tf=1/0;function nf(e){if(typeof e=="string"||ef(e))return e;var n=e+"";return n=="0"&&1/e==-tf?"-0":n}var of=nf,rf=vm,lf=of;function af(e,n){n=rf(n,e);for(var o=0,i=n.length;e!=null&&o<i;)e=e[lf(n[o++])];return o&&o==i?e:void 0}var sf=af,cf=sf;function df(e,n,o){var i=e==null?void 0:cf(e,n);return i===void 0?o:i}var wn=df;const He={props:{column:{type:Object,required:!0},row:{type:Object,required:!0},value:{}}},vN="",uf={mixins:[He],computed:{imageSource(){return this.value&&this.value._id?this.value:this.row},type(){var e,n;return(n=(e=this.imageSource)==null?void 0:e.meta)==null?void 0:n.type}},methods:{clicked(e){this.$sdk.dispatch("item:view",this.imageSource)}}},mf={class:"table-image-cell"};function ff(e,n,o,i,l,r){const a=t.resolveComponent("ux-image"),s=t.resolveComponent("ux-icon");return t.openBlock(),t.createElementBlock("td",mf,[r.type=="image"||r.type=="video"?(t.openBlock(),t.createElementBlock("div",{key:0,onClick:n[0]||(n[0]=t.withModifiers(c=>r.clicked(e.value),["stop","prevent"])),class:"image-wrapper"},[t.createVNode(a,{item:r.imageSource,type:r.type,width:100,height:100},null,8,["item","type"])])):(t.openBlock(),t.createBlock(s,{key:1,icon:"fa-file"}))])}const pf=g(uf,[["render",ff],["__scopeId","data-v-868d2120"]]),eS="",hf={mixins:[He],computed:{string(){return isNaN(this.amount)?"":this.amount.toFixed(2)},amount(){return Number(parseInt(this.value)/100)},credit(){return this.amount>0},debit(){return this.amount<0},empty(){return parseInt(this.value)===0},currency(){return this.column.currency||this.row.currency}}};function yf(e,n,o,i,l,r){return t.openBlock(),t.createElementBlock("td",{class:t.normalizeClass(["table-currency-cell",{credit:r.credit,empty:r.empty,debit:r.debit}])},t.toDisplayString(r.string),3)}const gf=g(hf,[["render",yf],["__scopeId","data-v-c8cb509d"]]),tS="",_f={data(){return{processing:!1}},mixins:[He],computed:{button(){return this.column.button},type(){var e,n;return(n=(e=this.row)==null?void 0:e.meta)==null?void 0:n.type},label(){const e=this.button;return typeof e.text=="function"?e.text(this):e.text}},methods:{async clicked(){this.processing=!0,await this.button.action(this.row,this.column),this.processing=!1}}},kf={class:"table-button-cell"};function xf(e,n,o,i,l,r){const a=t.resolveComponent("ux-icon"),s=t.resolveComponent("ux-button");return t.openBlock(),t.createElementBlock("td",kf,[t.createVNode(s,{color:r.button.color,size:r.button.size,loading:l.processing,onClick:t.withModifiers(r.clicked,["stop","prevent"])},{default:t.withCtx(()=>[r.label?(t.openBlock(),t.createElementBlock(t.Fragment,{key:0},[t.createTextVNode(t.toDisplayString(r.label),1)],64)):t.createCommentVNode("",!0),r.button.icon?(t.openBlock(),t.createBlock(a,{key:1,icon:r.button.icon,right:""},null,8,["icon"])):t.createCommentVNode("",!0)]),_:1},8,["color","size","loading","onClick"])])}const bf=g(_f,[["render",xf],["__scopeId","data-v-bddd5589"]]);class lt extends Error{}class Cf extends lt{constructor(n){super(`Invalid DateTime: ${n.toMessage()}`)}}class wf extends lt{constructor(n){super(`Invalid Interval: ${n.toMessage()}`)}}class Vf extends lt{constructor(n){super(`Invalid Duration: ${n.toMessage()}`)}}class Gt extends lt{}class Qr extends lt{constructor(n){super(`Invalid unit ${n}`)}}class Ne extends lt{}class Ye extends lt{constructor(){super("Zone is an abstract class")}}const C="numeric",De="short",Ce="long",po={year:C,month:C,day:C},vr={year:C,month:De,day:C},Ef={year:C,month:De,day:C,weekday:De},ei={year:C,month:Ce,day:C},ti={year:C,month:Ce,day:C,weekday:Ce},ni={hour:C,minute:C},oi={hour:C,minute:C,second:C},ri={hour:C,minute:C,second:C,timeZoneName:De},ii={hour:C,minute:C,second:C,timeZoneName:Ce},li={hour:C,minute:C,hourCycle:"h23"},ai={hour:C,minute:C,second:C,hourCycle:"h23"},si={hour:C,minute:C,second:C,hourCycle:"h23",timeZoneName:De},ci={hour:C,minute:C,second:C,hourCycle:"h23",timeZoneName:Ce},di={year:C,month:C,day:C,hour:C,minute:C},ui={year:C,month:C,day:C,hour:C,minute:C,second:C},mi={year:C,month:De,day:C,hour:C,minute:C},fi={year:C,month:De,day:C,hour:C,minute:C,second:C},Bf={year:C,month:De,day:C,weekday:De,hour:C,minute:C},pi={year:C,month:Ce,day:C,hour:C,minute:C,timeZoneName:De},hi={year:C,month:Ce,day:C,hour:C,minute:C,second:C,timeZoneName:De},yi={year:C,month:Ce,day:C,weekday:Ce,hour:C,minute:C,timeZoneName:Ce},gi={year:C,month:Ce,day:C,weekday:Ce,hour:C,minute:C,second:C,timeZoneName:Ce};function I(e){return typeof e>"u"}function at(e){return typeof e=="number"}function Vn(e){return typeof e=="number"&&e%1===0}function Nf(e){return typeof e=="string"}function Sf(e){return Object.prototype.toString.call(e)==="[object Date]"}function _i(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function Tf(e){return Array.isArray(e)?e:[e]}function ki(e,n,o){if(e.length!==0)return e.reduce((i,l)=>{const r=[n(l),l];return i&&o(i[0],r[0])===i[0]?i:r},null)[1]}function Of(e,n){return n.reduce((o,i)=>(o[i]=e[i],o),{})}function xt(e,n){return Object.prototype.hasOwnProperty.call(e,n)}function qe(e,n,o){return Vn(e)&&e>=n&&e<=o}function Df(e,n){return e-n*Math.floor(e/n)}function te(e,n=2){const o=e<0;let i;return o?i="-"+(""+-e).padStart(n,"0"):i=(""+e).padStart(n,"0"),i}function Xe(e){if(!(I(e)||e===null||e===""))return parseInt(e,10)}function st(e){if(!(I(e)||e===null||e===""))return parseFloat(e)}function ho(e){if(!(I(e)||e===null||e==="")){const n=parseFloat("0."+e)*1e3;return Math.floor(n)}}function yo(e,n,o=!1){const i=10**n;return(o?Math.trunc:Math.round)(e*i)/i}function Wt(e){return e%4===0&&(e%100!==0||e%400===0)}function Kt(e){return Wt(e)?366:365}function En(e,n){const o=Df(n-1,12)+1,i=e+(n-o)/12;return o===2?Wt(i)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][o-1]}function go(e){let n=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(n=new Date(n),n.setUTCFullYear(n.getUTCFullYear()-1900)),+n}function Bn(e){const n=(e+Math.floor(e/4)-Math.floor(e/100)+Math.floor(e/400))%7,o=e-1,i=(o+Math.floor(o/4)-Math.floor(o/100)+Math.floor(o/400))%7;return n===4||i===3?53:52}function _o(e){return e>99?e:e>60?1900+e:2e3+e}function xi(e,n,o,i=null){const l=new Date(e),r={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};i&&(r.timeZone=i);const a={timeZoneName:n,...r},s=new Intl.DateTimeFormat(o,a).formatToParts(l).find(c=>c.type.toLowerCase()==="timezonename");return s?s.value:null}function Nn(e,n){let o=parseInt(e,10);Number.isNaN(o)&&(o=0);const i=parseInt(n,10)||0,l=o<0||Object.is(o,-0)?-i:i;return o*60+l}function bi(e){const n=Number(e);if(typeof e=="boolean"||e===""||Number.isNaN(n))throw new Ne(`Invalid unit value ${e}`);return n}function Sn(e,n){const o={};for(const i in e)if(xt(e,i)){const l=e[i];if(l==null)continue;o[n(i)]=bi(l)}return o}function Tn(e,n){const o=Math.trunc(Math.abs(e/60)),i=Math.trunc(Math.abs(e%60)),l=e>=0?"+":"-";switch(n){case"short":return`${l}${te(o,2)}:${te(i,2)}`;case"narrow":return`${l}${o}${i>0?`:${i}`:""}`;case"techie":return`${l}${te(o,2)}${te(i,2)}`;default:throw new RangeError(`Value format ${n} is out of range for property format`)}}function On(e){return Of(e,["hour","minute","second","millisecond"])}const Af=/[A-Za-z_+-]{1,256}(:?\/[A-Za-z0-9_+-]{1,256}(\/[A-Za-z0-9_+-]{1,256})?)?/,Mf=["January","February","March","April","May","June","July","August","September","October","November","December"],Ci=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Ff=["J","F","M","A","M","J","J","A","S","O","N","D"];function wi(e){switch(e){case"narrow":return[...Ff];case"short":return[...Ci];case"long":return[...Mf];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const Vi=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Ei=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],If=["M","T","W","T","F","S","S"];function Bi(e){switch(e){case"narrow":return[...If];case"short":return[...Ei];case"long":return[...Vi];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const Ni=["AM","PM"],$f=["Before Christ","Anno Domini"],Lf=["BC","AD"],Pf=["B","A"];function Si(e){switch(e){case"narrow":return[...Pf];case"short":return[...Lf];case"long":return[...$f];default:return null}}function Uf(e){return Ni[e.hour<12?0:1]}function jf(e,n){return Bi(n)[e.weekday-1]}function Rf(e,n){return wi(n)[e.month-1]}function zf(e,n){return Si(n)[e.year<0?0:1]}function Hf(e,n,o="always",i=!1){const l={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},r=["hours","minutes","seconds"].indexOf(e)===-1;if(o==="auto"&&r){const m=e==="days";switch(n){case 1:return m?"tomorrow":`next ${l[e][0]}`;case-1:return m?"yesterday":`last ${l[e][0]}`;case 0:return m?"today":`this ${l[e][0]}`}}const a=Object.is(n,-0)||n<0,s=Math.abs(n),c=s===1,d=l[e],u=i?c?d[1]:d[2]||d[1]:c?l[e][0]:e;return a?`${s} ${u} ago`:`in ${s} ${u}`}function Ti(e,n){let o="";for(const i of e)i.literal?o+=i.val:o+=n(i.val);return o}const qf={D:po,DD:vr,DDD:ei,DDDD:ti,t:ni,tt:oi,ttt:ri,tttt:ii,T:li,TT:ai,TTT:si,TTTT:ci,f:di,ff:mi,fff:pi,ffff:yi,F:ui,FF:fi,FFF:hi,FFFF:gi};class _e{static create(n,o={}){return new _e(n,o)}static parseFormat(n){let o=null,i="",l=!1;const r=[];for(let a=0;a<n.length;a++){const s=n.charAt(a);s==="'"?(i.length>0&&r.push({literal:l,val:i}),o=null,i="",l=!l):l||s===o?i+=s:(i.length>0&&r.push({literal:!1,val:i}),i=s,o=s)}return i.length>0&&r.push({literal:l,val:i}),r}static macroTokenToFormatOpts(n){return qf[n]}constructor(n,o){this.opts=o,this.loc=n,this.systemLoc=null}formatWithSystemDefault(n,o){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(n,{...this.opts,...o}).format()}formatDateTime(n,o={}){return this.loc.dtFormatter(n,{...this.opts,...o}).format()}formatDateTimeParts(n,o={}){return this.loc.dtFormatter(n,{...this.opts,...o}).formatToParts()}resolvedOptions(n,o={}){return this.loc.dtFormatter(n,{...this.opts,...o}).resolvedOptions()}num(n,o=0){if(this.opts.forceSimple)return te(n,o);const i={...this.opts};return o>0&&(i.padTo=o),this.loc.numberFormatter(i).format(n)}formatDateTimeFromString(n,o){const i=this.loc.listingMode()==="en",l=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",r=(p,h)=>this.loc.extract(n,p,h),a=p=>n.isOffsetFixed&&n.offset===0&&p.allowZ?"Z":n.isValid?n.zone.formatOffset(n.ts,p.format):"",s=()=>i?Uf(n):r({hour:"numeric",hourCycle:"h12"},"dayperiod"),c=(p,h)=>i?Rf(n,p):r(h?{month:p}:{month:p,day:"numeric"},"month"),d=(p,h)=>i?jf(n,p):r(h?{weekday:p}:{weekday:p,month:"long",day:"numeric"},"weekday"),u=p=>{const h=_e.macroTokenToFormatOpts(p);return h?this.formatWithSystemDefault(n,h):p},m=p=>i?zf(n,p):r({era:p},"era"),f=p=>{switch(p){case"S":return this.num(n.millisecond);case"u":case"SSS":return this.num(n.millisecond,3);case"s":return this.num(n.second);case"ss":return this.num(n.second,2);case"uu":return this.num(Math.floor(n.millisecond/10),2);case"uuu":return this.num(Math.floor(n.millisecond/100));case"m":return this.num(n.minute);case"mm":return this.num(n.minute,2);case"h":return this.num(n.hour%12===0?12:n.hour%12);case"hh":return this.num(n.hour%12===0?12:n.hour%12,2);case"H":return this.num(n.hour);case"HH":return this.num(n.hour,2);case"Z":return a({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return a({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return a({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return n.zone.offsetName(n.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return n.zone.offsetName(n.ts,{format:"long",locale:this.loc.locale});case"z":return n.zoneName;case"a":return s();case"d":return l?r({day:"numeric"},"day"):this.num(n.day);case"dd":return l?r({day:"2-digit"},"day"):this.num(n.day,2);case"c":return this.num(n.weekday);case"ccc":return d("short",!0);case"cccc":return d("long",!0);case"ccccc":return d("narrow",!0);case"E":return this.num(n.weekday);case"EEE":return d("short",!1);case"EEEE":return d("long",!1);case"EEEEE":return d("narrow",!1);case"L":return l?r({month:"numeric",day:"numeric"},"month"):this.num(n.month);case"LL":return l?r({month:"2-digit",day:"numeric"},"month"):this.num(n.month,2);case"LLL":return c("short",!0);case"LLLL":return c("long",!0);case"LLLLL":return c("narrow",!0);case"M":return l?r({month:"numeric"},"month"):this.num(n.month);case"MM":return l?r({month:"2-digit"},"month"):this.num(n.month,2);case"MMM":return c("short",!1);case"MMMM":return c("long",!1);case"MMMMM":return c("narrow",!1);case"y":return l?r({year:"numeric"},"year"):this.num(n.year);case"yy":return l?r({year:"2-digit"},"year"):this.num(n.year.toString().slice(-2),2);case"yyyy":return l?r({year:"numeric"},"year"):this.num(n.year,4);case"yyyyyy":return l?r({year:"numeric"},"year"):this.num(n.year,6);case"G":return m("short");case"GG":return m("long");case"GGGGG":return m("narrow");case"kk":return this.num(n.weekYear.toString().slice(-2),2);case"kkkk":return this.num(n.weekYear,4);case"W":return this.num(n.weekNumber);case"WW":return this.num(n.weekNumber,2);case"o":return this.num(n.ordinal);case"ooo":return this.num(n.ordinal,3);case"q":return this.num(n.quarter);case"qq":return this.num(n.quarter,2);case"X":return this.num(Math.floor(n.ts/1e3));case"x":return this.num(n.ts);default:return u(p)}};return Ti(_e.parseFormat(o),f)}formatDurationFromString(n,o){const i=c=>{switch(c[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},l=c=>d=>{const u=i(d);return u?this.num(c.get(u),d.length):d},r=_e.parseFormat(o),a=r.reduce((c,{literal:d,val:u})=>d?c:c.concat(u),[]),s=n.shiftTo(...a.map(i).filter(c=>c));return Ti(r,l(s))}}class Ae{constructor(n,o){this.reason=n,this.explanation=o}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}class Zt{get type(){throw new Ye}get name(){throw new Ye}get isUniversal(){throw new Ye}offsetName(n,o){throw new Ye}formatOffset(n,o){throw new Ye}offset(n){throw new Ye}equals(n){throw new Ye}get isValid(){throw new Ye}}let ko=null;class xo extends Zt{static get instance(){return ko===null&&(ko=new xo),ko}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(n,{format:o,locale:i}){return xi(n,o,i)}formatOffset(n,o){return Tn(this.offset(n),o)}offset(n){return-new Date(n).getTimezoneOffset()}equals(n){return n.type==="system"}get isValid(){return!0}}let Dn={};function Gf(e){return Dn[e]||(Dn[e]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),Dn[e]}const Wf={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function Kf(e,n){const o=e.format(n).replace(/\u200E/g,""),i=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(o),[,l,r,a,s,c,d,u]=i;return[a,l,r,s,c,d,u]}function Zf(e,n){const o=e.formatToParts(n),i=[];for(let l=0;l<o.length;l++){const{type:r,value:a}=o[l],s=Wf[r];r==="era"?i[s]=a:I(s)||(i[s]=parseInt(a,10))}return i}let An={};class Ge extends Zt{static create(n){return An[n]||(An[n]=new Ge(n)),An[n]}static resetCache(){An={},Dn={}}static isValidSpecifier(n){return this.isValidZone(n)}static isValidZone(n){if(!n)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:n}).format(),!0}catch{return!1}}constructor(n){super(),this.zoneName=n,this.valid=Ge.isValidZone(n)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(n,{format:o,locale:i}){return xi(n,o,i,this.name)}formatOffset(n,o){return Tn(this.offset(n),o)}offset(n){const o=new Date(n);if(isNaN(o))return NaN;const i=Gf(this.name);let[l,r,a,s,c,d,u]=i.formatToParts?Zf(i,o):Kf(i,o);s==="BC"&&(l=-Math.abs(l)+1);const f=go({year:l,month:r,day:a,hour:c===24?0:c,minute:d,second:u,millisecond:0});let p=+o;const h=p%1e3;return p-=h>=0?h:1e3+h,(f-p)/(60*1e3)}equals(n){return n.type==="iana"&&n.name===this.name}get isValid(){return this.valid}}let bo=null;class fe extends Zt{static get utcInstance(){return bo===null&&(bo=new fe(0)),bo}static instance(n){return n===0?fe.utcInstance:new fe(n)}static parseSpecifier(n){if(n){const o=n.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(o)return new fe(Nn(o[1],o[2]))}return null}constructor(n){super(),this.fixed=n}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Tn(this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(n,o){return Tn(this.fixed,o)}get isUniversal(){return!0}offset(){return this.fixed}equals(n){return n.type==="fixed"&&n.fixed===this.fixed}get isValid(){return!0}}class Yf extends Zt{constructor(n){super(),this.zoneName=n}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Je(e,n){if(I(e)||e===null)return n;if(e instanceof Zt)return e;if(Nf(e)){const o=e.toLowerCase();return o==="local"||o==="system"?n:o==="utc"||o==="gmt"?fe.utcInstance:fe.parseSpecifier(o)||Ge.create(e)}else return at(e)?fe.instance(e):typeof e=="object"&&e.offset&&typeof e.offset=="number"?e:new Yf(e)}let Oi=()=>Date.now(),Di="system",Ai=null,Mi=null,Fi=null,Ii;class oe{static get now(){return Oi}static set now(n){Oi=n}static set defaultZone(n){Di=n}static get defaultZone(){return Je(Di,xo.instance)}static get defaultLocale(){return Ai}static set defaultLocale(n){Ai=n}static get defaultNumberingSystem(){return Mi}static set defaultNumberingSystem(n){Mi=n}static get defaultOutputCalendar(){return Fi}static set defaultOutputCalendar(n){Fi=n}static get throwOnInvalid(){return Ii}static set throwOnInvalid(n){Ii=n}static resetCaches(){J.resetCache(),Ge.resetCache()}}let $i={};function Xf(e,n={}){const o=JSON.stringify([e,n]);let i=$i[o];return i||(i=new Intl.ListFormat(e,n),$i[o]=i),i}let Co={};function wo(e,n={}){const o=JSON.stringify([e,n]);let i=Co[o];return i||(i=new Intl.DateTimeFormat(e,n),Co[o]=i),i}let Vo={};function Jf(e,n={}){const o=JSON.stringify([e,n]);let i=Vo[o];return i||(i=new Intl.NumberFormat(e,n),Vo[o]=i),i}let Eo={};function Qf(e,n={}){const{base:o,...i}=n,l=JSON.stringify([e,i]);let r=Eo[l];return r||(r=new Intl.RelativeTimeFormat(e,n),Eo[l]=r),r}let Yt=null;function vf(){return Yt||(Yt=new Intl.DateTimeFormat().resolvedOptions().locale,Yt)}function ep(e){const n=e.indexOf("-u-");if(n===-1)return[e];{let o;const i=e.substring(0,n);try{o=wo(e).resolvedOptions()}catch{o=wo(i).resolvedOptions()}const{numberingSystem:l,calendar:r}=o;return[i,l,r]}}function tp(e,n,o){return(o||n)&&(e+="-u",o&&(e+=`-ca-${o}`),n&&(e+=`-nu-${n}`)),e}function np(e){const n=[];for(let o=1;o<=12;o++){const i=S.utc(2016,o,1);n.push(e(i))}return n}function op(e){const n=[];for(let o=1;o<=7;o++){const i=S.utc(2016,11,13+o);n.push(e(i))}return n}function Mn(e,n,o,i,l){const r=e.listingMode(o);return r==="error"?null:r==="en"?i(n):l(n)}function rp(e){return e.numberingSystem&&e.numberingSystem!=="latn"?!1:e.numberingSystem==="latn"||!e.locale||e.locale.startsWith("en")||new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem==="latn"}class ip{constructor(n,o,i){this.padTo=i.padTo||0,this.floor=i.floor||!1;const{padTo:l,floor:r,...a}=i;if(!o||Object.keys(a).length>0){const s={useGrouping:!1,...i};i.padTo>0&&(s.minimumIntegerDigits=i.padTo),this.inf=Jf(n,s)}}format(n){if(this.inf){const o=this.floor?Math.floor(n):n;return this.inf.format(o)}else{const o=this.floor?Math.floor(n):yo(n,3);return te(o,this.padTo)}}}class lp{constructor(n,o,i){this.opts=i;let l;if(n.zone.isUniversal){const a=-1*(n.offset/60),s=a>=0?`Etc/GMT+${a}`:`Etc/GMT${a}`;n.offset!==0&&Ge.create(s).valid?(l=s,this.dt=n):(l="UTC",i.timeZoneName?this.dt=n:this.dt=n.offset===0?n:S.fromMillis(n.ts+n.offset*60*1e3))}else n.zone.type==="system"?this.dt=n:(this.dt=n,l=n.zone.name);const r={...this.opts};l&&(r.timeZone=l),this.dtf=wo(o,r)}format(){return this.dtf.format(this.dt.toJSDate())}formatToParts(){return this.dtf.formatToParts(this.dt.toJSDate())}resolvedOptions(){return this.dtf.resolvedOptions()}}class ap{constructor(n,o,i){this.opts={style:"long",...i},!o&&_i()&&(this.rtf=Qf(n,i))}format(n,o){return this.rtf?this.rtf.format(n,o):Hf(o,n,this.opts.numeric,this.opts.style!=="long")}formatToParts(n,o){return this.rtf?this.rtf.formatToParts(n,o):[]}}class J{static fromOpts(n){return J.create(n.locale,n.numberingSystem,n.outputCalendar,n.defaultToEN)}static create(n,o,i,l=!1){const r=n||oe.defaultLocale,a=r||(l?"en-US":vf()),s=o||oe.defaultNumberingSystem,c=i||oe.defaultOutputCalendar;return new J(a,s,c,r)}static resetCache(){Yt=null,Co={},Vo={},Eo={}}static fromObject({locale:n,numberingSystem:o,outputCalendar:i}={}){return J.create(n,o,i)}constructor(n,o,i,l){const[r,a,s]=ep(n);this.locale=r,this.numberingSystem=o||a||null,this.outputCalendar=i||s||null,this.intl=tp(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=l,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=rp(this)),this.fastNumbersCached}listingMode(){const n=this.isEnglish(),o=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return n&&o?"en":"intl"}clone(n){return!n||Object.getOwnPropertyNames(n).length===0?this:J.create(n.locale||this.specifiedLocale,n.numberingSystem||this.numberingSystem,n.outputCalendar||this.outputCalendar,n.defaultToEN||!1)}redefaultToEN(n={}){return this.clone({...n,defaultToEN:!0})}redefaultToSystem(n={}){return this.clone({...n,defaultToEN:!1})}months(n,o=!1,i=!0){return Mn(this,n,i,wi,()=>{const l=o?{month:n,day:"numeric"}:{month:n},r=o?"format":"standalone";return this.monthsCache[r][n]||(this.monthsCache[r][n]=np(a=>this.extract(a,l,"month"))),this.monthsCache[r][n]})}weekdays(n,o=!1,i=!0){return Mn(this,n,i,Bi,()=>{const l=o?{weekday:n,year:"numeric",month:"long",day:"numeric"}:{weekday:n},r=o?"format":"standalone";return this.weekdaysCache[r][n]||(this.weekdaysCache[r][n]=op(a=>this.extract(a,l,"weekday"))),this.weekdaysCache[r][n]})}meridiems(n=!0){return Mn(this,void 0,n,()=>Ni,()=>{if(!this.meridiemCache){const o={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[S.utc(2016,11,13,9),S.utc(2016,11,13,19)].map(i=>this.extract(i,o,"dayperiod"))}return this.meridiemCache})}eras(n,o=!0){return Mn(this,n,o,Si,()=>{const i={era:n};return this.eraCache[n]||(this.eraCache[n]=[S.utc(-40,1,1),S.utc(2017,1,1)].map(l=>this.extract(l,i,"era"))),this.eraCache[n]})}extract(n,o,i){const l=this.dtFormatter(n,o),r=l.formatToParts(),a=r.find(s=>s.type.toLowerCase()===i);return a?a.value:null}numberFormatter(n={}){return new ip(this.intl,n.forceSimple||this.fastNumbers,n)}dtFormatter(n,o={}){return new lp(n,this.intl,o)}relFormatter(n={}){return new ap(this.intl,this.isEnglish(),n)}listFormatter(n={}){return Xf(this.intl,n)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(n){return this.locale===n.locale&&this.numberingSystem===n.numberingSystem&&this.outputCalendar===n.outputCalendar}}function bt(...e){const n=e.reduce((o,i)=>o+i.source,"");return RegExp(`^${n}$`)}function ct(...e){return n=>e.reduce(([o,i,l],r)=>{const[a,s,c]=r(n,l);return[{...o,...a},i||s,c]},[{},null,1]).slice(0,2)}function Ct(e,...n){if(e==null)return[null,null];for(const[o,i]of n){const l=o.exec(e);if(l)return i(l)}return[null,null]}function Li(...e){return(n,o)=>{const i={};let l;for(l=0;l<e.length;l++)i[e[l]]=Xe(n[o+l]);return[i,null,o+l]}}const Pi=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Bo=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Ui=RegExp(`${Bo.source}${Pi.source}?`),No=RegExp(`(?:T${Ui.source})?`),sp=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,cp=/(\d{4})-?W(\d\d)(?:-?(\d))?/,dp=/(\d{4})-?(\d{3})/,up=Li("weekYear","weekNumber","weekDay"),mp=Li("year","ordinal"),fp=/(\d{4})-(\d\d)-(\d\d)/,ji=RegExp(`${Bo.source} ?(?:${Pi.source}|(${Af.source}))?`),pp=RegExp(`(?: ${ji.source})?`);function wt(e,n,o){const i=e[n];return I(i)?o:Xe(i)}function Ri(e,n){return[{year:wt(e,n),month:wt(e,n+1,1),day:wt(e,n+2,1)},null,n+3]}function dt(e,n){return[{hours:wt(e,n,0),minutes:wt(e,n+1,0),seconds:wt(e,n+2,0),milliseconds:ho(e[n+3])},null,n+4]}function Vt(e,n){const o=!e[n]&&!e[n+1],i=Nn(e[n+1],e[n+2]),l=o?null:fe.instance(i);return[{},l,n+3]}function zi(e,n){const o=e[n]?Ge.create(e[n]):null;return[{},o,n+1]}const hp=RegExp(`^T?${Bo.source}$`),yp=/^-?P(?:(?:(-?\d{1,9}(?:\.\d{1,9})?)Y)?(?:(-?\d{1,9}(?:\.\d{1,9})?)M)?(?:(-?\d{1,9}(?:\.\d{1,9})?)W)?(?:(-?\d{1,9}(?:\.\d{1,9})?)D)?(?:T(?:(-?\d{1,9}(?:\.\d{1,9})?)H)?(?:(-?\d{1,9}(?:\.\d{1,9})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,9}))?S)?)?)$/;function gp(e){const[n,o,i,l,r,a,s,c,d]=e,u=n[0]==="-",m=c&&c[0]==="-",f=(p,h=!1)=>p!==void 0&&(h||p&&u)?-p:p;return[{years:f(st(o)),months:f(st(i)),weeks:f(st(l)),days:f(st(r)),hours:f(st(a)),minutes:f(st(s)),seconds:f(st(c),c==="-0"),milliseconds:f(ho(d),m)}]}const _p={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function So(e,n,o,i,l,r,a){const s={year:n.length===2?_o(Xe(n)):Xe(n),month:Ci.indexOf(o)+1,day:Xe(i),hour:Xe(l),minute:Xe(r)};return a&&(s.second=Xe(a)),e&&(s.weekday=e.length>3?Vi.indexOf(e)+1:Ei.indexOf(e)+1),s}const kp=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function xp(e){const[,n,o,i,l,r,a,s,c,d,u,m]=e,f=So(n,l,i,o,r,a,s);let p;return c?p=_p[c]:d?p=0:p=Nn(u,m),[f,new fe(p)]}function bp(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const Cp=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,wp=/^(Monday|Tuesday|Wedsday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Vp=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Hi(e){const[,n,o,i,l,r,a,s]=e;return[So(n,l,i,o,r,a,s),fe.utcInstance]}function Ep(e){const[,n,o,i,l,r,a,s]=e;return[So(n,s,o,i,l,r,a),fe.utcInstance]}const Bp=bt(sp,No),Np=bt(cp,No),Sp=bt(dp,No),Tp=bt(Ui),Op=ct(Ri,dt,Vt),Dp=ct(up,dt,Vt),Ap=ct(mp,dt,Vt),Mp=ct(dt,Vt);function Fp(e){return Ct(e,[Bp,Op],[Np,Dp],[Sp,Ap],[Tp,Mp])}function Ip(e){return Ct(bp(e),[kp,xp])}function $p(e){return Ct(e,[Cp,Hi],[wp,Hi],[Vp,Ep])}function Lp(e){return Ct(e,[yp,gp])}const Pp=ct(dt);function Up(e){return Ct(e,[hp,Pp])}const jp=bt(fp,pp),Rp=bt(ji),zp=ct(Ri,dt,Vt,zi),Hp=ct(dt,Vt,zi);function qp(e){return Ct(e,[jp,zp],[Rp,Hp])}const Gp="Invalid Duration",qi={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},Wp={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...qi},Se=146097/400,Et=146097/4800,Kp={years:{quarters:4,months:12,weeks:Se/7,days:Se,hours:Se*24,minutes:Se*24*60,seconds:Se*24*60*60,milliseconds:Se*24*60*60*1e3},quarters:{months:3,weeks:Se/28,days:Se/4,hours:Se*24/4,minutes:Se*24*60/4,seconds:Se*24*60*60/4,milliseconds:Se*24*60*60*1e3/4},months:{weeks:Et/7,days:Et,hours:Et*24,minutes:Et*24*60,seconds:Et*24*60*60,milliseconds:Et*24*60*60*1e3},...qi},ut=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Zp=ut.slice(0).reverse();function mt(e,n,o=!1){const i={values:o?n.values:{...e.values,...n.values||{}},loc:e.loc.clone(n.loc),conversionAccuracy:n.conversionAccuracy||e.conversionAccuracy};return new L(i)}function Yp(e){return e<0?Math.floor(e):Math.ceil(e)}function Gi(e,n,o,i,l){const r=e[l][o],a=n[o]/r,s=Math.sign(a)===Math.sign(i[l]),c=!s&&i[l]!==0&&Math.abs(a)<=1?Yp(a):Math.trunc(a);i[l]+=c,n[o]-=c*r}function Xp(e,n){Zp.reduce((o,i)=>I(n[i])?o:(o&&Gi(e,n,o,n,i),i),null)}class L{constructor(n){const o=n.conversionAccuracy==="longterm"||!1;this.values=n.values,this.loc=n.loc||J.create(),this.conversionAccuracy=o?"longterm":"casual",this.invalid=n.invalid||null,this.matrix=o?Kp:Wp,this.isLuxonDuration=!0}static fromMillis(n,o){return L.fromObject({milliseconds:n},o)}static fromObject(n,o={}){if(n==null||typeof n!="object")throw new Ne(`Duration.fromObject: argument expected to be an object, got ${n===null?"null":typeof n}`);return new L({values:Sn(n,L.normalizeUnit),loc:J.fromObject(o),conversionAccuracy:o.conversionAccuracy})}static fromDurationLike(n){if(at(n))return L.fromMillis(n);if(L.isDuration(n))return n;if(typeof n=="object")return L.fromObject(n);throw new Ne(`Unknown duration argument ${n} of type ${typeof n}`)}static fromISO(n,o){const[i]=Lp(n);return i?L.fromObject(i,o):L.invalid("unparsable",`the input "${n}" can't be parsed as ISO 8601`)}static fromISOTime(n,o){const[i]=Up(n);return i?L.fromObject(i,o):L.invalid("unparsable",`the input "${n}" can't be parsed as ISO 8601`)}static invalid(n,o=null){if(!n)throw new Ne("need to specify a reason the Duration is invalid");const i=n instanceof Ae?n:new Ae(n,o);if(oe.throwOnInvalid)throw new Vf(i);return new L({invalid:i})}static normalizeUnit(n){const o={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[n&&n.toLowerCase()];if(!o)throw new Qr(n);return o}static isDuration(n){return n&&n.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(n,o={}){const i={...o,floor:o.round!==!1&&o.floor!==!1};return this.isValid?_e.create(this.loc,i).formatDurationFromString(this,n):Gp}toHuman(n={}){const o=ut.map(i=>{const l=this.values[i];return I(l)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...n,unit:i.slice(0,-1)}).format(l)}).filter(i=>i);return this.loc.listFormatter({type:"conjunction",style:n.listStyle||"narrow",...n}).format(o)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let n="P";return this.years!==0&&(n+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(n+=this.months+this.quarters*3+"M"),this.weeks!==0&&(n+=this.weeks+"W"),this.days!==0&&(n+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(n+="T"),this.hours!==0&&(n+=this.hours+"H"),this.minutes!==0&&(n+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(n+=yo(this.seconds+this.milliseconds/1e3,3)+"S"),n==="P"&&(n+="T0S"),n}toISOTime(n={}){if(!this.isValid)return null;const o=this.toMillis();if(o<0||o>=864e5)return null;n={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...n};const i=this.shiftTo("hours","minutes","seconds","milliseconds");let l=n.format==="basic"?"hhmm":"hh:mm";(!n.suppressSeconds||i.seconds!==0||i.milliseconds!==0)&&(l+=n.format==="basic"?"ss":":ss",(!n.suppressMilliseconds||i.milliseconds!==0)&&(l+=".SSS"));let r=i.toFormat(l);return n.includePrefix&&(r="T"+r),r}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(n){if(!this.isValid)return this;const o=L.fromDurationLike(n),i={};for(const l of ut)(xt(o.values,l)||xt(this.values,l))&&(i[l]=o.get(l)+this.get(l));return mt(this,{values:i},!0)}minus(n){if(!this.isValid)return this;const o=L.fromDurationLike(n);return this.plus(o.negate())}mapUnits(n){if(!this.isValid)return this;const o={};for(const i of Object.keys(this.values))o[i]=bi(n(this.values[i],i));return mt(this,{values:o},!0)}get(n){return this[L.normalizeUnit(n)]}set(n){if(!this.isValid)return this;const o={...this.values,...Sn(n,L.normalizeUnit)};return mt(this,{values:o})}reconfigure({locale:n,numberingSystem:o,conversionAccuracy:i}={}){const l=this.loc.clone({locale:n,numberingSystem:o}),r={loc:l};return i&&(r.conversionAccuracy=i),mt(this,r)}as(n){return this.isValid?this.shiftTo(n).get(n):NaN}normalize(){if(!this.isValid)return this;const n=this.toObject();return Xp(this.matrix,n),mt(this,{values:n},!0)}shiftTo(...n){if(!this.isValid)return this;if(n.length===0)return this;n=n.map(a=>L.normalizeUnit(a));const o={},i={},l=this.toObject();let r;for(const a of ut)if(n.indexOf(a)>=0){r=a;let s=0;for(const d in i)s+=this.matrix[d][a]*i[d],i[d]=0;at(l[a])&&(s+=l[a]);const c=Math.trunc(s);o[a]=c,i[a]=(s*1e3-c*1e3)/1e3;for(const d in l)ut.indexOf(d)>ut.indexOf(a)&&Gi(this.matrix,l,d,o,a)}else at(l[a])&&(i[a]=l[a]);for(const a in i)i[a]!==0&&(o[r]+=a===r?i[a]:i[a]/this.matrix[r][a]);return mt(this,{values:o},!0).normalize()}negate(){if(!this.isValid)return this;const n={};for(const o of Object.keys(this.values))n[o]=this.values[o]===0?0:-this.values[o];return mt(this,{values:n},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(n){if(!this.isValid||!n.isValid||!this.loc.equals(n.loc))return!1;function o(i,l){return i===void 0||i===0?l===void 0||l===0:i===l}for(const i of ut)if(!o(this.values[i],n.values[i]))return!1;return!0}}const Xt="Invalid Interval";function Jp(e,n){return!e||!e.isValid?Q.invalid("missing or invalid start"):!n||!n.isValid?Q.invalid("missing or invalid end"):n<e?Q.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${n.toISO()}`):null}class Q{constructor(n){this.s=n.start,this.e=n.end,this.invalid=n.invalid||null,this.isLuxonInterval=!0}static invalid(n,o=null){if(!n)throw new Ne("need to specify a reason the Interval is invalid");const i=n instanceof Ae?n:new Ae(n,o);if(oe.throwOnInvalid)throw new wf(i);return new Q({invalid:i})}static fromDateTimes(n,o){const i=vt(n),l=vt(o),r=Jp(i,l);return r??new Q({start:i,end:l})}static after(n,o){const i=L.fromDurationLike(o),l=vt(n);return Q.fromDateTimes(l,l.plus(i))}static before(n,o){const i=L.fromDurationLike(o),l=vt(n);return Q.fromDateTimes(l.minus(i),l)}static fromISO(n,o){const[i,l]=(n||"").split("/",2);if(i&&l){let r,a;try{r=S.fromISO(i,o),a=r.isValid}catch{a=!1}let s,c;try{s=S.fromISO(l,o),c=s.isValid}catch{c=!1}if(a&&c)return Q.fromDateTimes(r,s);if(a){const d=L.fromISO(l,o);if(d.isValid)return Q.after(r,d)}else if(c){const d=L.fromISO(i,o);if(d.isValid)return Q.before(s,d)}}return Q.invalid("unparsable",`the input "${n}" can't be parsed as ISO 8601`)}static isInterval(n){return n&&n.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(n="milliseconds"){return this.isValid?this.toDuration(n).get(n):NaN}count(n="milliseconds"){if(!this.isValid)return NaN;const o=this.start.startOf(n),i=this.end.startOf(n);return Math.floor(i.diff(o,n).get(n))+1}hasSame(n){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,n):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(n){return this.isValid?this.s>n:!1}isBefore(n){return this.isValid?this.e<=n:!1}contains(n){return this.isValid?this.s<=n&&this.e>n:!1}set({start:n,end:o}={}){return this.isValid?Q.fromDateTimes(n||this.s,o||this.e):this}splitAt(...n){if(!this.isValid)return[];const o=n.map(vt).filter(a=>this.contains(a)).sort(),i=[];let{s:l}=this,r=0;for(;l<this.e;){const a=o[r]||this.e,s=+a>+this.e?this.e:a;i.push(Q.fromDateTimes(l,s)),l=s,r+=1}return i}splitBy(n){const o=L.fromDurationLike(n);if(!this.isValid||!o.isValid||o.as("milliseconds")===0)return[];let{s:i}=this,l=1,r;const a=[];for(;i<this.e;){const s=this.start.plus(o.mapUnits(c=>c*l));r=+s>+this.e?this.e:s,a.push(Q.fromDateTimes(i,r)),i=r,l+=1}return a}divideEqually(n){return this.isValid?this.splitBy(this.length()/n).slice(0,n):[]}overlaps(n){return this.e>n.s&&this.s<n.e}abutsStart(n){return this.isValid?+this.e==+n.s:!1}abutsEnd(n){return this.isValid?+n.e==+this.s:!1}engulfs(n){return this.isValid?this.s<=n.s&&this.e>=n.e:!1}equals(n){return!this.isValid||!n.isValid?!1:this.s.equals(n.s)&&this.e.equals(n.e)}intersection(n){if(!this.isValid)return this;const o=this.s>n.s?this.s:n.s,i=this.e<n.e?this.e:n.e;return o>=i?null:Q.fromDateTimes(o,i)}union(n){if(!this.isValid)return this;const o=this.s<n.s?this.s:n.s,i=this.e>n.e?this.e:n.e;return Q.fromDateTimes(o,i)}static merge(n){const[o,i]=n.sort((l,r)=>l.s-r.s).reduce(([l,r],a)=>r?r.overlaps(a)||r.abutsStart(a)?[l,r.union(a)]:[l.concat([r]),a]:[l,a],[[],null]);return i&&o.push(i),o}static xor(n){let o=null,i=0;const l=[],r=n.map(c=>[{time:c.s,type:"s"},{time:c.e,type:"e"}]),a=Array.prototype.concat(...r),s=a.sort((c,d)=>c.time-d.time);for(const c of s)i+=c.type==="s"?1:-1,i===1?o=c.time:(o&&+o!=+c.time&&l.push(Q.fromDateTimes(o,c.time)),o=null);return Q.merge(l)}difference(...n){return Q.xor([this].concat(n)).map(o=>this.intersection(o)).filter(o=>o&&!o.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:Xt}toISO(n){return this.isValid?`${this.s.toISO(n)}/${this.e.toISO(n)}`:Xt}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Xt}toISOTime(n){return this.isValid?`${this.s.toISOTime(n)}/${this.e.toISOTime(n)}`:Xt}toFormat(n,{separator:o=" – "}={}){return this.isValid?`${this.s.toFormat(n)}${o}${this.e.toFormat(n)}`:Xt}toDuration(n,o){return this.isValid?this.e.diff(this.s,n,o):L.invalid(this.invalidReason)}mapEndpoints(n){return Q.fromDateTimes(n(this.s),n(this.e))}}let Fn=class{static hasDST(n=oe.defaultZone){const o=S.now().setZone(n).set({month:12});return!n.isUniversal&&o.offset!==o.set({month:6}).offset}static isValidIANAZone(n){return Ge.isValidZone(n)}static normalizeZone(n){return Je(n,oe.defaultZone)}static months(n="long",{locale:o=null,numberingSystem:i=null,locObj:l=null,outputCalendar:r="gregory"}={}){return(l||J.create(o,i,r)).months(n)}static monthsFormat(n="long",{locale:o=null,numberingSystem:i=null,locObj:l=null,outputCalendar:r="gregory"}={}){return(l||J.create(o,i,r)).months(n,!0)}static weekdays(n="long",{locale:o=null,numberingSystem:i=null,locObj:l=null}={}){return(l||J.create(o,i,null)).weekdays(n)}static weekdaysFormat(n="long",{locale:o=null,numberingSystem:i=null,locObj:l=null}={}){return(l||J.create(o,i,null)).weekdays(n,!0)}static meridiems({locale:n=null}={}){return J.create(n).meridiems()}static eras(n="short",{locale:o=null}={}){return J.create(o,null,"gregory").eras(n)}static features(){return{relative:_i()}}};function Wi(e,n){const o=l=>l.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),i=o(n)-o(e);return Math.floor(L.fromMillis(i).as("days"))}function Qp(e,n,o){const i=[["years",(s,c)=>c.year-s.year],["quarters",(s,c)=>c.quarter-s.quarter],["months",(s,c)=>c.month-s.month+(c.year-s.year)*12],["weeks",(s,c)=>{const d=Wi(s,c);return(d-d%7)/7}],["days",Wi]],l={};let r,a;for(const[s,c]of i)if(o.indexOf(s)>=0){r=s;let d=c(e,n);a=e.plus({[s]:d}),a>n?(e=e.plus({[s]:d-1}),d-=1):e=a,l[s]=d}return[e,l,a,r]}function vp(e,n,o,i){let[l,r,a,s]=Qp(e,n,o);const c=n-l,d=o.filter(m=>["hours","minutes","seconds","milliseconds"].indexOf(m)>=0);d.length===0&&(a<n&&(a=l.plus({[s]:1})),a!==l&&(r[s]=(r[s]||0)+c/(a-l)));const u=L.fromObject(r,i);return d.length>0?L.fromMillis(c,i).shiftTo(...d).plus(u):u}const To={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},Ki={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},eh=To.hanidec.replace(/[\[|\]]/g,"").split("");function th(e){let n=parseInt(e,10);if(isNaN(n)){n="";for(let o=0;o<e.length;o++){const i=e.charCodeAt(o);if(e[o].search(To.hanidec)!==-1)n+=eh.indexOf(e[o]);else for(const l in Ki){const[r,a]=Ki[l];i>=r&&i<=a&&(n+=i-r)}}return parseInt(n,10)}else return n}function Me({numberingSystem:e},n=""){return new RegExp(`${To[e||"latn"]}${n}`)}const nh="missing Intl.DateTimeFormat.formatToParts support";function U(e,n=o=>o){return{regex:e,deser:([o])=>n(th(o))}}const Zi=`( |${String.fromCharCode(160)})`,Yi=new RegExp(Zi,"g");function oh(e){return e.replace(/\./g,"\\.?").replace(Yi,Zi)}function Xi(e){return e.replace(/\./g,"").replace(Yi," ").toLowerCase()}function Fe(e,n){return e===null?null:{regex:RegExp(e.map(oh).join("|")),deser:([o])=>e.findIndex(i=>Xi(o)===Xi(i))+n}}function Ji(e,n){return{regex:e,deser:([,o,i])=>Nn(o,i),groups:n}}function Oo(e){return{regex:e,deser:([n])=>n}}function rh(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function ih(e,n){const o=Me(n),i=Me(n,"{2}"),l=Me(n,"{3}"),r=Me(n,"{4}"),a=Me(n,"{6}"),s=Me(n,"{1,2}"),c=Me(n,"{1,3}"),d=Me(n,"{1,6}"),u=Me(n,"{1,9}"),m=Me(n,"{2,4}"),f=Me(n,"{4,6}"),p=x=>({regex:RegExp(rh(x.val)),deser:([F])=>F,literal:!0}),y=(x=>{if(e.literal)return p(x);switch(x.val){case"G":return Fe(n.eras("short",!1),0);case"GG":return Fe(n.eras("long",!1),0);case"y":return U(d);case"yy":return U(m,_o);case"yyyy":return U(r);case"yyyyy":return U(f);case"yyyyyy":return U(a);case"M":return U(s);case"MM":return U(i);case"MMM":return Fe(n.months("short",!0,!1),1);case"MMMM":return Fe(n.months("long",!0,!1),1);case"L":return U(s);case"LL":return U(i);case"LLL":return Fe(n.months("short",!1,!1),1);case"LLLL":return Fe(n.months("long",!1,!1),1);case"d":return U(s);case"dd":return U(i);case"o":return U(c);case"ooo":return U(l);case"HH":return U(i);case"H":return U(s);case"hh":return U(i);case"h":return U(s);case"mm":return U(i);case"m":return U(s);case"q":return U(s);case"qq":return U(i);case"s":return U(s);case"ss":return U(i);case"S":return U(c);case"SSS":return U(l);case"u":return Oo(u);case"uu":return Oo(s);case"uuu":return U(o);case"a":return Fe(n.meridiems(),0);case"kkkk":return U(r);case"kk":return U(m,_o);case"W":return U(s);case"WW":return U(i);case"E":case"c":return U(o);case"EEE":return Fe(n.weekdays("short",!1,!1),1);case"EEEE":return Fe(n.weekdays("long",!1,!1),1);case"ccc":return Fe(n.weekdays("short",!0,!1),1);case"cccc":return Fe(n.weekdays("long",!0,!1),1);case"Z":case"ZZ":return Ji(new RegExp(`([+-]${s.source})(?::(${i.source}))?`),2);case"ZZZ":return Ji(new RegExp(`([+-]${s.source})(${i.source})?`),2);case"z":return Oo(/[a-z_+-/]{1,256}?/i);default:return p(x)}})(e)||{invalidReason:nh};return y.token=e,y}const lh={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"}};function ah(e,n,o){const{type:i,value:l}=e;if(i==="literal")return{literal:!0,val:l};const r=o[i];let a=lh[i];if(typeof a=="object"&&(a=a[r]),a)return{literal:!1,val:a}}function sh(e){return[`^${e.map(o=>o.regex).reduce((o,i)=>`${o}(${i.source})`,"")}$`,e]}function ch(e,n,o){const i=e.match(n);if(i){const l={};let r=1;for(const a in o)if(xt(o,a)){const s=o[a],c=s.groups?s.groups+1:1;!s.literal&&s.token&&(l[s.token.val[0]]=s.deser(i.slice(r,r+c))),r+=c}return[i,l]}else return[i,{}]}function dh(e){const n=r=>{switch(r){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let o=null,i;return I(e.z)||(o=Ge.create(e.z)),I(e.Z)||(o||(o=new fe(e.Z)),i=e.Z),I(e.q)||(e.M=(e.q-1)*3+1),I(e.h)||(e.h<12&&e.a===1?e.h+=12:e.h===12&&e.a===0&&(e.h=0)),e.G===0&&e.y&&(e.y=-e.y),I(e.u)||(e.S=ho(e.u)),[Object.keys(e).reduce((r,a)=>{const s=n(a);return s&&(r[s]=e[a]),r},{}),o,i]}let Do=null;function uh(){return Do||(Do=S.fromMillis(1555555555555)),Do}function mh(e,n){if(e.literal)return e;const o=_e.macroTokenToFormatOpts(e.val);if(!o)return e;const r=_e.create(n,o).formatDateTimeParts(uh()).map(a=>ah(a,n,o));return r.includes(void 0)?e:r}function fh(e,n){return Array.prototype.concat(...e.map(o=>mh(o,n)))}function Qi(e,n,o){const i=fh(_e.parseFormat(o),e),l=i.map(a=>ih(a,e)),r=l.find(a=>a.invalidReason);if(r)return{input:n,tokens:i,invalidReason:r.invalidReason};{const[a,s]=sh(l),c=RegExp(a,"i"),[d,u]=ch(n,c,s),[m,f,p]=u?dh(u):[null,null,void 0];if(xt(u,"a")&&xt(u,"H"))throw new Gt("Can't include meridiem when specifying 24-hour format");return{input:n,tokens:i,regex:c,rawMatches:d,matches:u,result:m,zone:f,specificOffset:p}}}function ph(e,n,o){const{result:i,zone:l,specificOffset:r,invalidReason:a}=Qi(e,n,o);return[i,l,r,a]}const vi=[0,31,59,90,120,151,181,212,243,273,304,334],el=[0,31,60,91,121,152,182,213,244,274,305,335];function Te(e,n){return new Ae("unit out of range",`you specified ${n} (of type ${typeof n}) as a ${e}, which is invalid`)}function tl(e,n,o){const i=new Date(Date.UTC(e,n-1,o));e<100&&e>=0&&i.setUTCFullYear(i.getUTCFullYear()-1900);const l=i.getUTCDay();return l===0?7:l}function nl(e,n,o){return o+(Wt(e)?el:vi)[n-1]}function ol(e,n){const o=Wt(e)?el:vi,i=o.findIndex(r=>r<n),l=n-o[i];return{month:i+1,day:l}}function Ao(e){const{year:n,month:o,day:i}=e,l=nl(n,o,i),r=tl(n,o,i);let a=Math.floor((l-r+10)/7),s;return a<1?(s=n-1,a=Bn(s)):a>Bn(n)?(s=n+1,a=1):s=n,{weekYear:s,weekNumber:a,weekday:r,...On(e)}}function rl(e){const{weekYear:n,weekNumber:o,weekday:i}=e,l=tl(n,1,4),r=Kt(n);let a=o*7+i-l-3,s;a<1?(s=n-1,a+=Kt(s)):a>r?(s=n+1,a-=Kt(n)):s=n;const{month:c,day:d}=ol(s,a);return{year:s,month:c,day:d,...On(e)}}function Mo(e){const{year:n,month:o,day:i}=e,l=nl(n,o,i);return{year:n,ordinal:l,...On(e)}}function il(e){const{year:n,ordinal:o}=e,{month:i,day:l}=ol(n,o);return{year:n,month:i,day:l,...On(e)}}function hh(e){const n=Vn(e.weekYear),o=qe(e.weekNumber,1,Bn(e.weekYear)),i=qe(e.weekday,1,7);return n?o?i?!1:Te("weekday",e.weekday):Te("week",e.week):Te("weekYear",e.weekYear)}function yh(e){const n=Vn(e.year),o=qe(e.ordinal,1,Kt(e.year));return n?o?!1:Te("ordinal",e.ordinal):Te("year",e.year)}function ll(e){const n=Vn(e.year),o=qe(e.month,1,12),i=qe(e.day,1,En(e.year,e.month));return n?o?i?!1:Te("day",e.day):Te("month",e.month):Te("year",e.year)}function al(e){const{hour:n,minute:o,second:i,millisecond:l}=e,r=qe(n,0,23)||n===24&&o===0&&i===0&&l===0,a=qe(o,0,59),s=qe(i,0,59),c=qe(l,0,999);return r?a?s?c?!1:Te("millisecond",l):Te("second",i):Te("minute",o):Te("hour",n)}const Fo="Invalid DateTime",sl=864e13;function In(e){return new Ae("unsupported zone",`the zone "${e.name}" is not supported`)}function Io(e){return e.weekData===null&&(e.weekData=Ao(e.c)),e.weekData}function Jt(e,n){const o={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new S({...o,...n,old:o})}function cl(e,n,o){let i=e-n*60*1e3;const l=o.offset(i);if(n===l)return[i,n];i-=(l-n)*60*1e3;const r=o.offset(i);return l===r?[i,l]:[e-Math.min(l,r)*60*1e3,Math.max(l,r)]}function dl(e,n){e+=n*60*1e3;const o=new Date(e);return{year:o.getUTCFullYear(),month:o.getUTCMonth()+1,day:o.getUTCDate(),hour:o.getUTCHours(),minute:o.getUTCMinutes(),second:o.getUTCSeconds(),millisecond:o.getUTCMilliseconds()}}function $n(e,n,o){return cl(go(e),n,o)}function ul(e,n){const o=e.o,i=e.c.year+Math.trunc(n.years),l=e.c.month+Math.trunc(n.months)+Math.trunc(n.quarters)*3,r={...e.c,year:i,month:l,day:Math.min(e.c.day,En(i,l))+Math.trunc(n.days)+Math.trunc(n.weeks)*7},a=L.fromObject({years:n.years-Math.trunc(n.years),quarters:n.quarters-Math.trunc(n.quarters),months:n.months-Math.trunc(n.months),weeks:n.weeks-Math.trunc(n.weeks),days:n.days-Math.trunc(n.days),hours:n.hours,minutes:n.minutes,seconds:n.seconds,milliseconds:n.milliseconds}).as("milliseconds"),s=go(r);let[c,d]=cl(s,o,e.zone);return a!==0&&(c+=a,d=e.zone.offset(c)),{ts:c,o:d}}function Qt(e,n,o,i,l,r){const{setZone:a,zone:s}=o;if(e&&Object.keys(e).length!==0){const c=n||s,d=S.fromObject(e,{...o,zone:c,specificOffset:r});return a?d:d.setZone(s)}else return S.invalid(new Ae("unparsable",`the input "${l}" can't be parsed as ${i}`))}function Ln(e,n,o=!0){return e.isValid?_e.create(J.create("en-US"),{allowZ:o,forceSimple:!0}).formatDateTimeFromString(e,n):null}function $o(e,n){const o=e.c.year>9999||e.c.year<0;let i="";return o&&e.c.year>=0&&(i+="+"),i+=te(e.c.year,o?6:4),n?(i+="-",i+=te(e.c.month),i+="-",i+=te(e.c.day)):(i+=te(e.c.month),i+=te(e.c.day)),i}function ml(e,n,o,i,l){let r=te(e.c.hour);return n?(r+=":",r+=te(e.c.minute),(e.c.second!==0||!o)&&(r+=":")):r+=te(e.c.minute),(e.c.second!==0||!o)&&(r+=te(e.c.second),(e.c.millisecond!==0||!i)&&(r+=".",r+=te(e.c.millisecond,3))),l&&(e.isOffsetFixed&&e.offset===0?r+="Z":e.o<0?(r+="-",r+=te(Math.trunc(-e.o/60)),r+=":",r+=te(Math.trunc(-e.o%60))):(r+="+",r+=te(Math.trunc(e.o/60)),r+=":",r+=te(Math.trunc(e.o%60)))),r}const fl={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},gh={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},_h={ordinal:1,hour:0,minute:0,second:0,millisecond:0},pl=["year","month","day","hour","minute","second","millisecond"],kh=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],xh=["year","ordinal","hour","minute","second","millisecond"];function hl(e){const n={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!n)throw new Qr(e);return n}function yl(e,n){const o=Je(n.zone,oe.defaultZone),i=J.fromObject(n),l=oe.now();let r,a;if(I(e.year))r=l;else{for(const d of pl)I(e[d])&&(e[d]=fl[d]);const s=ll(e)||al(e);if(s)return S.invalid(s);const c=o.offset(l);[r,a]=$n(e,c,o)}return new S({ts:r,zone:o,loc:i,o:a})}function gl(e,n,o){const i=I(o.round)?!0:o.round,l=(a,s)=>(a=yo(a,i||o.calendary?0:2,!0),n.loc.clone(o).relFormatter(o).format(a,s)),r=a=>o.calendary?n.hasSame(e,a)?0:n.startOf(a).diff(e.startOf(a),a).get(a):n.diff(e,a).get(a);if(o.unit)return l(r(o.unit),o.unit);for(const a of o.units){const s=r(a);if(Math.abs(s)>=1)return l(s,a)}return l(e>n?-0:0,o.units[o.units.length-1])}function _l(e){let n={},o;return e.length>0&&typeof e[e.length-1]=="object"?(n=e[e.length-1],o=Array.from(e).slice(0,e.length-1)):o=Array.from(e),[n,o]}class S{constructor(n){const o=n.zone||oe.defaultZone;let i=n.invalid||(Number.isNaN(n.ts)?new Ae("invalid input"):null)||(o.isValid?null:In(o));this.ts=I(n.ts)?oe.now():n.ts;let l=null,r=null;if(!i)if(n.old&&n.old.ts===this.ts&&n.old.zone.equals(o))[l,r]=[n.old.c,n.old.o];else{const s=o.offset(this.ts);l=dl(this.ts,s),i=Number.isNaN(l.year)?new Ae("invalid input"):null,l=i?null:l,r=i?null:s}this._zone=o,this.loc=n.loc||J.create(),this.invalid=i,this.weekData=null,this.c=l,this.o=r,this.isLuxonDateTime=!0}static now(){return new S({})}static local(){const[n,o]=_l(arguments),[i,l,r,a,s,c,d]=o;return yl({year:i,month:l,day:r,hour:a,minute:s,second:c,millisecond:d},n)}static utc(){const[n,o]=_l(arguments),[i,l,r,a,s,c,d]=o;return n.zone=fe.utcInstance,yl({year:i,month:l,day:r,hour:a,minute:s,second:c,millisecond:d},n)}static fromJSDate(n,o={}){const i=Sf(n)?n.valueOf():NaN;if(Number.isNaN(i))return S.invalid("invalid input");const l=Je(o.zone,oe.defaultZone);return l.isValid?new S({ts:i,zone:l,loc:J.fromObject(o)}):S.invalid(In(l))}static fromMillis(n,o={}){if(at(n))return n<-sl||n>sl?S.invalid("Timestamp out of range"):new S({ts:n,zone:Je(o.zone,oe.defaultZone),loc:J.fromObject(o)});throw new Ne(`fromMillis requires a numerical input, but received a ${typeof n} with value ${n}`)}static fromSeconds(n,o={}){if(at(n))return new S({ts:n*1e3,zone:Je(o.zone,oe.defaultZone),loc:J.fromObject(o)});throw new Ne("fromSeconds requires a numerical input")}static fromObject(n,o={}){n=n||{};const i=Je(o.zone,oe.defaultZone);if(!i.isValid)return S.invalid(In(i));const l=oe.now(),r=I(o.specificOffset)?i.offset(l):o.specificOffset,a=Sn(n,hl),s=!I(a.ordinal),c=!I(a.year),d=!I(a.month)||!I(a.day),u=c||d,m=a.weekYear||a.weekNumber,f=J.fromObject(o);if((u||s)&&m)throw new Gt("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(d&&s)throw new Gt("Can't mix ordinal dates with month/day");const p=m||a.weekday&&!u;let h,y,x=dl(l,r);p?(h=kh,y=gh,x=Ao(x)):s?(h=xh,y=_h,x=Mo(x)):(h=pl,y=fl);let F=!1;for(const W of h){const M=a[W];I(M)?F?a[W]=y[W]:a[W]=x[W]:F=!0}const R=p?hh(a):s?yh(a):ll(a),H=R||al(a);if(H)return S.invalid(H);const Z=p?rl(a):s?il(a):a,[Y,A]=$n(Z,r,i),V=new S({ts:Y,zone:i,o:A,loc:f});return a.weekday&&u&&n.weekday!==V.weekday?S.invalid("mismatched weekday",`you can't specify both a weekday of ${a.weekday} and a date of ${V.toISO()}`):V}static fromISO(n,o={}){const[i,l]=Fp(n);return Qt(i,l,o,"ISO 8601",n)}static fromRFC2822(n,o={}){const[i,l]=Ip(n);return Qt(i,l,o,"RFC 2822",n)}static fromHTTP(n,o={}){const[i,l]=$p(n);return Qt(i,l,o,"HTTP",o)}static fromFormat(n,o,i={}){if(I(n)||I(o))throw new Ne("fromFormat requires an input string and a format");const{locale:l=null,numberingSystem:r=null}=i,a=J.fromOpts({locale:l,numberingSystem:r,defaultToEN:!0}),[s,c,d,u]=ph(a,n,o);return u?S.invalid(u):Qt(s,c,i,`format ${o}`,n,d)}static fromString(n,o,i={}){return S.fromFormat(n,o,i)}static fromSQL(n,o={}){const[i,l]=qp(n);return Qt(i,l,o,"SQL",n)}static invalid(n,o=null){if(!n)throw new Ne("need to specify a reason the DateTime is invalid");const i=n instanceof Ae?n:new Ae(n,o);if(oe.throwOnInvalid)throw new Cf(i);return new S({invalid:i})}static isDateTime(n){return n&&n.isLuxonDateTime||!1}get(n){return this[n]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Io(this).weekYear:NaN}get weekNumber(){return this.isValid?Io(this).weekNumber:NaN}get weekday(){return this.isValid?Io(this).weekday:NaN}get ordinal(){return this.isValid?Mo(this.c).ordinal:NaN}get monthShort(){return this.isValid?Fn.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Fn.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Fn.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Fn.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1}).offset||this.offset>this.set({month:5}).offset}get isInLeapYear(){return Wt(this.year)}get daysInMonth(){return En(this.year,this.month)}get daysInYear(){return this.isValid?Kt(this.year):NaN}get weeksInWeekYear(){return this.isValid?Bn(this.weekYear):NaN}resolvedLocaleOptions(n={}){const{locale:o,numberingSystem:i,calendar:l}=_e.create(this.loc.clone(n),n).resolvedOptions(this);return{locale:o,numberingSystem:i,outputCalendar:l}}toUTC(n=0,o={}){return this.setZone(fe.instance(n),o)}toLocal(){return this.setZone(oe.defaultZone)}setZone(n,{keepLocalTime:o=!1,keepCalendarTime:i=!1}={}){if(n=Je(n,oe.defaultZone),n.equals(this.zone))return this;if(n.isValid){let l=this.ts;if(o||i){const r=n.offset(this.ts),a=this.toObject();[l]=$n(a,r,n)}return Jt(this,{ts:l,zone:n})}else return S.invalid(In(n))}reconfigure({locale:n,numberingSystem:o,outputCalendar:i}={}){const l=this.loc.clone({locale:n,numberingSystem:o,outputCalendar:i});return Jt(this,{loc:l})}setLocale(n){return this.reconfigure({locale:n})}set(n){if(!this.isValid)return this;const o=Sn(n,hl),i=!I(o.weekYear)||!I(o.weekNumber)||!I(o.weekday),l=!I(o.ordinal),r=!I(o.year),a=!I(o.month)||!I(o.day),s=r||a,c=o.weekYear||o.weekNumber;if((s||l)&&c)throw new Gt("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(a&&l)throw new Gt("Can't mix ordinal dates with month/day");let d;i?d=rl({...Ao(this.c),...o}):I(o.ordinal)?(d={...this.toObject(),...o},I(o.day)&&(d.day=Math.min(En(d.year,d.month),d.day))):d=il({...Mo(this.c),...o});const[u,m]=$n(d,this.o,this.zone);return Jt(this,{ts:u,o:m})}plus(n){if(!this.isValid)return this;const o=L.fromDurationLike(n);return Jt(this,ul(this,o))}minus(n){if(!this.isValid)return this;const o=L.fromDurationLike(n).negate();return Jt(this,ul(this,o))}startOf(n){if(!this.isValid)return this;const o={},i=L.normalizeUnit(n);switch(i){case"years":o.month=1;case"quarters":case"months":o.day=1;case"weeks":case"days":o.hour=0;case"hours":o.minute=0;case"minutes":o.second=0;case"seconds":o.millisecond=0;break}if(i==="weeks"&&(o.weekday=1),i==="quarters"){const l=Math.ceil(this.month/3);o.month=(l-1)*3+1}return this.set(o)}endOf(n){return this.isValid?this.plus({[n]:1}).startOf(n).minus(1):this}toFormat(n,o={}){return this.isValid?_e.create(this.loc.redefaultToEN(o)).formatDateTimeFromString(this,n):Fo}toLocaleString(n=po,o={}){return this.isValid?_e.create(this.loc.clone(o),n).formatDateTime(this):Fo}toLocaleParts(n={}){return this.isValid?_e.create(this.loc.clone(n),n).formatDateTimeParts(this):[]}toISO({format:n="extended",suppressSeconds:o=!1,suppressMilliseconds:i=!1,includeOffset:l=!0}={}){if(!this.isValid)return null;const r=n==="extended";let a=$o(this,r);return a+="T",a+=ml(this,r,o,i,l),a}toISODate({format:n="extended"}={}){return this.isValid?$o(this,n==="extended"):null}toISOWeekDate(){return Ln(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:n=!1,suppressSeconds:o=!1,includeOffset:i=!0,includePrefix:l=!1,format:r="extended"}={}){return this.isValid?(l?"T":"")+ml(this,r==="extended",o,n,i):null}toRFC2822(){return Ln(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Ln(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?$o(this,!0):null}toSQLTime({includeOffset:n=!0,includeZone:o=!1,includeOffsetSpace:i=!0}={}){let l="HH:mm:ss.SSS";return(o||n)&&(i&&(l+=" "),o?l+="z":n&&(l+="ZZ")),Ln(this,l,!0)}toSQL(n={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(n)}`:null}toString(){return this.isValid?this.toISO():Fo}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(n={}){if(!this.isValid)return{};const o={...this.c};return n.includeConfig&&(o.outputCalendar=this.outputCalendar,o.numberingSystem=this.loc.numberingSystem,o.locale=this.loc.locale),o}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(n,o="milliseconds",i={}){if(!this.isValid||!n.isValid)return L.invalid("created by diffing an invalid DateTime");const l={locale:this.locale,numberingSystem:this.numberingSystem,...i},r=Tf(o).map(L.normalizeUnit),a=n.valueOf()>this.valueOf(),s=a?this:n,c=a?n:this,d=vp(s,c,r,l);return a?d.negate():d}diffNow(n="milliseconds",o={}){return this.diff(S.now(),n,o)}until(n){return this.isValid?Q.fromDateTimes(this,n):this}hasSame(n,o){if(!this.isValid)return!1;const i=n.valueOf(),l=this.setZone(n.zone,{keepLocalTime:!0});return l.startOf(o)<=i&&i<=l.endOf(o)}equals(n){return this.isValid&&n.isValid&&this.valueOf()===n.valueOf()&&this.zone.equals(n.zone)&&this.loc.equals(n.loc)}toRelative(n={}){if(!this.isValid)return null;const o=n.base||S.fromObject({},{zone:this.zone}),i=n.padding?this<o?-n.padding:n.padding:0;let l=["years","months","days","hours","minutes","seconds"],r=n.unit;return Array.isArray(n.unit)&&(l=n.unit,r=void 0),gl(o,this.plus(i),{...n,numeric:"always",units:l,unit:r})}toRelativeCalendar(n={}){return this.isValid?gl(n.base||S.fromObject({},{zone:this.zone}),this,{...n,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...n){if(!n.every(S.isDateTime))throw new Ne("min requires all arguments be DateTimes");return ki(n,o=>o.valueOf(),Math.min)}static max(...n){if(!n.every(S.isDateTime))throw new Ne("max requires all arguments be DateTimes");return ki(n,o=>o.valueOf(),Math.max)}static fromFormatExplain(n,o,i={}){const{locale:l=null,numberingSystem:r=null}=i,a=J.fromOpts({locale:l,numberingSystem:r,defaultToEN:!0});return Qi(a,n,o)}static fromStringExplain(n,o,i={}){return S.fromFormatExplain(n,o,i)}static get DATE_SHORT(){return po}static get DATE_MED(){return vr}static get DATE_MED_WITH_WEEKDAY(){return Ef}static get DATE_FULL(){return ei}static get DATE_HUGE(){return ti}static get TIME_SIMPLE(){return ni}static get TIME_WITH_SECONDS(){return oi}static get TIME_WITH_SHORT_OFFSET(){return ri}static get TIME_WITH_LONG_OFFSET(){return ii}static get TIME_24_SIMPLE(){return li}static get TIME_24_WITH_SECONDS(){return ai}static get TIME_24_WITH_SHORT_OFFSET(){return si}static get TIME_24_WITH_LONG_OFFSET(){return ci}static get DATETIME_SHORT(){return di}static get DATETIME_SHORT_WITH_SECONDS(){return ui}static get DATETIME_MED(){return mi}static get DATETIME_MED_WITH_SECONDS(){return fi}static get DATETIME_MED_WITH_WEEKDAY(){return Bf}static get DATETIME_FULL(){return pi}static get DATETIME_FULL_WITH_SECONDS(){return hi}static get DATETIME_HUGE(){return yi}static get DATETIME_HUGE_WITH_SECONDS(){return gi}}function vt(e){if(S.isDateTime(e))return e;if(e&&e.valueOf&&at(e.valueOf()))return S.fromJSDate(e);if(e&&typeof e=="object")return S.fromObject(e);throw new Ne(`Unknown datetime argument: ${e}, of type ${typeof e}`)}const oS="",bh={mixins:[He],computed:{hasValue(){return this.value!==void 0&&this.value!==null},timeago(){return S.fromISO(this.value).toRelative()},readable(){let e=S.fromISO(this.value),n=S.now(),o=n.toFormat("yyyy");return n.toFormat("MMM yyyy"),e.toFormat("yyyy")===o?S.fromISO(this.value).toFormat("h:mm a - dd MMM"):S.fromISO(this.value).toFormat("h:mm a - dd MMM yyyy")}}},Ch={class:"table-date-cell"},wh={key:0},Vh={class:"off"},Eh={class:"on"},Bh={class:"spacer"};function Nh(e,n,o,i,l,r){return t.openBlock(),t.createElementBlock("td",Ch,[r.hasValue?(t.openBlock(),t.createElementBlock("div",wh,[t.createElementVNode("span",Vh,t.toDisplayString(r.readable),1),t.createElementVNode("span",Eh,t.toDisplayString(r.timeago),1),t.createElementVNode("span",Bh,t.toDisplayString(r.readable),1)])):t.createCommentVNode("",!0)])}const kl=g(bh,[["render",Nh],["__scopeId","data-v-d6b72564"]]),rS="",Sh={mixins:[He],computed:{boolean(){return!!this.value}}};function Th(e,n,o,i,l,r){const a=t.resolveComponent("ux-icon");return t.openBlock(),t.createElementBlock("td",{class:t.normalizeClass(["table-boolean-cell",{true:r.boolean,false:!r.boolean}])},[t.createVNode(a,{icon:r.boolean?"fa-check":"fa-times"},null,8,["icon"])],2)}const xl=g(Sh,[["render",Th],["__scopeId","data-v-897e69cd"]]),iS="",Oh={mixins:[He],methods:{async clicked(){const e=this,n=e.$sdk.utils.id(e.row),o=e.public?"secure":"public";e.processing=!0,e.$sdk.content.patch(n,{meta:{security:o}}).catch(function(i){e.$sdk.error(i),e.processing=!1}).then(function(i){e.v=o,e.processing=!1,e.$sdk.notify(`Set security to ${o}`)})}},data(){return{processing:!1,v:this.value}},computed:{canEdit(){var e=this.user;return this.$sdk.access.canEditItem(e,this.row)},public(){return this.security==="public"},security(){return this.v||"secure"}}};function Dh(e,n,o,i,l,r){const a=t.resolveComponent("ux-icon"),s=t.resolveComponent("ux-button");return t.openBlock(),t.createElementBlock("td",{class:t.normalizeClass(["table-security-cell",r.security])},[r.canEdit?(t.openBlock(),t.createBlock(s,{key:0,size:"sm",loading:l.processing,onClick:t.withModifiers(r.clicked,["stop","prevent"])},{default:t.withCtx(()=>[t.createVNode(a,{icon:r.public?"fa-lock-open":"fa-lock"},null,8,["icon"])]),_:1},8,["loading","onClick"])):(t.openBlock(),t.createBlock(a,{key:1,icon:r.public?"fa-lock-open":"fa-lock"},null,8,["icon"]))],2)}const Ah=g(Oh,[["render",Dh],["__scopeId","data-v-45dd2b07"]]),lS="",Mh={mixins:[He],methods:{open(){window.open(this.href)}},computed:{href(){return`http://${this.value}`}}},Fh={class:"table-url-cell"},Ih=["href"];function $h(e,n,o,i,l,r){const a=t.resolveComponent("ux-icon");return t.openBlock(),t.createElementBlock("td",Fh,[t.createElementVNode("a",{href:r.href,onClick:n[0]||(n[0]=t.withModifiers((...s)=>r.open&&r.open(...s),["stop","prevent"])),target:"_blank"},[t.createTextVNode(t.toDisplayString(e.value)+" ",1),t.createVNode(a,{right:"",icon:"fa-external-link"})],8,Ih)])}const bl=g(Mh,[["render",$h],["__scopeId","data-v-7dbf1e30"]]);var Cl=function(e,n,o){if(!n.hasOwnProperty(o)){var i=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(n,o,i)}};const Lo={props:{template:String,parent:Object,templateProps:{type:Object,default:function(){return{}}}},render:function(){if(this.template){var e=this.parent||this.$parent,n=e.$data;n===void 0&&(n={});var o=e.$props;o===void 0&&(o={});var i=e.$options;i===void 0&&(i={});var l=i.components;l===void 0&&(l={});var r=i.computed;r===void 0&&(r={});var a=i.methods;a===void 0&&(a={});var s=this.$data;s===void 0&&(s={});var c=this.$props;c===void 0&&(c={});var d=this.$options;d===void 0&&(d={});var u=d.methods;u===void 0&&(u={});var m=d.computed;m===void 0&&(m={});var f=d.components;f===void 0&&(f={});var p={$data:{},$props:{},$options:{},components:{},computed:{},methods:{}};Object.keys(n).forEach(function(V){s[V]===void 0&&(p.$data[V]=n[V])}),Object.keys(o).forEach(function(V){c[V]===void 0&&(p.$props[V]=o[V])}),Object.keys(a).forEach(function(V){u[V]===void 0&&(p.methods[V]=a[V])}),Object.keys(r).forEach(function(V){m[V]===void 0&&(p.computed[V]=r[V])}),Object.keys(l).forEach(function(V){f[V]===void 0&&(p.components[V]=l[V])});var h=Object.keys(p.methods||{}),y=Object.keys(p.$data||{}),x=Object.keys(p.$props||{}),F=Object.keys(this.templateProps),R=y.concat(x).concat(h).concat(F),H=(Y=e,A={},h.forEach(function(V){return Cl(Y,A,V)}),A),Z=function(V){var W={};return V.forEach(function(M){M&&Object.getOwnPropertyNames(M).forEach(function(ye){return Cl(M,W,ye)})}),W}([p.$data,p.$props,H,this.templateProps]);return t.h({template:this.template||"<div></div>",props:R,computed:p.computed,components:p.components,provide:this.$parent.$.provides?this.$parent.$.provides:{}},Object.assign({},Z))}var Y,A}},aS="",Lh={components:{Compile:Lo},mixins:[He]},Ph={class:"table-computed-cell"};function Uh(e,n,o,i,l,r){const a=t.resolveComponent("compile");return t.openBlock(),t.createElementBlock("td",Ph,[t.createVNode(a,{template:this.column.code},null,8,["template"])])}const jh=g(Lh,[["render",Uh],["__scopeId","data-v-05dd3203"]]),sS="",Rh={props:{multi:{type:Boolean},last:{type:Boolean},value:{required:!0},type:{type:String},widget:{type:String}},computed:{reference(){return!!(this.value&&this.value._id)},renderValue(){return this.value?this.value.title||this.value.name||this.value:void 0},date(){return S.fromISO(this.value).toFormat("dd MMM yyyy")},actualWidget(){var e;if(this.widget)e=this.widget;else switch(this.type){case"date":e="datetime";break}return e}},methods:{clicked(e){this.$sdk.dispatch("item:view",e)}}};function zh(e,n,o,i,l,r){return r.reference?(t.openBlock(),t.createElementBlock("a",{key:0,onClick:n[0]||(n[0]=t.withModifiers(a=>r.clicked(o.value),["stop","prevent"]))},t.toDisplayString(r.renderValue),1)):o.type=="date"?(t.openBlock(),t.createElementBlock(t.Fragment,{key:1},[t.createTextVNode(t.toDisplayString(r.date),1)],64)):(t.openBlock(),t.createElementBlock(t.Fragment,{key:2},[t.createTextVNode(t.toDisplayString(r.renderValue),1),o.multi&&!o.last?(t.openBlock(),t.createElementBlock(t.Fragment,{key:0},[t.createTextVNode(", ")],64)):t.createCommentVNode("",!0)],64))}const Hh=g(Rh,[["render",zh],["__scopeId","data-v-cb9b14f7"]]),cS="",qh={mixins:[He],computed:{status(){return String(this.value).toLowerCase()}}},Gh={class:"pill"};function Wh(e,n,o,i,l,r){return t.openBlock(),t.createElementBlock("td",{class:t.normalizeClass(["table-status-cell",r.status])},[t.createElementVNode("div",Gh,t.toDisplayString(r.status),1)],2)}const Kh=g(qh,[["render",Wh],["__scopeId","data-v-e4a3b2f2"]]),dS="";function Po(e,n){if(!e||!n)return;var o=wn(e,n);if(o)return o;const i=n.split("."),l=i.shift(),r=i.join("."),a=wn(e,l);return Array.isArray(a)?a.map(function(s){return Po(s,r)}).flat().filter(Boolean):Po(a,r)}const Zh={data(){return{component:null}},components:{ValueRenderer:Hh},async created(){const e=this;let n,o=e.column.type,i=e.column.renderer||e.column.widget;switch(o=="reference"&&e.column.referenceType==="image"&&(i="thumbnail"),i){case"button":n=bf;break;case"security":n=Ah;break;case"boolean":n=xl;break;case"date":case"datetime":n=kl;break;case"status":n=Kh;break;case"computed":n=jh;break;case"url":n=bl;break;case"currency":n=gf;break;case"thumbnail":n=pf;break;default:switch(o){case"date":n=kl;break;case"boolean":n=xl;break;case"url":n=bl;break}break}e.component=n},props:{column:{type:Object,required:!0},row:{type:Object,required:!0}},computed:{multiValue(){return Array.isArray(this.value)},complex(){this.multiValue},renderer(){return this.column.renderer},renderValue(){var e=this.value;if(e!=null)return e.title||e.name||e},value(){var e=Po(this.row,this.column.key);return e}}},Yh={key:1,class:"table-cell"},Xh={class:"value"},Jh={class:"value"};function Qh(e,n,o,i,l,r){const a=t.resolveComponent("value-renderer");return l.component?(t.openBlock(),t.createBlock(t.resolveDynamicComponent(l.component),{key:0,column:o.column,row:o.row,value:r.value},null,8,["column","row","value"])):(t.openBlock(),t.createElementBlock("td",Yh,[r.multiValue?(t.openBlock(),t.createElementBlock(t.Fragment,{key:0},[r.complex?(t.openBlock(!0),t.createElementBlock(t.Fragment,{key:0},t.renderList(r.value,(s,c)=>(t.openBlock(),t.createElementBlock("span",Xh,[t.createVNode(a,{type:o.column.type,multi:"",last:c===r.value.length-1,value:s},null,8,["type","last","value"])]))),256)):(t.openBlock(!0),t.createElementBlock(t.Fragment,{key:1},t.renderList(r.value,(s,c)=>(t.openBlock(),t.createElementBlock("span",Jh,[t.createVNode(a,{type:o.column.type,multi:"",last:c===r.value.length-1,value:s},null,8,["type","last","value"])]))),256))],64)):(t.openBlock(),t.createBlock(a,{key:1,type:o.column.type,value:r.value},null,8,["type","value"]))]))}const wl=g(Zh,[["render",Qh],["__scopeId","data-v-521f67e6"]]),vh={components:{TableCell:wl},props:{selected:{type:Boolean},index:{type:Number},row:{type:Object,required:!0},columns:{type:Array,required:!0},enableActions:{type:Boolean,default(){return!1}},enableSelection:{type:Boolean,default(){return!0}}},methods:{clickCell(e){this.$emit("click:cell",{row:this.row,column:e}),this.$emit("click:row",this.row)},clickActions(e){this.$emit("click:actions",e)},clickSelect(e){const n=this.index;this.$emit("click:select",e,n)}},computed:{classes(){var e=[];return this.selected&&e.push("selected"),e}}};function ey(e,n,o,i,l,r){const a=t.resolveComponent("ux-checkbox"),s=t.resolveComponent("table-cell"),c=t.resolveComponent("ux-icon"),d=t.resolveComponent("ux-button");return t.openBlock(),t.createElementBlock("tr",{class:t.normalizeClass([r.classes,"table-row"])},[t.renderSlot(e.$slots,"default",{},()=>[o.enableSelection?(t.openBlock(),t.createElementBlock("th",{key:0,class:"table-cell table-select first shrink",onClick:n[0]||(n[0]=t.withModifiers(u=>r.clickSelect(o.row),["stop","prevent"]))},[t.createVNode(a,{value:o.selected},null,8,["value"])])):t.createCommentVNode("",!0),(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(o.columns,(u,m)=>(t.openBlock(),t.createBlock(s,{key:`${u.path||u.key}-${m}`,onClick:t.withModifiers(f=>r.clickCell(u),["stop","prevent"]),column:u,row:o.row},null,8,["onClick","column","row"]))),128)),o.enableActions?(t.openBlock(),t.createElementBlock("th",{key:1,class:"table-cell last shrink",onClick:n[1]||(n[1]=t.withModifiers(u=>r.clickActions(o.row),["stop","prevent"]))},[t.createVNode(d,{size:"xs",icon:""},{default:t.withCtx(()=>[t.createVNode(c,{icon:"fa-ellipsis"})]),_:1})])):t.createCommentVNode("",!0)])],2)}const ty=g(vh,[["render",ey]]),Vl={data(){return{scrollTop:0}},methods:{updateScroll(e){var n=this.$refs.scroll;n=n.$el||n,this.scrollTop=n.scrollTop}},mounted(){var e=this.$refs.scroll;e=e.$el||e,e.addEventListener("scroll",this.updateScroll)},beforeUnmount(){var e=this.$refs.scroll;e=e.$el||e,e.removeEventListener("scroll",this.updateScroll)},activated(){var e=this.$refs.scroll;e=e.$el||e,e.scrollTop=this.scrollTop}},uS="",ny={mixins:[Vl],components:{TableRow:ty,TableCell:wl},watch:{rows(){this.$refs.scroll.scroll({top:0,left:0})},sort(e){this.sorting=e},sorting(e){this.$emit("update:sort",e)}},props:{total:{type:Number},columns:{type:Array,default(){return[]}},rows:{type:Array,default(){return[]}},scrollable:{type:Boolean,default(){return!0}},enableActions:{type:Boolean,default(){return!1}},enableSelection:{type:Boolean,default(){return!0}},sort:{type:Object,default(){return{key:"meta.created",type:"date",direction:"desc"}}},selection:{type:Array,default(){return[]}},selectAll:{type:Function},deselectAll:{type:Function}},data(){return{sorting:this.sort,lastSelectedIndex:null,shift:!1,keyListenersAdded:!1}},mounted(){this.addKeyListeners()},activated(){this.addKeyListeners()},beforeUnmount(){this.removeKeyListeners()},deactivated(){this.removeKeyListeners()},computed:{currentSortDirection(){var e;return((e=this.sorting)==null?void 0:e.direction)||"asc"},selectionHash(){var e=this;return e.selection.reduce(function(n,o){var i=o._id||o.id;return n[i]=o,n},{})},pageSelected(){var e=this;if(!(!e.rows||!e.rows.length))return!e.rows.some(function(n){return!e.selectionHash[n._id||n.id]})},renderColumns(){return this.columns.map(function(e){var n=Object.assign({},e);return n.class=[],n.shrink&&n.class.push("shrink"),n})},renderRows(){return this.rows},someSelectedOnPage(){return this.rows.some(this.isSelected)}},methods:{keyDown(e){e.keyCode==16&&(this.shift=!0)},keyUp(e){e.keyCode==16&&(this.shift=!1)},addKeyListeners(){this.keyListenersAdded||(window.addEventListener("keydown",this.keyDown,!0),window.addEventListener("keyup",this.keyUp,!0),this.keyListenersAdded=!0)},removeKeyListeners(){this.keyListenersAdded&&(window.removeEventListener("keydown",this.keyDown,!0),window.removeEventListener("keyup",this.keyUp,!0),this.keyListenersAdded=!1)},togglePage(){var e=this;e.pageSelected?e.deselectPage():e.selectPage()},selectPage(){var e=this;e.$emit("select:multiple",e.rows)},deselectPage(){var e=this;e.$emit("deselect:multiple",e.rows)},isSelected(e){var n=this,o=e._id||e.id;return n.selection.some(function(i){var l=i._id||i.id;return i==e||l==o})},classes(e){let n=[];return this.isSelected(e)&&n.push("selected"),n},selectRange(e,n){const o=this,i=Math.min(e,n),l=Math.max(e,n)+1;var r=o.renderRows.slice(i,l);o.$emit("select:multiple",r)},toggleSort(e){var r,a;const n=(r=this.sorting)==null?void 0:r.key,o=((a=this.sorting)==null?void 0:a.direction)||"asc";let{key:i,direction:l}=e;i===n&&(l=o==="dsc"?"asc":"dsc"),this.sorting={key:i,direction:l,type:e.type},this.$emit("")},clickRow(e){this.$emit("click:row",e)},clickCell({row:e,column:n}){this.$emit("click:cell",{row:e,column:n})},clickActions(e){this.$emit("click:actions",e)},clickSelect(e,n){const o=this.lastSelectedIndex;if(this.shift&&o!=n)return console.log("FROM",o,"-",n),this.selectRange(o,n);this.lastSelectedIndex=n,this.$emit("select:row:toggle",e)}}},oy={class:"table-wrapper"},ry={class:"table-scroll",ref:"scroll"},iy={key:0,class:"first table-select shrink"},ly=["onClick"],ay={key:1,class:"last shrink"};function sy(e,n,o,i,l,r){const a=t.resolveComponent("ux-checkbox"),s=t.resolveComponent("ux-list-item"),c=t.resolveComponent("ux-list"),d=t.resolveComponent("ux-menu"),u=t.resolveComponent("flex-cell"),m=t.resolveComponent("flex-row"),f=t.resolveComponent("table-row");return t.openBlock(),t.createElementBlock("div",oy,[t.createElementVNode("div",ry,[t.createElementVNode("table",null,[t.createElementVNode("thead",null,[t.createElementVNode("tr",null,[o.enableSelection?(t.openBlock(),t.createElementBlock("th",iy,[t.createVNode(d,null,{activator:t.withCtx(({on:p})=>[t.createVNode(a,t.mergeProps(t.toHandlers(p),{value:r.pageSelected}),null,16,["value"])]),default:t.withCtx(()=>[t.createVNode(c,null,{default:t.withCtx(()=>[t.createVNode(s,{onClick:n[0]||(n[0]=p=>r.selectPage())},{default:t.withCtx(()=>[t.createTextVNode(" Select Page ")]),_:1}),r.someSelectedOnPage?(t.openBlock(),t.createBlock(s,{key:0,onClick:n[1]||(n[1]=p=>r.deselectPage())},{default:t.withCtx(()=>[t.createTextVNode(" Deselect Page ")]),_:1})):t.createCommentVNode("",!0),o.selectAll?(t.openBlock(),t.createBlock(s,{key:1,onClick:n[2]||(n[2]=p=>o.selectAll())},{default:t.withCtx(()=>[t.createTextVNode(" Select All ("+t.toDisplayString(o.total)+") ",1)]),_:1})):t.createCommentVNode("",!0),o.deselectAll?(t.openBlock(),t.createBlock(s,{key:2,onClick:n[3]||(n[3]=p=>o.deselectAll())},{default:t.withCtx(()=>[t.createTextVNode(" Deselect All ")]),_:1})):t.createCommentVNode("",!0)]),_:1})]),_:1})])):t.createCommentVNode("",!0),(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(r.renderColumns,p=>{var h;return t.openBlock(),t.createElementBlock("th",{onClick:y=>r.toggleSort(p),class:t.normalizeClass([{sortable:p.sortable!==!1,active:p.key===((h=l.sorting)==null?void 0:h.key)},p.class])},[t.createVNode(m,{gap:"",vcenter:""},{default:t.withCtx(()=>{var y;return[t.createVNode(u,null,{default:t.withCtx(()=>[t.createTextVNode(t.toDisplayString(p.title),1)]),_:2},1024),p.key===((y=l.sorting)==null?void 0:y.key)?(t.openBlock(),t.createBlock(u,{key:0,class:"caret",shrink:""},{default:t.withCtx(()=>[t.createTextVNode(t.toDisplayString(r.currentSortDirection==="asc"?"▲":"▼"),1)]),_:1})):t.createCommentVNode("",!0)]}),_:2},1024)],10,ly)}),256)),o.enableActions?(t.openBlock(),t.createElementBlock("th",ay,[t.renderSlot(e.$slots,"corner",{},void 0,!0)])):t.createCommentVNode("",!0)])]),t.createElementVNode("tbody",null,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(r.renderRows,(p,h)=>(t.openBlock(),t.createBlock(f,{enableSelection:o.enableSelection,enableActions:o.enableActions,key:p._id,"onClick:cell":r.clickCell,"onClick:row":r.clickRow,"onClick:select":r.clickSelect,"onClick:actions":r.clickActions,selected:r.isSelected(p),row:p,index:h,columns:o.columns},null,8,["enableSelection","enableActions","onClick:cell","onClick:row","onClick:select","onClick:actions","selected","row","index","columns"]))),128))])])],512)])}const El=g(ny,[["render",sy],["__scopeId","data-v-328783f5"]]);var Bt={},cy={get exports(){return Bt},set exports(e){Bt=e}},dy=Object.prototype.hasOwnProperty;function Bl(e){return"[Throws: "+(e?e.message:"?")+"]"}function uy(e,n){if(dy.call(e,n))try{return e[n]}catch(o){return Bl(o)}return e[n]}function Nl(e){var n=[];function o(i){if(i===null||typeof i!="object")return i;if(n.indexOf(i)!==-1)return"[Circular]";if(n.push(i),typeof i.toJSON=="function")try{var l=o(i.toJSON());return n.pop(),l}catch(s){return Bl(s)}if(Array.isArray(i)){var r=i.map(o);return n.pop(),r}var a=Object.keys(i).reduce(function(s,c){return s[c]=o(uy(i,c)),s},{});return n.pop(),a}return o(e)}cy.exports=function(e,n,o){return JSON.stringify(Nl(e),n,o)},Bt.ensureProperties=Nl;function my(e,n){return e==null||n=="date"&&e.toString&&e.toString()==="Invalid Date"}function Sl(e){return e!=null}const z={props:{field:{type:Object,default(){return{}}},parentModel:{type:Object}},data(){return{dynamicOptions:[],asyncOptionsAreLoading:this.field.asyncOptions,value:this.modelValue}},watch:{modelValue(e,n){this.model=e}},mounted(){this.checkAutofocus()},async created(){const e=this;e.hasAsyncOptions&&await e.reloadAsyncOptions()},inject:["form","fieldPath"],computed:{hasAsyncOptions(){return this.field.asyncOptions},loadingAsyncOptions(){return this.hasAsyncOptions&&this.asyncOptionsAreLoading},optionLookup(){var e=this;return e.options.reduce(function(n,o){const i=e.getValue(o);return n[i]=o,n},{})},selectableOptions(){return this.options},required(){return this.minimum},model:{get(){var e=this.cleanOutput(this.value);return e},set(e){let n;(this.isGroup||this.widget==="form")&&(e===this.value?n=!1:n=!0);const o=this.cleanInput(e),i=this.cleanInput(this.value);(Bt(o)!=Bt(i)||n)&&(this.value=o,this.checkAutofocus(),this.dispatch())}},options(){var e=this;return e.hasAsyncOptions?e.dynamicOptions:(e.field.options||[]).reduce(function(n,o){if(!o)return n;const i=e.getValue(o);var r={title:o.title||o.name||o.label||i,value:i,none:o.none,source:o};return e.field.type=="reference"&&(r._id=i),n.push(r),n},[])},prefix(){return this.field.suffix},suffix(){return this.field.suffix},type(){return this.field.type||"string"},key(){return this.field.key},isGroup(){return this.type==="group"},asObject(){return this.isGroup&&!!this.field.asObject},layoutGroup(){return this.isGroup&&!this.field.asObject},canAddValue(){if(!this.singleValue)return this.maximum===0||this.numValues<this.maximum},canRemoveValue(){return this.numValues>this.minimum},widget(){return this.field.widget},singleValue(){if(this.asObject){var e=this.minimum===1&&this.maximum===1;return e}else return this.maximum===1},multiValue(){return!this.singleValue},label(){return this.field.title},title(){return this.label},plural(){return this.field.plural},description(){return this.field.description},placeholder(){return this.field.placeholder||this.field.hint},addLabel(){return this.numValues?`Add another ${this.label}`:`Add ${this.label}`},removeLabel(){return"Remove"},numValues(){return this.singleValue?1:(this.value||[]).length||0},showLabel(){return this.field.title},showDescription(){return this.description},fields(){var e=this.field.fields;if(e&&e.length)return e},minimum(){if(this.layoutGroup)return 1;var e=parseInt(this.field.minimum||0);return isNaN(e)&&(e=0),e=Math.max(e,0),e=this.maximum?Math.min(e,this.maximum):e,parseInt(e)},maximum(){if(this.layoutGroup)return 1;var e=parseInt(this.field.maximum||0);return isNaN(e)&&(e=0),e=Math.max(e,0),parseInt(e)},ask(){var e=parseInt(this.field.ask);return e=Math.max(e,this.minimum),this.maximum&&(e=Math.min(e,this.maximum)),e}},methods:{async reloadAsyncOptions(){const e=this;if(!e.hasAsyncOptions){e.asyncOptionsAreLoading=!1;return}e.asyncOptionsAreLoading=!0;const{data:n}=await e.$sdk.api.get(e.field.asyncOptions);e.dynamicOptions=n,e.asyncOptionsAreLoading=!1},cleanTextInput(e,n,o){switch(n){case"url":e=o.$sdk.utils.parseURL(e);break;case"key":e=String(o.$sdk.utils.machineName(e||"")||"").trim();break;case"integer":e=parseInt(String(e).replace(/[^0-9-]/g,"")),isNaN(e)&&(e=void 0);break;case"number":case"decimal":case"float":e=Number(String(e).replace(/[^0-9.-]/g,"")),isNaN(e)&&(e=void 0);break}return e},checkAutofocus(){if(this.field.autofocus){if(this.value)return;this.$nextTick(function(){this.refocus()})}},getValue(e){if(!e)return this.cleanTextInput(e);var n=this.cleanTextInput(e._id||e.value),o=Sl(n);return!o&&e.title&&!this.returnObject&&(n=e.title),n=this.cleanTextInput(n),Sl(n)?n:e},getLabel(e){if(e){var n=e.title||e.name||e.label;return typeof n=="object"?"(no title)":n}},touch(){this.$emit("touched")},getNewDefaultEntry(){},add(){if(this.canAddValue){var e=this.cleanInputValue(this.getNewDefaultEntry());(!this.value||!Array.isArray(this.value))&&(this.value=[]),this.value.push(e),this.dispatch(),this.$nextTick(function(){this.refocus()}),this.touch()}},remove(e){var n=this.model.indexOf(e);this.value.splice(n,1),this.dispatch(),this.touch()},dispatch(){this.$emit("update:modelValue",this.value)},cleanInputValue(e){return e},cleanOutputValue(e){return e},cleanOutput(e){var n=this;return my(e,n.field.type)?n.multiValue?e=[]:e=void 0:n.multiValue?(Array.isArray(e)||(e=[]),e.forEach(function(o,i){e[i]=n.cleanOutputValue(o)})):e=n.cleanOutputValue(e),e},cleanInput(e){var n=this;if(n.multiValue){for(e||(e=[]),Array.isArray(e)||(e=[e]),n.maximum&&e.length>n.maximum&&(e.length=n.maximum);e.length<n.minimum;)e.push(n.cleanInputValue(n.getNewDefaultEntry()));e=e.map(function(o){var i=n.cleanInputValue(o);return i})}else e&&(e=n.cleanInputValue(e));return e},refocus(){var e=this.$refs.input;if(e){var n;Array.isArray(e)?n=e[e.length-1]:n=e,n&&n.focus()}}}},mS="";function fy(e){return e===void 0||typeof e>"u"||e===null||String(e)==="null"||String(e)==="undefined"}const py={data(){return{candidate:null}},props:{title:{type:String},modelValue:{}},mixins:[z],created(){this.model=this.model},methods:{displayLabelFromValue(e){if(!e)return;const n=e.value||e,o=this.optionLookup[n]||{};return o.title||o.name||e.title||e.value||e},addValue(e){this.canAddValue&&this.model.indexOf(e)===-1&&(this.model=[...this.model,e])},removeValue(e){var n=this.model.slice();e!=-1&&(n.splice(e,1),this.model=n)},cleanOutput(e){var n=this;return fy(e)?n.multiValue?e=[]:e=void 0:n.multiValue?e=(e||[]).filter(function(o){return o!=null}).map(function(o){return n.getValue(o)}):e=n.getValue(e),e},cleanInput(e){var n=this;if(n.multiValue)e||(e=[]),Array.isArray(e)||(e=[e]),n.maximum&&e.length>n.maximum&&(e.length=n.maximum),e=e.filter(function(i){return i!=null}).map(function(i){var l=n.getValue(i);return n.returnObject?n.optionLookup[l]:l});else{var o=n.getValue(e);switch(e=n.returnObject?n.optionLookup[o]:o,e){case"":switch(n.type){case"decimal":case"float":case"number":case"integer":e=void 0;break}break}}return e}},watch:{candidate(e){e&&(this.addValue(e),this.candidate=null)}},computed:{returnObject(){return this.type=="reference"},classes(){var e=[];return this.multiValue?e.push("multiple"):e.push("single"),e},summary(){if(this.multiValue)return"Select an option";const e=this.selectableOptions.find(function(o){return o.none}),n=(e==null?void 0:e.title)||(e==null?void 0:e.label);return this.model?this.getLabel(this.optionLookup[this.model]):n||this.title||"Click to select"},grouped(){const e=this,{values:n}=e.selectableOptions.reduce(function(o,i){const l=i.group||"";let r=o.hash[l];return r||(r=o.hash[l]={title:l,options:[]},o.values.push(r)),r.options.push(i),o},{hash:{},values:[]});if(!(n.length<=1))return n},selectableOptions(){var e;return(e=this.field)!=null&&e.sorted?this.options.sort(function(n,o){var i=(n.title||n).toLowerCase(),l=(o.title||o).toLowerCase();return i<l?-1:i>l?1:0}):this.options},showNoneOption(){return!(!(this.singleValue&&!this.minimum)||this.selectableOptions.find(function(o){return o.none}))}}},hy=e=>(t.pushScopeId("data-v-f286e26c"),e=e(),t.popScopeId(),e),yy={key:0,class:"ux-field-title"},gy={key:0,class:"ux-required-marker"},_y={key:1,class:"ux-field-description"},ky={key:2,class:"select-tags"},xy=["onClick"],by={key:3},Cy={key:4,class:"select-input-wrapper"},wy={class:"ui-select-button"},Vy=hy(()=>t.createElementVNode("option",{value:""},"Select an option",-1)),Ey=["label"],By=["value"],Ny=["value"],Sy=["multiple"],Ty={key:0,value:""},Oy=["label"],Dy=["value"],Ay=["value"];function My(e,n,o,i,l,r){const a=t.resolveComponent("flex-cell"),s=t.resolveComponent("ux-icon"),c=t.resolveComponent("flex-row"),d=t.resolveComponent("ux-button");return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["native-select",r.classes])},[e.showLabel?(t.openBlock(),t.createElementBlock("label",yy,[t.createTextVNode(t.toDisplayString(e.label)+" ",1),e.required?(t.openBlock(),t.createElementBlock("span",gy,"*")):t.createCommentVNode("",!0)])):t.createCommentVNode("",!0),e.showDescription?(t.openBlock(),t.createElementBlock("div",_y,t.toDisplayString(e.description),1)):t.createCommentVNode("",!0),e.multiValue?(t.openBlock(),t.createElementBlock("div",ky,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.model,(u,m)=>(t.openBlock(),t.createElementBlock("div",{class:"select-tag",key:u.value||u},[t.createVNode(c,{gap:"",center:""},{default:t.withCtx(()=>[t.createVNode(a,null,{default:t.withCtx(()=>[t.createTextVNode(t.toDisplayString(r.displayLabelFromValue(u)),1)]),_:2},1024),t.createVNode(a,{shrink:""},{default:t.withCtx(()=>[t.createElementVNode("a",{onClick:f=>r.removeValue(m)},[t.createVNode(s,{icon:"fa-times"})],8,xy)]),_:2},1024)]),_:2},1024)]))),128))])):t.createCommentVNode("",!0),e.loadingAsyncOptions?(t.openBlock(),t.createElementBlock("div",by,[t.createVNode(s,{icon:"fa-spinner",spin:"",left:""}),t.createTextVNode(" Loading Options ")])):(t.openBlock(),t.createElementBlock("div",Cy,[t.createElementVNode("div",wy,[t.renderSlot(e.$slots,"default",{},()=>[t.createVNode(d,{tag:"div"},{default:t.withCtx(()=>[t.createTextVNode(t.toDisplayString(r.summary),1)]),_:1})],!0)]),e.multiValue&&e.canAddValue?t.withDirectives((t.openBlock(),t.createElementBlock("select",{key:0,onFocus:n[0]||(n[0]=(...u)=>e.touch&&e.touch(...u)),"onUpdate:modelValue":n[1]||(n[1]=u=>l.candidate=u)},[Vy,r.grouped?(t.openBlock(!0),t.createElementBlock(t.Fragment,{key:0},t.renderList(r.grouped,u=>(t.openBlock(),t.createElementBlock("optgroup",{label:u.title,key:u.title},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(u.options,m=>(t.openBlock(),t.createElementBlock("option",{value:m.value},t.toDisplayString(m.title),9,By))),256))],8,Ey))),128)):(t.openBlock(!0),t.createElementBlock(t.Fragment,{key:1},t.renderList(r.selectableOptions,u=>(t.openBlock(),t.createElementBlock("option",{value:u.value},t.toDisplayString(u.title),9,Ny))),256))],544)),[[t.vModelSelect,l.candidate]]):t.withDirectives((t.openBlock(),t.createElementBlock("select",{key:1,onFocus:n[2]||(n[2]=(...u)=>e.touch&&e.touch(...u)),multiple:e.multiValue,"onUpdate:modelValue":n[3]||(n[3]=u=>e.model=u)},[r.showNoneOption?(t.openBlock(),t.createElementBlock("option",Ty,"None")):t.createCommentVNode("",!0),r.grouped?(t.openBlock(!0),t.createElementBlock(t.Fragment,{key:1},t.renderList(r.grouped,u=>(t.openBlock(),t.createElementBlock("optgroup",{label:u.title,key:u.title},[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(u.options,m=>(t.openBlock(),t.createElementBlock("option",{value:m.value},t.toDisplayString(m.title),9,Dy))),256))],8,Oy))),128)):(t.openBlock(!0),t.createElementBlock(t.Fragment,{key:2},t.renderList(r.selectableOptions,u=>(t.openBlock(),t.createElementBlock("option",{value:u.value},t.toDisplayString(u.title),9,Ay))),256))],40,Sy)),[[t.vModelSelect,e.model]])]))],2)}const Qe=g(py,[["render",My],["__scopeId","data-v-f286e26c"]]),fS="",Fy={props:{total:{type:Number,default(){return 0}},page:{type:Object,default(){return{size:50,index:1}}}},components:{NativeSelect:Qe},watch:{totalPages(){this.currentPage=0}},computed:{perPage:{get(){return this.pageModel.size},set(e){e=Math.max(e,1),this.pageModel.size=e,this.dispatch()}},pageField(){return{type:"integer",maximum:1,minimum:1,options:Array(this.totalPages).fill(1).map((e,n)=>e+n)}},totalPages(){return Math.ceil(this.total/this.perPage)},startIndex(){return(this.currentPage-1)*this.pageModel.size},displayStartIndex(){return this.total?this.startIndex+1:0},endIndex(){return Math.min(this.startIndex+this.pageModel.size,this.total)},currentPage:{get(){return this.pageModel.index},set(e){this.totalPages&&(e=Math.min(this.totalPages,e)),e=Math.max(e,1),this.pageModel.index=e,this.dispatch()}}},methods:{dispatch(){return this.$emit("update:page",this.pageModel)},previousPage(){this.currentPage--},nextPage(){this.currentPage++}},data(){return{pageModel:this.page,perPageField:{minimum:1,maximum:1,options:[{title:"50 per page",value:50},{title:"100 per page",value:100},{title:"250 per page",value:250},{title:"500 per page",value:500}]}}}};function Iy(e,n,o,i,l,r){const a=t.resolveComponent("native-select"),s=t.resolveComponent("flex-cell"),c=t.resolveComponent("ux-icon"),d=t.resolveComponent("ux-button"),u=t.resolveComponent("flex-row");return t.openBlock(),t.createBlock(u,{center:"",gap:""},{default:t.withCtx(()=>[t.createVNode(s,{shrink:"",class:"text"},{default:t.withCtx(()=>[t.createVNode(a,{modelValue:r.perPage,"onUpdate:modelValue":n[0]||(n[0]=m=>r.perPage=m),field:l.perPageField},{default:t.withCtx(()=>[e.$device.breakpoint.xs?(t.openBlock(),t.createElementBlock(t.Fragment,{key:0},[t.createTextVNode(t.toDisplayString(r.displayStartIndex)+"-"+t.toDisplayString(r.endIndex)+" of "+t.toDisplayString(o.total),1)],64)):(t.openBlock(),t.createElementBlock(t.Fragment,{key:1},[t.createTextVNode("Showing "+t.toDisplayString(r.displayStartIndex)+" to "+t.toDisplayString(r.endIndex)+" of "+t.toDisplayString(o.total)+" total",1)],64))]),_:1},8,["modelValue","field"])]),_:1}),t.createVNode(s),r.totalPages>1?(t.openBlock(),t.createBlock(s,{key:0,shrink:""},{default:t.withCtx(()=>[t.createVNode(u,{gap:"",center:""},{default:t.withCtx(()=>[t.createVNode(s,{shrink:"",class:"text"},{default:t.withCtx(()=>[t.createVNode(a,{modelValue:r.currentPage,"onUpdate:modelValue":n[1]||(n[1]=m=>r.currentPage=m),field:r.pageField},{default:t.withCtx(()=>[e.$device.breakpoint.xs?(t.openBlock(),t.createElementBlock(t.Fragment,{key:0},[t.createTextVNode(t.toDisplayString(r.currentPage)+"/"+t.toDisplayString(r.totalPages),1)],64)):(t.openBlock(),t.createElementBlock(t.Fragment,{key:1},[t.createTextVNode("Page "+t.toDisplayString(r.currentPage)+" of "+t.toDisplayString(r.totalPages),1)],64))]),_:1},8,["modelValue","field"])]),_:1}),t.createVNode(s,{shrink:""},{default:t.withCtx(()=>[t.createVNode(d,{icon:"",onClick:n[2]||(n[2]=m=>r.previousPage())},{default:t.withCtx(()=>[t.createVNode(c,{icon:"fa-arrow-left"})]),_:1})]),_:1}),t.createVNode(s,{shrink:""},{default:t.withCtx(()=>[t.createVNode(d,{icon:"",onClick:n[3]||(n[3]=m=>r.nextPage())},{default:t.withCtx(()=>[t.createVNode(c,{icon:"fa-arrow-right"})]),_:1})]),_:1})]),_:1})]),_:1})):t.createCommentVNode("",!0)]),_:1})}const $y=g(Fy,[["render",Iy],["__scopeId","data-v-f4838c15"]]),pS="",Ly={props:{icon:{type:[Object,String],default(){return"fa-exclamation"}},type:{type:String,default:"info"}},computed:{classes(){var e=[];return e.push(`ux-info-${this.type}`),e}}},Py={class:"icon-circle"};function Uy(e,n,o,i,l,r){const a=t.resolveComponent("ux-icon"),s=t.resolveComponent("flex-cell"),c=t.resolveComponent("flex-row");return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["ux-info-box",r.classes])},[t.createVNode(c,{style:{gap:"1em"},center:""},{default:t.withCtx(()=>[o.icon?(t.openBlock(),t.createBlock(s,{key:0,shrink:""},{default:t.withCtx(()=>[t.createElementVNode("div",Py,[t.createVNode(a,{icon:o.icon},null,8,["icon"])])]),_:1})):t.createCommentVNode("",!0),t.createVNode(s,null,{default:t.withCtx(()=>[t.renderSlot(e.$slots,"default",{},void 0,!0)]),_:3})]),_:3})],2)}const Tl=g(Ly,[["render",Uy],["__scopeId","data-v-9669e7c0"]]),hS="",jy={props:{id:{type:[Object,String]}},computed:{stringID(){return this.$sdk.utils.id(this.id)},url(){}}},Ry={class:"avatar"};function zy(e,n,o,i,l,r){return t.openBlock(),t.createElementBlock("div",Ry)}const Ol=g(jy,[["render",zy]]),yS="",Hy={props:{large:{type:Boolean}}},qy=[(e=>(t.pushScopeId("data-v-d68fe1cf"),e=e(),t.popScopeId(),e))(()=>t.createElementVNode("i",{class:"fa fa-spin fa-spinner"},null,-1))];function Gy(e,n,o,i,l,r){return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["ux-spinner",{large:o.large}])},qy,2)}const Uo=g(Hy,[["render",Gy],["__scopeId","data-v-d68fe1cf"]]),kS="",Wy={components:{Spinner:Uo},props:{to:{type:[Object,String]},icon:{type:Boolean},color:{type:String,default:"default"},bgColor:{type:String},fgColor:{type:String},tag:{type:String},href:{type:String},target:{type:String},loading:{type:Boolean},active:{type:Boolean},disabled:{type:Boolean},block:{type:Boolean},size:{type:String,default:"md"}},computed:{style(){var e={};return this.bgColor&&(e.backgroundColor=this.bgColor),this.fgColor&&(e.color=this.fgColor),e},classes(){var e=[];return e.push(`ux-btn-${this.size}`),this.block&&e.push("ux-btn-block"),this.loading&&e.push("ux-btn-loading"),this.active&&e.push("ux-btn-active"),this.icon&&e.push("ux-btn-icon"),e.push(`ux-btn-color-${this.color}`),this.disabled&&e.push("ux-btn-disabled"),e},element(){switch(this.tag){case"span":return this.tag;case"submit":return"button";default:return this.to||this.href?"ux-link":this.tag||"button"}}}},Ky={class:"ux-btn-text"};function Zy(e,n,o,i,l,r){const a=t.resolveComponent("spinner");return t.openBlock(),t.createBlock(t.resolveDynamicComponent(r.element),{active:o.active,loading:o.loading,to:o.to,href:o.href,target:o.target,style:t.normalizeStyle(r.style),class:t.normalizeClass([r.classes,"ux-btn"]),disabled:o.disabled},{default:t.withCtx(()=>[o.loading?(t.openBlock(),t.createBlock(a,{key:0})):t.createCommentVNode("",!0),t.createElementVNode("span",Ky,[t.renderSlot(e.$slots,"default",{},void 0,!0)])]),_:3},8,["active","loading","to","href","target","style","class","disabled"])}const Dl=g(Wy,[["render",Zy],["__scopeId","data-v-66b9c2a8"]]),xS="",Yy={props:{value:{type:Boolean,default(){return!1}}},computed:{classes(){var e=[];return this.value?e.push("ux-checkbox-true"):e.push("ux-checkbox-false"),e}}};function Xy(e,n,o,i,l,r){const a=t.resolveComponent("ux-icon");return t.openBlock(),t.createElementBlock("button",{class:t.normalizeClass(["ux-checkbox",r.classes])},[t.createVNode(a,{class:"icon",icon:"fa-check"})],2)}const jo=g(Yy,[["render",Xy],["__scopeId","data-v-46a835a5"]]),bS="",Jy={props:{value:{type:Boolean,default(){return!1}},loading:{type:Boolean,default(){return!1}}},computed:{classes(){var e=[];return this.value?e.push("ux-switch-true"):e.push("ux-switch-false"),this.loading&&e.push("ux-switch-loading"),e}}};function Qy(e,n,o,i,l,r){const a=t.resolveComponent("ux-icon");return t.openBlock(),t.createElementBlock("a",{class:t.normalizeClass(["ux-switch",r.classes])},[t.createElementVNode("span",null,[t.createVNode(a,{spin:"",icon:"fa-spinner"})])],2)}const Al=g(Jy,[["render",Qy],["__scopeId","data-v-9663da46"]]),CS="",vy={props:{to:{type:[Object,String]},href:{type:String},target:{type:String},disabled:{type:Boolean},active:{type:Boolean}},methods:{clicked(e){var n=this;if(n.to&&(n.buildMode||n.nuxtMode))return e.preventDefault(),e.stopImmediatePropagation(),n.$sdk.app.to(n.to);if(n.href&&(n.buildMode||n.nuxtMode)){e.preventDefault(),e.stopImmediatePropagation();return}}},computed:{actualHref(){if(this.href)return this.href;if(this.nuxtMode)return this.$sdk.app.createHref(this.to)},nuxtMode(){return this.to&&this.$sdk.nuxt&&this.$sdk.app&&this.$sdk.app.createHref},buildMode(){return!!this.$sdk&&this.$sdk.app&&this.$sdk.app.builder},class(){var e=[];return this.disabled&&e.push("disabled"),this.active&&e.push("active"),(this.href||this.to)&&e.push("haslink"),e},element(){return this.nuxtMode||this.buildMode?"a":this.to?"router-link":"a"}}};function eg(e,n,o,i,l,r){return t.openBlock(),t.createBlock(t.resolveDynamicComponent(r.element),{onClick:r.clicked,to:o.to,href:r.actualHref,target:o.target,class:t.normalizeClass([r.class,"ux-link"])},{default:t.withCtx(()=>[t.renderSlot(e.$slots,"default",{},void 0,!0)]),_:3},8,["onClick","to","href","target","class"])}const Ml=g(vy,[["render",eg],["__scopeId","data-v-c91c7a6c"]]),wS="",tg={props:{icon:{type:[Object,String]},spin:{type:Boolean},left:{type:Boolean},right:{type:Boolean}},computed:{classes(){var e=[];return e.push(this.icon),this.spin&&e.push("fa-spin"),this.left&&e.push("ux-icon-left"),this.right&&e.push("ux-icon-right"),e},element(){return"i"}}};function ng(e,n,o,i,l,r){return t.openBlock(),t.createBlock(t.resolveDynamicComponent(r.element),{class:t.normalizeClass(["ux-icon fa",r.classes])},null,8,["class"])}const Fl=g(tg,[["render",ng],["__scopeId","data-v-dd53ba4e"]]),Pn={cache:{}},VS="",og={props:{group:{type:String},right:{type:Boolean,default:!1},bottom:{type:Boolean,default:!1},stop:{type:Boolean,default:!1},closeOnClick:{type:Boolean,default(){return!0}},modelValue:{type:Boolean,default(){return!1}}},data(){return{outerStyle:{},innerStyle:{},isExpanded:this.modelValue,triggerEvent:null,refMenu:null,mounted:!1}},watch:{modelValue(e){this.expanded=e}},mounted(){this.refMenu=this.$refs.menu,this.mounted=!0},beforeUnmount(){this.removeListeners(),this.refMenu=null,this.mounted=!1,Pn.cache[this.group]===this&&(Pn.cache[this.group]=null)},methods:{removeListeners(){document.removeEventListener("click",this.globalClick),this.refMenu&&this.refMenu.removeEventListener("click",this.immediateClick)},addEventListeners(){document.addEventListener("click",this.globalClick),this.refMenu&&this.refMenu.addEventListener("click",this.immediateClick)},immediateClick(e){this.expanded&&this.closeOnClick&&(e.stopImmediatePropagation(),this.expanded=!1)},globalClick(e){if(this.triggerEvent!==e){var n=this.$refs.menu,o=e.srcElement;n&&n.contains(o)?this.closeOnClick&&(this.expanded=!1):this.expanded=!1}},position(){const e=this.$el.getBoundingClientRect();this.outerStyle.left=`${e.left+window.scrollX}px`,this.outerStyle.top=`${e.bottom+window.scrollY}px`,this.right&&(this.innerStyle.right=`-${e.width}px`),this.bottom&&(this.innerStyle.bottom=`${e.height}px`);var n=this.getMaxZIndex();this.outerStyle.zIndex=n},getMaxZIndex(){return Math.max(...Array.from(document.querySelectorAll("body *"),e=>parseFloat(window.getComputedStyle(e).zIndex)).filter(e=>!Number.isNaN(e)),0)},close(){this.expanded=!1}},computed:{expanded:{get(){return this.isExpanded},set(e){var n;this.group&&(n=Pn.cache[this.group]),this.isExpanded!=e&&(this.isExpanded=e,e?(this.position(),this.addEventListeners(),Pn.cache[this.group]=this,n&&n!=this&&(n.expanded=!1)):this.removeListeners(),this.$emit("update:modelValue",e))}},on(){var e=this;return{click(n){e.stop&&n.stopImmediatePropagation(),e.triggerEvent=n,e.expanded=!e.expanded}}}}};function rg(e,n,o,i,l,r){return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["ux-menu",{right:o.right}])},[t.createElementVNode("span",null,[t.renderSlot(e.$slots,"activator",{on:r.on},void 0,!0)]),(t.openBlock(),t.createBlock(t.Teleport,{to:"body"},[l.isExpanded?(t.openBlock(),t.createElementBlock("div",{key:0,class:"ux-menu-outer",style:t.normalizeStyle(l.outerStyle)},[t.createElementVNode("div",{class:"ux-menu-panel",ref:"menu",style:t.normalizeStyle(l.innerStyle)},[t.renderSlot(e.$slots,"default",{},void 0,!0)],4)],4)):t.createCommentVNode("",!0)]))],2)}const Il=g(og,[["render",rg],["__scopeId","data-v-db935124"]]),ig={name:"menulist",props:{items:{type:Array,default(){return[]}},expandOn:{type:String,default:"none"}},mounted(){this.mounted=!0},beforeUnmount(){this.mounted=!1,this.removeListeners()},computed:{filteredItems(){return this.tree.filter(function(e){return!e.disabled})},expandedItem:{get(){return this.currentExpandedItem},set(e){this.currentExpandedItem&&(this.currentExpandedItem.expanded=!1,this.currentExpandedItem.collapsed=!0),this.currentExpandedItem=e,this.currentExpandedItem?(this.currentExpandedItem.expanded=!0,this.currentExpandedItem.collapsed=!1,this.addListeners()):this.removeListeners()}}},data(){return{currentExpandedItem:null,tree:JSON.parse(JSON.stringify(this.items))}},methods:{globalClick(e){this.expandedItem=null},addListeners(){var n;this.$sdk.addEventListener("route:change",this.globalClick);const e=(n=this.$el)==null?void 0:n.ownerDocument;e&&e.body.addEventListener("click",this.globalClick)},removeListeners(){var n;this.$sdk.removeEventListener("route:change",this.globalClick);const e=(n=this.$el)==null?void 0:n.ownerDocument;e&&e.body.removeEventListener("click",this.globalClick)},toggle(e){this.currentExpandedItem===e?this.expandedItem=null:this.expandedItem=e}},watch:{items:{handler(e){this.tree=JSON.parse(JSON.stringify(e))},deep:!0}}};function lg(e,n,o,i,l,r){const a=t.resolveComponent("ux-link"),s=t.resolveComponent("menulist",!0);return t.openBlock(),t.createElementBlock("ul",null,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(r.filteredItems,c=>{var d;return t.openBlock(),t.createElementBlock("li",{class:t.normalizeClass({expanded:c.expanded,collapsed:c.collapsed})},[o.expandOn==="click"&&((d=c.items)!=null&&d.length)?(t.openBlock(),t.createBlock(a,{key:0,onClick:t.withModifiers(u=>r.toggle(c),["stop","prevent"]),class:t.normalizeClass(c.class)},{default:t.withCtx(()=>[t.createTextVNode(t.toDisplayString(c.title),1)]),_:2},1032,["onClick","class"])):(t.openBlock(),t.createElementBlock(t.Fragment,{key:1},[c.type==="url"?(t.openBlock(),t.createBlock(a,{key:0,class:t.normalizeClass(c.class),target:c.target,href:c.href||c.url},{default:t.withCtx(()=>[t.createTextVNode(t.toDisplayString(c.title),1)]),_:2},1032,["class","target","href"])):c.type==="route"?(t.openBlock(),t.createBlock(a,{key:1,class:t.normalizeClass(c.class),to:{name:c.route}},{default:t.withCtx(()=>[t.createTextVNode(t.toDisplayString(c.title),1)]),_:2},1032,["class","to"])):t.createCommentVNode("",!0)],64)),c.items&&c.items.length?(t.openBlock(),t.createBlock(s,{key:2,items:c.items},null,8,["items"])):t.createCommentVNode("",!0)],2)}),256))])}const $l=g(ig,[["render",lg]]),ES="",ag={props:{item:{type:[Object,String]},alt:{type:String},width:{type:[Number,String]},height:{type:[Number,String]},inline:{type:Boolean},quality:{type:[Number,String]},contain:{type:Boolean,default:!0},preview:{type:Boolean,default:!1},crop:{type:Boolean},format:{type:String},upscale:{type:Boolean,default:!0},type:{type:String,default:"image"},svg:{type:Boolean}},data(){return{model:this.item}},watch:{item(e){this.model=e}},computed:{altText(){var e;return this.alt||((e=this.model)==null?void 0:e.title)},className(){var e=[];return this.portrait&&e.push("img-portrait"),e.join(" ")},isSvg(){var e;if(this.svg)return!0;switch((e=this.item)==null?void 0:e.fileMime){case"image/svg+xml":case"image/svg":return!0}},portrait(){return this.crop?this.dimensionHeight>this.dimensionWidth:this.modelHeight>this.modelWidth},imageWidth(){return parseInt(this.width)},imageHeight(){return parseInt(this.height)},modelWidth(){var e;return parseInt((e=this.model)==null?void 0:e.width)},modelHeight(){var e;return parseInt((e=this.model)==null?void 0:e.height)},id(){return this.$sdk.utils.id(this.model)},params(){var e={};return e.access_token=this.$sdk.auth.getCurrentToken(),this.imageWidth&&(e.w=this.imageWidth?this.imageWidth:null),this.imageHeight&&(e.h=this.imageHeight?this.imageHeight:null),this.crop?e.c=!0:this.contain||(e.c=this.imageWidth&&this.imageHeight),this.quality&&(e.q=parseInt(this.quality)),this.upscale&&(e.u=!0),this.format&&(e.f=this.format),e},src(){const e="image";return this.$sdk.api.generateEndpointURL(`/${e}/${this.id}`,this.params,{file:!0})},previewSrc(){var e=Object.assign({},this.params);e.w=50,delete e.h;const n="image";return this.$sdk.api.generateEndpointURL(`/${n}/${this.id}`,e,{file:!0})},imageStyle(){var e={};return this.crop||(e["object-fit"]="contain"),this.inline?e.maxWidth="100%":(e.width="100%",e.height="100%",e.top="0",e.left="0",e.position="absolute"),e},dimensionWidth(){return this.imageWidth&&this.imageHeight?this.imageWidth:this.modelWidth},dimensionHeight(){return this.imageWidth&&this.imageHeight?this.imageHeight:this.modelHeight},style(){var o,i,l;var e={};this.inline?e.display="inline-block":this.dimensionHeight&&this.dimensionWidth&&(e.height=0,e.overflow="hidden",e.paddingBottom=`${this.dimensionHeight/this.dimensionWidth*100}%`,e.position="relative");var n=(l=(i=(o=this.model)==null?void 0:o.fileMeta)==null?void 0:i.colors)==null?void 0:l.colors;return n&&n.length&&(e.backgroundColor=n[0]),this.isSvg||this.preview&&(e.backgroundImage=`url(${this.previewSrc})`),e}}},sg=["alt","data"],cg=["alt","src"];function dg(e,n,o,i,l,r){return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["ux-image",r.className]),style:t.normalizeStyle(r.style)},[o.svg?(t.openBlock(),t.createElementBlock("object",{key:0,alt:r.altText,type:"image/svg+xml",data:r.src},null,8,sg)):(t.openBlock(),t.createElementBlock("img",{key:1,alt:r.altText,style:t.normalizeStyle(r.imageStyle),src:r.src},null,12,cg))],6)}const Ll=g(ag,[["render",dg],["__scopeId","data-v-03c1a2af"]]),BS="",ug={props:{item:{type:[Object,String]},width:{type:[Number,String]},height:{type:[Number,String]},controls:{type:Boolean,default:!0}},data(){return{model:this.item}},computed:{mediaType(){var e;return((e=this.model)==null?void 0:e.mediaIntegrationType)||"upload"},mimetype(){var e;return((e=this.model)==null?void 0:e.fileMime)||"video/mp4"},actualWidth(){return parseInt(this.width)||this.modelWidth||1920},actualHeight(){return parseInt(this.height)||this.modelHeight||1080},className(){var e=[];return this.portrait&&e.push("video-portrait"),e.push(`video-type-${this.mediaType}`),e.join(" ")},portrait(){return this.actualHeight>this.actualWidth},modelWidth(){var e;return parseInt(((e=this.model)==null?void 0:e.width)||0)},modelHeight(){var e;return parseInt(((e=this.model)==null?void 0:e.height)||0)},id(){return this.$sdk.utils.id(this.model)},params(){var e={};return e.access_token=this.$sdk.auth.getCurrentToken(),e},src(){return this.$sdk.api.generateEndpointURL(`/video/${this.id}`,this.params,{file:!0})},thumbnailSrc(){var e=Object.assign({},this.params);return e.w=this.actualWidth,e.h=this.actualHeight,delete e.h,this.$sdk.api.generateEndpointURL(`/image/${this.id}`,e,{file:!0})},style(){var e={};return e}}},mg={class:"ux-video-embed-upload"},fg=["width","height","controls"],pg=["src","type"];function hg(e,n,o,i,l,r){return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["ux-video",r.className]),style:t.normalizeStyle(r.style)},[t.createElementVNode("div",mg,[t.createElementVNode("video",{width:r.actualWidth,height:r.actualHeight,controls:o.controls},[t.createElementVNode("source",{src:r.src,type:r.mimetype},null,8,pg),t.createTextVNode(" Your browser does not support the video tag. ")],8,fg)])],6)}const Pl=g(ug,[["render",hg],["__scopeId","data-v-ba1469f2"]]),NS="",yg={props:{value:{type:Number}},computed:{classes(){var e=[];return e.push(this.icon),this.spin&&e.push("fa-spin"),this.left&&e.push("ux-icon-left"),this.right&&e.push("ux-icon-right"),e},percent(){return this.value},barStyle(){return{width:`${this.percent}%`}},element(){return"i"}}},gg=e=>(t.pushScopeId("data-v-d56ad6e1"),e=e(),t.popScopeId(),e),_g={class:"ux-progress"},kg=gg(()=>t.createElementVNode("div",{class:"ux-progress-bg"},null,-1));function xg(e,n,o,i,l,r){return t.openBlock(),t.createElementBlock("div",_g,[kg,t.createElementVNode("div",{class:"ux-progress-fg",style:t.normalizeStyle(r.barStyle)},null,4)])}const Ul=g(yg,[["render",xg],["__scopeId","data-v-d56ad6e1"]]),SS="",bg={},Cg={class:"ux-list"};function wg(e,n){return t.openBlock(),t.createElementBlock("ul",Cg,[t.renderSlot(e.$slots,"default",{},void 0,!0)])}const jl=g(bg,[["render",wg],["__scopeId","data-v-98a2be3e"]]),TS="",Vg={props:{to:{type:[Object,String]},href:{type:String},target:{type:String},disabled:{type:Boolean}},computed:{element(){return this.to||this.href?"ux-link":"div"}}};function Eg(e,n,o,i,l,r){return t.openBlock(),t.createBlock(t.resolveDynamicComponent(r.element),{class:"ux-list-item",to:o.to,href:o.href,target:o.target,disabled:o.disabled},{default:t.withCtx(()=>[t.renderSlot(e.$slots,"default",{},void 0,!0)]),_:3},8,["to","href","target","disabled"])}const Rl=g(Vg,[["render",Eg],["__scopeId","data-v-a5af4698"]]),OS="";function en(e){var n=new Date(e);if(n instanceof Date&&!isNaN(n))return n}const Bg={props:{modelValue:{type:Object}},data(){return{model:this.modelValue}},computed:{startDate:{get(){var e;return(e=en(this.model.startDate))==null?void 0:e.toISOString().slice(0,10)},set(e){e=en(e),e?this.model.startDate=e:this.model.startDate=void 0}},endDate:{get(){var e;return(e=en(this.model.endDate))==null?void 0:e.toISOString().slice(0,10)},set(e){e=en(e),en(e)?this.model.endDate=e:this.model.endDate=void 0}}},watch:{model(e){this.$emit("updated:modelValue",e)},modelValue(e){this.model=e}}},zl=e=>(t.pushScopeId("data-v-dc53841d"),e=e(),t.popScopeId(),e),Ng=zl(()=>t.createElementVNode("label",null,"From Date",-1)),Sg=zl(()=>t.createElementVNode("label",null,"To Date",-1));function Tg(e,n,o,i,l,r){const a=t.resolveComponent("flex-cell"),s=t.resolveComponent("flex-row");return t.openBlock(),t.createElementBlock("div",null,[t.createVNode(s,{wrap:"",gap:"",vcenter:""},{default:t.withCtx(()=>[t.createVNode(a,{class:"cell"},{default:t.withCtx(()=>[t.createElementVNode("div",null,[Ng,t.withDirectives(t.createElementVNode("input",{type:"date",class:"ux-field-focus ux-text-input-multiple",ref:"input","onUpdate:modelValue":n[0]||(n[0]=c=>r.startDate=c)},null,512),[[t.vModelText,r.startDate]])])]),_:1}),t.createVNode(a,{class:"cell"},{default:t.withCtx(()=>[t.createElementVNode("div",null,[Sg,t.withDirectives(t.createElementVNode("input",{type:"date",class:"ux-field-focus ux-text-input-multiple",ref:"input","onUpdate:modelValue":n[1]||(n[1]=c=>r.endDate=c)},null,512),[[t.vModelText,r.endDate]])])]),_:1})]),_:1})])}const Hl=g(Bg,[["render",Tg],["__scopeId","data-v-dc53841d"]]),DS="",Og={props:{modelValue:{type:[Object,Array]}},components:{NativeSelect:Qe},mixins:[z],async created(){var e=await this.$sdk.system.countries(),n=e.reduce(function(o,i){if(!i.countryCallingCodes||!i.countryCallingCodes.length)return o;var l=`${i.name} (${i.countryCallingCodes.join(", ")})`,r=l;return o.values[r]||(o.values[r]=!0,o.lookup[i.alpha2]=i,o.value.push({title:`${l} - ${i.emoji}`,value:i.alpha2,emoji:i.emoji})),o},{value:[],values:{},lookup:{}});this.countryCodes=n.value,this.lookup=n.lookup},data(){return{countryCodes:[],lookup:{}}},computed:{actualPlaceholder(){return"+61 000 000 000"},countryCodeField(){return{minimum:0,maximum:1,type:"string",options:this.countryCodes}},defaultCountryCode(){var e=this.user?this.user.countryCode:"",n=this.user&&this.user.organisation?this.user.organisation.countryCode:"";return e||n}},methods:{getNewDefaultEntry(){return{label:"",countryCode:this.defaultCountryCode,number:""}}}},Dg=e=>(t.pushScopeId("data-v-d61960a4"),e=e(),t.popScopeId(),e),Ag={key:0,class:"ux-field-title"},Mg={key:0,class:"ux-required-marker"},Fg={key:1,class:"ux-field-description"},Ig={key:2},$g={key:0},Lg={key:1},Pg={class:"ux-text-wrap"},Ug=["placeholder","onUpdate:modelValue"],jg=Dg(()=>t.createElementVNode("option",{value:""},"None",-1)),Rg=["value"],zg={class:"ux-text-wrap"},Hg=["placeholder"];function qg(e,n,o,i,l,r){const a=t.resolveComponent("ux-button"),s=t.resolveComponent("native-select"),c=t.resolveComponent("flex-cell"),d=t.resolveComponent("ux-icon"),u=t.resolveComponent("flex-row");return t.openBlock(),t.createElementBlock(t.Fragment,null,[e.showLabel?(t.openBlock(),t.createElementBlock("label",Ag,[t.createTextVNode(t.toDisplayString(e.label)+" ",1),e.required?(t.openBlock(),t.createElementBlock("span",Mg,"*")):t.createCommentVNode("",!0)])):t.createCommentVNode("",!0),e.showDescription?(t.openBlock(),t.createElementBlock("div",Fg,t.toDisplayString(e.description),1)):t.createCommentVNode("",!0),e.multiValue?(t.openBlock(),t.createElementBlock("div",Ig,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.model,(m,f)=>(t.openBlock(),t.createBlock(u,{gap:"",vcenter:"",wrap:"",class:"ux-text-row",key:f},{default:t.withCtx(()=>[t.createVNode(c,{shrink:""},{default:t.withCtx(()=>[t.createVNode(s,{modelValue:m.countryCode,"onUpdate:modelValue":p=>m.countryCode=p,field:r.countryCodeField},{default:t.withCtx(()=>[t.createVNode(a,{tag:"a"},{default:t.withCtx(()=>[m.countryCode?(t.openBlock(),t.createElementBlock(t.Fragment,{key:1},[l.lookup[m.countryCode]?(t.openBlock(),t.createElementBlock("div",$g,t.toDisplayString(l.lookup[m.countryCode].emoji)+" - "+t.toDisplayString(l.lookup[m.countryCode].alpha2),1)):(t.openBlock(),t.createElementBlock("div",Lg,"Loading"))],64)):(t.openBlock(),t.createElementBlock(t.Fragment,{key:0},[t.createTextVNode(" Country Code ")],64))]),_:2},1024)]),_:2},1032,["modelValue","onUpdate:modelValue","field"])]),_:2},1024),t.createVNode(c,null,{default:t.withCtx(()=>[t.createElementVNode("div",Pg,[t.withDirectives(t.createElementVNode("input",{class:"ux-field-focus ux-text-input-multiple",placeholder:r.actualPlaceholder,onFocus:n[0]||(n[0]=(...p)=>e.touch&&e.touch(...p)),ref_for:!0,ref:"input",onKeydown:n[1]||(n[1]=t.withKeys(t.withModifiers(p=>e.add(),["stop","prevent"]),["enter"])),"onUpdate:modelValue":p=>m.number=p},null,40,Ug),[[t.vModelText,m.number]])])]),_:2},1024),t.createVNode(c,{shrink:"",vcenter:""},{default:t.withCtx(()=>[e.canRemoveValue?(t.openBlock(),t.createBlock(a,{key:0,tag:"a",icon:"",onClick:p=>e.remove(m)},{default:t.withCtx(()=>[t.createVNode(d,{icon:"fa-times"})]),_:2},1032,["onClick"])):t.createCommentVNode("",!0)]),_:2},1024)]),_:2},1024))),128)),e.canAddValue?(t.openBlock(),t.createBlock(a,{key:0,onClick:n[2]||(n[2]=m=>e.add())},{default:t.withCtx(()=>[t.createTextVNode(t.toDisplayString(e.addLabel)+" ",1),t.createVNode(d,{icon:"fa-plus",right:""})]),_:1})):t.createCommentVNode("",!0)])):(t.openBlock(),t.createBlock(u,{wrap:"",class:"ux-text-row",key:e.index},{default:t.withCtx(()=>[t.createVNode(c,{shrink:""},{default:t.withCtx(()=>[t.withDirectives(t.createElementVNode("select",{class:"ux-country-code-select","onUpdate:modelValue":n[3]||(n[3]=m=>e.model.countryCode=m)},[jg,(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(l.countryCodes,m=>(t.openBlock(),t.createElementBlock("option",{value:m.value},t.toDisplayString(m.title),9,Rg))),256))],512),[[t.vModelSelect,e.model.countryCode]])]),_:1}),t.createVNode(c,null,{default:t.withCtx(()=>[t.createElementVNode("div",zg,[t.withDirectives(t.createElementVNode("input",{class:"ux-field-focus ux-text-input-multiple",placeholder:r.actualPlaceholder,onFocus:n[4]||(n[4]=(...m)=>e.touch&&e.touch(...m)),ref:"input",onKeydown:n[5]||(n[5]=t.withKeys(t.withModifiers(m=>e.add(),["stop","prevent"]),["enter"])),"onUpdate:modelValue":n[6]||(n[6]=m=>e.model.number=m)},null,40,Hg),[[t.vModelText,e.model.number]])])]),_:1})]),_:1}))],64)}const Gg=g(Og,[["render",qg],["__scopeId","data-v-d61960a4"]]),AS="";function Wg(e){return e===void 0||typeof e>"u"||e===null||String(e)==="null"||String(e)==="undefined"}const Kg={props:{modelValue:{}},mixins:[z],created(){this.model=this.model},methods:{cleanOutput(e){var n=this;return Wg(e)?n.multiValue?e=[]:e=void 0:n.multiValue?e=(e||[]).filter(Boolean).map(function(o){return n.getValue(o)}):e=n.getValue(e),e},cleanInput(e){var n=this;if(n.multiValue)e||(e=[]),Array.isArray(e)||(e=[e]),n.maximum&&e.length>n.maximum&&(e.length=n.maximum),e=e.filter(Boolean).map(function(i){var l=n.getValue(i);return n.returnObject?n.optionLookup[l]:l});else{var o=n.getValue(e);e=n.returnObject?n.optionLookup[o]:o}return e}},computed:{returnObject(){return this.type=="reference"},classes(){var e=[];return this.multiValue?e.push("multiple"):e.push("single"),e},optionLookup(){var e=this;return e.options.reduce(function(n,o){const i=e.getValue(o);return n[i]=o,n},{})},summary(){return this.getLabel(this.optionLookup[this.model])||"Click to select"},options(){return["Africa/Abidjan","Africa/Accra","Africa/Addis_Ababa","Africa/Algiers","Africa/Asmera","Africa/Bamako","Africa/Bangui","Africa/Banjul","Africa/Bissau","Africa/Blantyre","Africa/Brazzaville","Africa/Bujumbura","Africa/Cairo","Africa/Casablanca","Africa/Ceuta","Africa/Conakry","Africa/Dakar","Africa/Dar_es_Salaam","Africa/Djibouti","Africa/Douala","Africa/El_Aaiun","Africa/Freetown","Africa/Gaborone","Africa/Harare","Africa/Johannesburg","Africa/Juba","Africa/Kampala","Africa/Khartoum","Africa/Kigali","Africa/Kinshasa","Africa/Lagos","Africa/Libreville","Africa/Lome","Africa/Luanda","Africa/Lubumbashi","Africa/Lusaka","Africa/Malabo","Africa/Maputo","Africa/Maseru","Africa/Mbabane","Africa/Mogadishu","Africa/Monrovia","Africa/Nairobi","Africa/Ndjamena","Africa/Niamey","Africa/Nouakchott","Africa/Ouagadougou","Africa/Porto-Novo","Africa/Sao_Tome","Africa/Tripoli","Africa/Tunis","Africa/Windhoek","America/Anchorage","America/Anguilla","America/Antigua","America/Araguaina","America/Argentina/La_Rioja","America/Argentina/Rio_Gallegos","America/Argentina/Salta","America/Argentina/San_Juan","America/Argentina/San_Luis","America/Argentina/Tucuman","America/Argentina/Ushuaia","America/Aruba","America/Asuncion","America/Bahia","America/Bahia_Banderas","America/Barbados","America/Belem","America/Belize","America/Blanc-Sablon","America/Boa_Vista","America/Bogota","America/Boise","America/Buenos_Aires","America/Cambridge_Bay","America/Campo_Grande","America/Cancun","America/Caracas","America/Catamarca","America/Cayenne","America/Cayman","America/Chicago","America/Chihuahua","America/Coral_Harbour","America/Cordoba","America/Costa_Rica","America/Creston","America/Cuiaba","America/Curacao","America/Danmarkshavn","America/Dawson","America/Dawson_Creek","America/Denver","America/Detroit","America/Dominica","America/Edmonton","America/Eirunepe","America/El_Salvador","America/Fortaleza","America/Glace_Bay","America/Godthab","America/Goose_Bay","America/Grand_Turk","America/Grenada","America/Guadeloupe","America/Guatemala","America/Guayaquil","America/Guyana","America/Halifax","America/Havana","America/Hermosillo","America/Indiana/Knox","America/Indiana/Marengo","America/Indiana/Petersburg","America/Indiana/Tell_City","America/Indiana/Vevay","America/Indiana/Vincennes","America/Indiana/Winamac","America/Indianapolis","America/Inuvik","America/Iqaluit","America/Jamaica","America/Jujuy","America/Juneau","America/Kentucky/Monticello","America/Kralendijk","America/La_Paz","America/Lima","America/Los_Angeles","America/Louisville","America/Lower_Princes","America/Maceio","America/Managua","America/Manaus","America/Marigot","America/Martinique","America/Matamoros","America/Mazatlan","America/Mendoza","America/Menominee","America/Merida","America/Mexico_City","America/Moncton","America/Monterrey","America/Montevideo","America/Montreal","America/Montserrat","America/Nassau","America/New_York","America/Nipigon","America/Nome","America/Noronha","America/North_Dakota/Beulah","America/North_Dakota/Center","America/North_Dakota/New_Salem","America/Ojinaga","America/Panama","America/Pangnirtung","America/Paramaribo","America/Phoenix","America/Port-au-Prince","America/Port_of_Spain","America/Porto_Velho","America/Puerto_Rico","America/Rainy_River","America/Rankin_Inlet","America/Recife","America/Regina","America/Resolute","America/Rio_Branco","America/Santa_Isabel","America/Santarem","America/Santiago","America/Santo_Domingo","America/Sao_Paulo","America/Scoresbysund","America/Sitka","America/St_Barthelemy","America/St_Johns","America/St_Kitts","America/St_Lucia","America/St_Thomas","America/St_Vincent","America/Swift_Current","America/Tegucigalpa","America/Thule","America/Thunder_Bay","America/Tijuana","America/Toronto","America/Tortola","America/Vancouver","America/Whitehorse","America/Winnipeg","America/Yakutat","America/Yellowknife","Antarctica/Casey","Antarctica/Davis","Antarctica/DumontDUrville","Antarctica/Macquarie","Antarctica/Mawson","Antarctica/McMurdo","Antarctica/Palmer","Antarctica/Rothera","Antarctica/Syowa","Antarctica/Vostok","Arctic/Longyearbyen","Asia/Aden","Asia/Almaty","Asia/Amman","Asia/Anadyr","Asia/Aqtau","Asia/Aqtobe","Asia/Ashgabat","Asia/Baghdad","Asia/Bahrain","Asia/Baku","Asia/Bangkok","Asia/Beirut","Asia/Bishkek","Asia/Brunei","Asia/Calcutta","Asia/Chita","Asia/Choibalsan","Asia/Colombo","Asia/Damascus","Asia/Dhaka","Asia/Dili","Asia/Dubai","Asia/Dushanbe","Asia/Hong_Kong","Asia/Hovd","Asia/Irkutsk","Asia/Jakarta","Asia/Jayapura","Asia/Jerusalem","Asia/Kabul","Asia/Kamchatka","Asia/Karachi","Asia/Kathmandu","Asia/Khandyga","Asia/Kolkata","Asia/Krasnoyarsk","Asia/Kuala_Lumpur","Asia/Kuching","Asia/Kuwait","Asia/Macau","Asia/Magadan","Asia/Makassar","Asia/Manila","Asia/Muscat","Asia/Nicosia","Asia/Novokuznetsk","Asia/Novosibirsk","Asia/Omsk","Asia/Oral","Asia/Phnom_Penh","Asia/Pontianak","Asia/Pyongyang","Asia/Qatar","Asia/Qyzylorda","Asia/Rangoon","Asia/Riyadh","Asia/Saigon","Asia/Sakhalin","Asia/Samarkand","Asia/Seoul","Asia/Shanghai","Asia/Singapore","Asia/Srednekolymsk","Asia/Taipei","Asia/Tashkent","Asia/Tbilisi","Asia/Tehran","Asia/Thimphu","Asia/Tokyo","Asia/Ulaanbaatar","Asia/Urumqi","Asia/Ust-Nera","Asia/Vientiane","Asia/Vladivostok","Asia/Yakutsk","Asia/Yekaterinburg","Asia/Yerevan","Atlantic/Azores","Atlantic/Bermuda","Atlantic/Canary","Atlantic/Cape_Verde","Atlantic/Faeroe","Atlantic/Madeira","Atlantic/Reykjavik","Atlantic/South_Georgia","Atlantic/St_Helena","Atlantic/Stanley","Australia/Adelaide","Australia/Brisbane","Australia/Broken_Hill","Australia/Currie","Australia/Darwin","Australia/Hobart","Australia/Lindeman","Australia/Melbourne","Australia/Perth","Australia/Sydney","CST6CDT","EST5EDT","Etc/GMT","Etc/GMT+1","Etc/GMT+10","Etc/GMT+11","Etc/GMT+12","Etc/GMT+2","Etc/GMT+3","Etc/GMT+4","Etc/GMT+5","Etc/GMT+6","Etc/GMT+7","Etc/GMT-1","Etc/GMT-10","Etc/GMT-11","Etc/GMT-12","Etc/GMT-13","Etc/GMT-2","Etc/GMT-3","Etc/GMT-4","Etc/GMT-5","Etc/GMT-6","Etc/GMT-7","Etc/GMT-8","Etc/GMT-9","Europe/Amsterdam","Europe/Andorra","Europe/Astrakhan","Europe/Athens","Europe/Belgrade","Europe/Berlin","Europe/Bratislava","Europe/Brussels","Europe/Bucharest","Europe/Budapest","Europe/Busingen","Europe/Chisinau","Europe/Copenhagen","Europe/Dublin","Europe/Gibraltar","Europe/Guernsey","Europe/Helsinki","Europe/Isle_of_Man","Europe/Istanbul","Europe/Jersey","Europe/Kaliningrad","Europe/Kiev","Europe/Kirov","Europe/Lisbon","Europe/Ljubljana","Europe/London","Europe/Luxembourg","Europe/Madrid","Europe/Malta","Europe/Mariehamn","Europe/Minsk","Europe/Monaco","Europe/Moscow","Europe/Nicosia","Europe/Oslo","Europe/Paris","Europe/Podgorica","Europe/Prague","Europe/Riga","Europe/Rome","Europe/Samara","Europe/San_Marino","Europe/Sarajevo","Europe/Simferopol","Europe/Skopje","Europe/Sofia","Europe/Stockholm","Europe/Tallinn","Europe/Tirane","Europe/Ulyanovsk","Europe/Uzhgorod","Europe/Vaduz","Europe/Vatican","Europe/Vienna","Europe/Vilnius","Europe/Volgograd","Europe/Warsaw","Europe/Zagreb","Europe/Zaporozhye","Europe/Zurich","Indian/Antananarivo","Indian/Chagos","Indian/Christmas","Indian/Cocos","Indian/Comoro","Indian/Kerguelen","Indian/Mahe","Indian/Maldives","Indian/Mauritius","Indian/Mayotte","Indian/Reunion","MST7MDT","PST8PDT","Pacific/Apia","Pacific/Auckland","Pacific/Efate","Pacific/Enderbury","Pacific/Fakaofo","Pacific/Fiji","Pacific/Funafuti","Pacific/Galapagos","Pacific/Guadalcanal","Pacific/Guam","Pacific/Honolulu","Pacific/Johnston","Pacific/Kosrae","Pacific/Kwajalein","Pacific/Majuro","Pacific/Midway","Pacific/Nauru","Pacific/Niue","Pacific/Noumea","Pacific/Pago_Pago","Pacific/Palau","Pacific/Ponape","Pacific/Port_Moresby","Pacific/Rarotonga","Pacific/Saipan","Pacific/Tahiti","Pacific/Tarawa","Pacific/Tongatapu","Pacific/Truk","Pacific/Wake","Pacific/Wallis"].map(function(e){return{title:e,value:e}})},selectableOptions(){return this.options}}},Zg={key:0,class:"ux-field-title"},Yg={key:0,class:"ux-required-marker"},Xg={key:1,class:"ux-field-description"},Jg={key:2,class:"ui-select-button"},Qg=["multiple"],vg={key:0,value:""},e_=["value"];function t_(e,n,o,i,l,r){const a=t.resolveComponent("ux-button");return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["native-select",r.classes])},[e.showLabel?(t.openBlock(),t.createElementBlock("label",Zg,[t.createTextVNode(t.toDisplayString(e.label)+" ",1),e.required?(t.openBlock(),t.createElementBlock("span",Yg,"*")):t.createCommentVNode("",!0)])):t.createCommentVNode("",!0),e.showDescription?(t.openBlock(),t.createElementBlock("div",Xg,t.toDisplayString(e.description),1)):t.createCommentVNode("",!0),e.singleValue?(t.openBlock(),t.createElementBlock("div",Jg,[t.renderSlot(e.$slots,"default",{},()=>[t.createVNode(a,{tag:"div"},{default:t.withCtx(()=>[t.createTextVNode(t.toDisplayString(r.summary),1)]),_:1})],!0)])):t.createCommentVNode("",!0),t.withDirectives(t.createElementVNode("select",{onFocus:n[0]||(n[0]=(...s)=>e.touch&&e.touch(...s)),multiple:e.multiValue,"onUpdate:modelValue":n[1]||(n[1]=s=>e.model=s)},[e.singleValue&&!e.minimum?(t.openBlock(),t.createElementBlock("option",vg,"None")):t.createCommentVNode("",!0),(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(r.selectableOptions,s=>(t.openBlock(),t.createElementBlock("option",{value:s.value},t.toDisplayString(s.title),9,e_))),256))],40,Qg),[[t.vModelSelect,e.model]])],2)}const n_=g(Kg,[["render",t_],["__scopeId","data-v-dc886566"]]),MS="",o_={props:{item:{type:Object,required:!0}},data(){return{model:this.item}},watch:{item(e){this.model=e}},computed:{basicType(){var e,n;return(n=(e=this.model)==null?void 0:e.meta)==null?void 0:n.type},hasImage(){switch(this.basicType){case"image":case"video":case"profile":return!0}},title(){return this.model.title||this.model.name||this.model.label||(this.model.firstName?`${this.model.firstName} ${this.model.lastName}`:"(Title unknown)")}},methods:{clicked(){this.$sdk.dispatch("item:view",this.model)}}};function r_(e,n,o,i,l,r){const a=t.resolveComponent("ux-image"),s=t.resolveComponent("flex-cell"),c=t.resolveComponent("flex-row");return t.openBlock(),t.createElementBlock("div",{class:"content-item",onClick:n[0]||(n[0]=(...d)=>r.clicked&&r.clicked(...d))},[t.createVNode(c,{gap:"",vcenter:""},{default:t.withCtx(()=>[r.hasImage?(t.openBlock(),t.createBlock(s,{key:0,shrink:""},{default:t.withCtx(()=>[t.createElementVNode("div",{class:t.normalizeClass(["image-wrapper",r.basicType])},[t.createVNode(a,{item:l.model,width:100,height:100},null,8,["item"])],2)]),_:1})):t.createCommentVNode("",!0),t.createVNode(s,{vcenter:""},{default:t.withCtx(()=>[t.createElementVNode("div",null,[t.renderSlot(e.$slots,"default",{},()=>[t.createTextVNode(t.toDisplayString(r.title),1)],!0)])]),_:3}),t.createVNode(s,{shrink:""},{default:t.withCtx(()=>[t.renderSlot(e.$slots,"actions",{},void 0,!0)]),_:3})]),_:3})])}const ql=g(o_,[["render",r_],["__scopeId","data-v-805b5945"]]);/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Gl(e,n){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),o.push.apply(o,i)}return o}function Le(e){for(var n=1;n<arguments.length;n++){var o=arguments[n]!=null?arguments[n]:{};n%2?Gl(Object(o),!0).forEach(function(i){i_(e,i,o[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):Gl(Object(o)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(o,i))})}return e}function Un(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Un=function(n){return typeof n}:Un=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Un(e)}function i_(e,n,o){return n in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,e}function We(){return We=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i])}return e},We.apply(this,arguments)}function l_(e,n){if(e==null)return{};var o={},i=Object.keys(e),l,r;for(r=0;r<i.length;r++)l=i[r],!(n.indexOf(l)>=0)&&(o[l]=e[l]);return o}function a_(e,n){if(e==null)return{};var o=l_(e,n),i,l;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(l=0;l<r.length;l++)i=r[l],!(n.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(o[i]=e[i])}return o}var s_="1.14.0";function Ke(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var Ze=Ke(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),tn=Ke(/Edge/i),Wl=Ke(/firefox/i),nn=Ke(/safari/i)&&!Ke(/chrome/i)&&!Ke(/android/i),Kl=Ke(/iP(ad|od|hone)/i),c_=Ke(/chrome/i)&&Ke(/android/i),Zl={capture:!1,passive:!1};function j(e,n,o){e.addEventListener(n,o,!Ze&&Zl)}function P(e,n,o){e.removeEventListener(n,o,!Ze&&Zl)}function jn(e,n){if(n){if(n[0]===">"&&(n=n.substring(1)),e)try{if(e.matches)return e.matches(n);if(e.msMatchesSelector)return e.msMatchesSelector(n);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(n)}catch{return!1}return!1}}function d_(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function Pe(e,n,o,i){if(e){o=o||document;do{if(n!=null&&(n[0]===">"?e.parentNode===o&&jn(e,n):jn(e,n))||i&&e===o)return e;if(e===o)break}while(e=d_(e))}return null}var Yl=/\s+/g;function we(e,n,o){if(e&&n)if(e.classList)e.classList[o?"add":"remove"](n);else{var i=(" "+e.className+" ").replace(Yl," ").replace(" "+n+" "," ");e.className=(i+(o?" "+n:"")).replace(Yl," ")}}function T(e,n,o){var i=e&&e.style;if(i){if(o===void 0)return document.defaultView&&document.defaultView.getComputedStyle?o=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(o=e.currentStyle),n===void 0?o:o[n];!(n in i)&&n.indexOf("webkit")===-1&&(n="-webkit-"+n),i[n]=o+(typeof o=="string"?"":"px")}}function Nt(e,n){var o="";if(typeof e=="string")o=e;else do{var i=T(e,"transform");i&&i!=="none"&&(o=i+" "+o)}while(!n&&(e=e.parentNode));var l=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return l&&new l(o)}function Xl(e,n,o){if(e){var i=e.getElementsByTagName(n),l=0,r=i.length;if(o)for(;l<r;l++)o(i[l],l);return i}return[]}function Ue(){var e=document.scrollingElement;return e||document.documentElement}function re(e,n,o,i,l){if(!(!e.getBoundingClientRect&&e!==window)){var r,a,s,c,d,u,m;if(e!==window&&e.parentNode&&e!==Ue()?(r=e.getBoundingClientRect(),a=r.top,s=r.left,c=r.bottom,d=r.right,u=r.height,m=r.width):(a=0,s=0,c=window.innerHeight,d=window.innerWidth,u=window.innerHeight,m=window.innerWidth),(n||o)&&e!==window&&(l=l||e.parentNode,!Ze))do if(l&&l.getBoundingClientRect&&(T(l,"transform")!=="none"||o&&T(l,"position")!=="static")){var f=l.getBoundingClientRect();a-=f.top+parseInt(T(l,"border-top-width")),s-=f.left+parseInt(T(l,"border-left-width")),c=a+r.height,d=s+r.width;break}while(l=l.parentNode);if(i&&e!==window){var p=Nt(l||e),h=p&&p.a,y=p&&p.d;p&&(a/=y,s/=h,m/=h,u/=y,c=a+u,d=s+m)}return{top:a,left:s,bottom:c,right:d,width:m,height:u}}}function Jl(e,n,o){for(var i=ve(e,!0),l=re(e)[n];i;){var r=re(i)[o],a=void 0;if(o==="top"||o==="left"?a=l>=r:a=l<=r,!a)return i;if(i===Ue())break;i=ve(i,!1)}return!1}function St(e,n,o,i){for(var l=0,r=0,a=e.children;r<a.length;){if(a[r].style.display!=="none"&&a[r]!==O.ghost&&(i||a[r]!==O.dragged)&&Pe(a[r],o.draggable,e,!1)){if(l===n)return a[r];l++}r++}return null}function Ro(e,n){for(var o=e.lastElementChild;o&&(o===O.ghost||T(o,"display")==="none"||n&&!jn(o,n));)o=o.previousElementSibling;return o||null}function Oe(e,n){var o=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==O.clone&&(!n||jn(e,n))&&o++;return o}function Ql(e){var n=0,o=0,i=Ue();if(e)do{var l=Nt(e),r=l.a,a=l.d;n+=e.scrollLeft*r,o+=e.scrollTop*a}while(e!==i&&(e=e.parentNode));return[n,o]}function u_(e,n){for(var o in e)if(e.hasOwnProperty(o)){for(var i in n)if(n.hasOwnProperty(i)&&n[i]===e[o][i])return Number(o)}return-1}function ve(e,n){if(!e||!e.getBoundingClientRect)return Ue();var o=e,i=!1;do if(o.clientWidth<o.scrollWidth||o.clientHeight<o.scrollHeight){var l=T(o);if(o.clientWidth<o.scrollWidth&&(l.overflowX=="auto"||l.overflowX=="scroll")||o.clientHeight<o.scrollHeight&&(l.overflowY=="auto"||l.overflowY=="scroll")){if(!o.getBoundingClientRect||o===document.body)return Ue();if(i||n)return o;i=!0}}while(o=o.parentNode);return Ue()}function m_(e,n){if(e&&n)for(var o in n)n.hasOwnProperty(o)&&(e[o]=n[o]);return e}function zo(e,n){return Math.round(e.top)===Math.round(n.top)&&Math.round(e.left)===Math.round(n.left)&&Math.round(e.height)===Math.round(n.height)&&Math.round(e.width)===Math.round(n.width)}var on;function vl(e,n){return function(){if(!on){var o=arguments,i=this;o.length===1?e.call(i,o[0]):e.apply(i,o),on=setTimeout(function(){on=void 0},n)}}}function f_(){clearTimeout(on),on=void 0}function ea(e,n,o){e.scrollLeft+=n,e.scrollTop+=o}function ta(e){var n=window.Polymer,o=window.jQuery||window.Zepto;return n&&n.dom?n.dom(e).cloneNode(!0):o?o(e).clone(!0)[0]:e.cloneNode(!0)}var Ve="Sortable"+new Date().getTime();function p_(){var e=[],n;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var i=[].slice.call(this.el.children);i.forEach(function(l){if(!(T(l,"display")==="none"||l===O.ghost)){e.push({target:l,rect:re(l)});var r=Le({},e[e.length-1].rect);if(l.thisAnimationDuration){var a=Nt(l,!0);a&&(r.top-=a.f,r.left-=a.e)}l.fromRect=r}})}},addAnimationState:function(i){e.push(i)},removeAnimationState:function(i){e.splice(u_(e,{target:i}),1)},animateAll:function(i){var l=this;if(!this.options.animation){clearTimeout(n),typeof i=="function"&&i();return}var r=!1,a=0;e.forEach(function(s){var c=0,d=s.target,u=d.fromRect,m=re(d),f=d.prevFromRect,p=d.prevToRect,h=s.rect,y=Nt(d,!0);y&&(m.top-=y.f,m.left-=y.e),d.toRect=m,d.thisAnimationDuration&&zo(f,m)&&!zo(u,m)&&(h.top-m.top)/(h.left-m.left)===(u.top-m.top)/(u.left-m.left)&&(c=y_(h,f,p,l.options)),zo(m,u)||(d.prevFromRect=u,d.prevToRect=m,c||(c=l.options.animation),l.animate(d,h,m,c)),c&&(r=!0,a=Math.max(a,c),clearTimeout(d.animationResetTimer),d.animationResetTimer=setTimeout(function(){d.animationTime=0,d.prevFromRect=null,d.fromRect=null,d.prevToRect=null,d.thisAnimationDuration=null},c),d.thisAnimationDuration=c)}),clearTimeout(n),r?n=setTimeout(function(){typeof i=="function"&&i()},a):typeof i=="function"&&i(),e=[]},animate:function(i,l,r,a){if(a){T(i,"transition",""),T(i,"transform","");var s=Nt(this.el),c=s&&s.a,d=s&&s.d,u=(l.left-r.left)/(c||1),m=(l.top-r.top)/(d||1);i.animatingX=!!u,i.animatingY=!!m,T(i,"transform","translate3d("+u+"px,"+m+"px,0)"),this.forRepaintDummy=h_(i),T(i,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),T(i,"transform","translate3d(0,0,0)"),typeof i.animated=="number"&&clearTimeout(i.animated),i.animated=setTimeout(function(){T(i,"transition",""),T(i,"transform",""),i.animated=!1,i.animatingX=!1,i.animatingY=!1},a)}}}}function h_(e){return e.offsetWidth}function y_(e,n,o,i){return Math.sqrt(Math.pow(n.top-e.top,2)+Math.pow(n.left-e.left,2))/Math.sqrt(Math.pow(n.top-o.top,2)+Math.pow(n.left-o.left,2))*i.animation}var Tt=[],Ho={initializeByDefault:!0},rn={mount:function(n){for(var o in Ho)Ho.hasOwnProperty(o)&&!(o in n)&&(n[o]=Ho[o]);Tt.forEach(function(i){if(i.pluginName===n.pluginName)throw"Sortable: Cannot mount plugin ".concat(n.pluginName," more than once")}),Tt.push(n)},pluginEvent:function(n,o,i){var l=this;this.eventCanceled=!1,i.cancel=function(){l.eventCanceled=!0};var r=n+"Global";Tt.forEach(function(a){o[a.pluginName]&&(o[a.pluginName][r]&&o[a.pluginName][r](Le({sortable:o},i)),o.options[a.pluginName]&&o[a.pluginName][n]&&o[a.pluginName][n](Le({sortable:o},i)))})},initializePlugins:function(n,o,i,l){Tt.forEach(function(s){var c=s.pluginName;if(!(!n.options[c]&&!s.initializeByDefault)){var d=new s(n,o,n.options);d.sortable=n,d.options=n.options,n[c]=d,We(i,d.defaults)}});for(var r in n.options)if(n.options.hasOwnProperty(r)){var a=this.modifyOption(n,r,n.options[r]);typeof a<"u"&&(n.options[r]=a)}},getEventProperties:function(n,o){var i={};return Tt.forEach(function(l){typeof l.eventProperties=="function"&&We(i,l.eventProperties.call(o[l.pluginName],n))}),i},modifyOption:function(n,o,i){var l;return Tt.forEach(function(r){n[r.pluginName]&&r.optionListeners&&typeof r.optionListeners[o]=="function"&&(l=r.optionListeners[o].call(n[r.pluginName],i))}),l}};function g_(e){var n=e.sortable,o=e.rootEl,i=e.name,l=e.targetEl,r=e.cloneEl,a=e.toEl,s=e.fromEl,c=e.oldIndex,d=e.newIndex,u=e.oldDraggableIndex,m=e.newDraggableIndex,f=e.originalEvent,p=e.putSortable,h=e.extraEventProperties;if(n=n||o&&o[Ve],!!n){var y,x=n.options,F="on"+i.charAt(0).toUpperCase()+i.substr(1);window.CustomEvent&&!Ze&&!tn?y=new CustomEvent(i,{bubbles:!0,cancelable:!0}):(y=document.createEvent("Event"),y.initEvent(i,!0,!0)),y.to=a||o,y.from=s||o,y.item=l||o,y.clone=r,y.oldIndex=c,y.newIndex=d,y.oldDraggableIndex=u,y.newDraggableIndex=m,y.originalEvent=f,y.pullMode=p?p.lastPutMode:void 0;var R=Le(Le({},h),rn.getEventProperties(i,n));for(var H in R)y[H]=R[H];o&&o.dispatchEvent(y),x[F]&&x[F].call(n,y)}}var __=["evt"],ke=function(n,o){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=i.evt,r=a_(i,__);rn.pluginEvent.bind(O)(n,o,Le({dragEl:b,parentEl:v,ghostEl:D,rootEl:K,nextEl:ft,lastDownEl:Rn,cloneEl:ee,cloneHidden:et,dragStarted:an,putSortable:ie,activeSortable:O.active,originalEvent:l,oldIndex:Ot,oldDraggableIndex:ln,newIndex:Ee,newDraggableIndex:tt,hideGhostForTarget:sa,unhideGhostForTarget:ca,cloneNowHidden:function(){et=!0},cloneNowShown:function(){et=!1},dispatchSortableEvent:function(s){pe({sortable:o,name:s,originalEvent:l})}},r))};function pe(e){g_(Le({putSortable:ie,cloneEl:ee,targetEl:b,rootEl:K,oldIndex:Ot,oldDraggableIndex:ln,newIndex:Ee,newDraggableIndex:tt},e))}var b,v,D,K,ft,Rn,ee,et,Ot,Ee,ln,tt,zn,ie,Dt=!1,Hn=!1,qn=[],pt,Ie,qo,Go,na,oa,an,At,sn,cn=!1,Gn=!1,Wn,ce,Wo=[],Ko=!1,Kn=[],Zn=typeof document<"u",Yn=Kl,ra=tn||Ze?"cssFloat":"float",k_=Zn&&!c_&&!Kl&&"draggable"in document.createElement("div"),ia=function(){if(Zn){if(Ze)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),la=function(n,o){var i=T(n),l=parseInt(i.width)-parseInt(i.paddingLeft)-parseInt(i.paddingRight)-parseInt(i.borderLeftWidth)-parseInt(i.borderRightWidth),r=St(n,0,o),a=St(n,1,o),s=r&&T(r),c=a&&T(a),d=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+re(r).width,u=c&&parseInt(c.marginLeft)+parseInt(c.marginRight)+re(a).width;if(i.display==="flex")return i.flexDirection==="column"||i.flexDirection==="column-reverse"?"vertical":"horizontal";if(i.display==="grid")return i.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&s.float&&s.float!=="none"){var m=s.float==="left"?"left":"right";return a&&(c.clear==="both"||c.clear===m)?"vertical":"horizontal"}return r&&(s.display==="block"||s.display==="flex"||s.display==="table"||s.display==="grid"||d>=l&&i[ra]==="none"||a&&i[ra]==="none"&&d+u>l)?"vertical":"horizontal"},x_=function(n,o,i){var l=i?n.left:n.top,r=i?n.right:n.bottom,a=i?n.width:n.height,s=i?o.left:o.top,c=i?o.right:o.bottom,d=i?o.width:o.height;return l===s||r===c||l+a/2===s+d/2},b_=function(n,o){var i;return qn.some(function(l){var r=l[Ve].options.emptyInsertThreshold;if(!(!r||Ro(l))){var a=re(l),s=n>=a.left-r&&n<=a.right+r,c=o>=a.top-r&&o<=a.bottom+r;if(s&&c)return i=l}}),i},aa=function(n){function o(r,a){return function(s,c,d,u){var m=s.options.group.name&&c.options.group.name&&s.options.group.name===c.options.group.name;if(r==null&&(a||m))return!0;if(r==null||r===!1)return!1;if(a&&r==="clone")return r;if(typeof r=="function")return o(r(s,c,d,u),a)(s,c,d,u);var f=(a?s:c).options.group.name;return r===!0||typeof r=="string"&&r===f||r.join&&r.indexOf(f)>-1}}var i={},l=n.group;(!l||Un(l)!="object")&&(l={name:l}),i.name=l.name,i.checkPull=o(l.pull,!0),i.checkPut=o(l.put),i.revertClone=l.revertClone,n.group=i},sa=function(){!ia&&D&&T(D,"display","none")},ca=function(){!ia&&D&&T(D,"display","")};Zn&&document.addEventListener("click",function(e){if(Hn)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Hn=!1,!1},!0);var ht=function(n){if(b){n=n.touches?n.touches[0]:n;var o=b_(n.clientX,n.clientY);if(o){var i={};for(var l in n)n.hasOwnProperty(l)&&(i[l]=n[l]);i.target=i.rootEl=o,i.preventDefault=void 0,i.stopPropagation=void 0,o[Ve]._onDragOver(i)}}},C_=function(n){b&&b.parentNode[Ve]._isOutsideThisEl(n.target)};function O(e,n){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=n=We({},n),e[Ve]=this;var o={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return la(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,s){a.setData("Text",s.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:O.supportPointer!==!1&&"PointerEvent"in window&&!nn,emptyInsertThreshold:5};rn.initializePlugins(this,e,o);for(var i in o)!(i in n)&&(n[i]=o[i]);aa(n);for(var l in this)l.charAt(0)==="_"&&typeof this[l]=="function"&&(this[l]=this[l].bind(this));this.nativeDraggable=n.forceFallback?!1:k_,this.nativeDraggable&&(this.options.touchStartThreshold=1),n.supportPointer?j(e,"pointerdown",this._onTapStart):(j(e,"mousedown",this._onTapStart),j(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(j(e,"dragover",this),j(e,"dragenter",this)),qn.push(this.el),n.store&&n.store.get&&this.sort(n.store.get(this)||[]),We(this,p_())}O.prototype={constructor:O,_isOutsideThisEl:function(n){!this.el.contains(n)&&n!==this.el&&(At=null)},_getDirection:function(n,o){return typeof this.options.direction=="function"?this.options.direction.call(this,n,o,b):this.options.direction},_onTapStart:function(n){if(n.cancelable){var o=this,i=this.el,l=this.options,r=l.preventOnFilter,a=n.type,s=n.touches&&n.touches[0]||n.pointerType&&n.pointerType==="touch"&&n,c=(s||n).target,d=n.target.shadowRoot&&(n.path&&n.path[0]||n.composedPath&&n.composedPath()[0])||c,u=l.filter;if(O_(i),!b&&!(/mousedown|pointerdown/.test(a)&&n.button!==0||l.disabled)&&!d.isContentEditable&&!(!this.nativeDraggable&&nn&&c&&c.tagName.toUpperCase()==="SELECT")&&(c=Pe(c,l.draggable,i,!1),!(c&&c.animated)&&Rn!==c)){if(Ot=Oe(c),ln=Oe(c,l.draggable),typeof u=="function"){if(u.call(this,n,c,this)){pe({sortable:o,rootEl:d,name:"filter",targetEl:c,toEl:i,fromEl:i}),ke("filter",o,{evt:n}),r&&n.cancelable&&n.preventDefault();return}}else if(u&&(u=u.split(",").some(function(m){if(m=Pe(d,m.trim(),i,!1),m)return pe({sortable:o,rootEl:m,name:"filter",targetEl:c,fromEl:i,toEl:i}),ke("filter",o,{evt:n}),!0}),u)){r&&n.cancelable&&n.preventDefault();return}l.handle&&!Pe(d,l.handle,i,!1)||this._prepareDragStart(n,s,c)}}},_prepareDragStart:function(n,o,i){var l=this,r=l.el,a=l.options,s=r.ownerDocument,c;if(i&&!b&&i.parentNode===r){var d=re(i);if(K=r,b=i,v=b.parentNode,ft=b.nextSibling,Rn=i,zn=a.group,O.dragged=b,pt={target:b,clientX:(o||n).clientX,clientY:(o||n).clientY},na=pt.clientX-d.left,oa=pt.clientY-d.top,this._lastX=(o||n).clientX,this._lastY=(o||n).clientY,b.style["will-change"]="all",c=function(){if(ke("delayEnded",l,{evt:n}),O.eventCanceled){l._onDrop();return}l._disableDelayedDragEvents(),!Wl&&l.nativeDraggable&&(b.draggable=!0),l._triggerDragStart(n,o),pe({sortable:l,name:"choose",originalEvent:n}),we(b,a.chosenClass,!0)},a.ignore.split(",").forEach(function(u){Xl(b,u.trim(),Zo)}),j(s,"dragover",ht),j(s,"mousemove",ht),j(s,"touchmove",ht),j(s,"mouseup",l._onDrop),j(s,"touchend",l._onDrop),j(s,"touchcancel",l._onDrop),Wl&&this.nativeDraggable&&(this.options.touchStartThreshold=4,b.draggable=!0),ke("delayStart",this,{evt:n}),a.delay&&(!a.delayOnTouchOnly||o)&&(!this.nativeDraggable||!(tn||Ze))){if(O.eventCanceled){this._onDrop();return}j(s,"mouseup",l._disableDelayedDrag),j(s,"touchend",l._disableDelayedDrag),j(s,"touchcancel",l._disableDelayedDrag),j(s,"mousemove",l._delayedDragTouchMoveHandler),j(s,"touchmove",l._delayedDragTouchMoveHandler),a.supportPointer&&j(s,"pointermove",l._delayedDragTouchMoveHandler),l._dragStartTimer=setTimeout(c,a.delay)}else c()}},_delayedDragTouchMoveHandler:function(n){var o=n.touches?n.touches[0]:n;Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){b&&Zo(b),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var n=this.el.ownerDocument;P(n,"mouseup",this._disableDelayedDrag),P(n,"touchend",this._disableDelayedDrag),P(n,"touchcancel",this._disableDelayedDrag),P(n,"mousemove",this._delayedDragTouchMoveHandler),P(n,"touchmove",this._delayedDragTouchMoveHandler),P(n,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(n,o){o=o||n.pointerType=="touch"&&n,!this.nativeDraggable||o?this.options.supportPointer?j(document,"pointermove",this._onTouchMove):o?j(document,"touchmove",this._onTouchMove):j(document,"mousemove",this._onTouchMove):(j(b,"dragend",this),j(K,"dragstart",this._onDragStart));try{document.selection?Jn(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(n,o){if(Dt=!1,K&&b){ke("dragStarted",this,{evt:o}),this.nativeDraggable&&j(document,"dragover",C_);var i=this.options;!n&&we(b,i.dragClass,!1),we(b,i.ghostClass,!0),O.active=this,n&&this._appendGhost(),pe({sortable:this,name:"start",originalEvent:o})}else this._nulling()},_emulateDragOver:function(){if(Ie){this._lastX=Ie.clientX,this._lastY=Ie.clientY,sa();for(var n=document.elementFromPoint(Ie.clientX,Ie.clientY),o=n;n&&n.shadowRoot&&(n=n.shadowRoot.elementFromPoint(Ie.clientX,Ie.clientY),n!==o);)o=n;if(b.parentNode[Ve]._isOutsideThisEl(n),o)do{if(o[Ve]){var i=void 0;if(i=o[Ve]._onDragOver({clientX:Ie.clientX,clientY:Ie.clientY,target:n,rootEl:o}),i&&!this.options.dragoverBubble)break}n=o}while(o=o.parentNode);ca()}},_onTouchMove:function(n){if(pt){var o=this.options,i=o.fallbackTolerance,l=o.fallbackOffset,r=n.touches?n.touches[0]:n,a=D&&Nt(D,!0),s=D&&a&&a.a,c=D&&a&&a.d,d=Yn&&ce&&Ql(ce),u=(r.clientX-pt.clientX+l.x)/(s||1)+(d?d[0]-Wo[0]:0)/(s||1),m=(r.clientY-pt.clientY+l.y)/(c||1)+(d?d[1]-Wo[1]:0)/(c||1);if(!O.active&&!Dt){if(i&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<i)return;this._onDragStart(n,!0)}if(D){a?(a.e+=u-(qo||0),a.f+=m-(Go||0)):a={a:1,b:0,c:0,d:1,e:u,f:m};var f="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");T(D,"webkitTransform",f),T(D,"mozTransform",f),T(D,"msTransform",f),T(D,"transform",f),qo=u,Go=m,Ie=r}n.cancelable&&n.preventDefault()}},_appendGhost:function(){if(!D){var n=this.options.fallbackOnBody?document.body:K,o=re(b,!0,Yn,!0,n),i=this.options;if(Yn){for(ce=n;T(ce,"position")==="static"&&T(ce,"transform")==="none"&&ce!==document;)ce=ce.parentNode;ce!==document.body&&ce!==document.documentElement?(ce===document&&(ce=Ue()),o.top+=ce.scrollTop,o.left+=ce.scrollLeft):ce=Ue(),Wo=Ql(ce)}D=b.cloneNode(!0),we(D,i.ghostClass,!1),we(D,i.fallbackClass,!0),we(D,i.dragClass,!0),T(D,"transition",""),T(D,"transform",""),T(D,"box-sizing","border-box"),T(D,"margin",0),T(D,"top",o.top),T(D,"left",o.left),T(D,"width",o.width),T(D,"height",o.height),T(D,"opacity","0.8"),T(D,"position",Yn?"absolute":"fixed"),T(D,"zIndex","100000"),T(D,"pointerEvents","none"),O.ghost=D,n.appendChild(D),T(D,"transform-origin",na/parseInt(D.style.width)*100+"% "+oa/parseInt(D.style.height)*100+"%")}},_onDragStart:function(n,o){var i=this,l=n.dataTransfer,r=i.options;if(ke("dragStart",this,{evt:n}),O.eventCanceled){this._onDrop();return}ke("setupClone",this),O.eventCanceled||(ee=ta(b),ee.draggable=!1,ee.style["will-change"]="",this._hideClone(),we(ee,this.options.chosenClass,!1),O.clone=ee),i.cloneId=Jn(function(){ke("clone",i),!O.eventCanceled&&(i.options.removeCloneOnHide||K.insertBefore(ee,b),i._hideClone(),pe({sortable:i,name:"clone"}))}),!o&&we(b,r.dragClass,!0),o?(Hn=!0,i._loopId=setInterval(i._emulateDragOver,50)):(P(document,"mouseup",i._onDrop),P(document,"touchend",i._onDrop),P(document,"touchcancel",i._onDrop),l&&(l.effectAllowed="move",r.setData&&r.setData.call(i,l,b)),j(document,"drop",i),T(b,"transform","translateZ(0)")),Dt=!0,i._dragStartId=Jn(i._dragStarted.bind(i,o,n)),j(document,"selectstart",i),an=!0,nn&&T(document.body,"user-select","none")},_onDragOver:function(n){var o=this.el,i=n.target,l,r,a,s=this.options,c=s.group,d=O.active,u=zn===c,m=s.sort,f=ie||d,p,h=this,y=!1;if(Ko)return;function x(je,w){ke(je,h,Le({evt:n,isOwner:u,axis:p?"vertical":"horizontal",revert:a,dragRect:l,targetRect:r,canSort:m,fromSortable:f,target:i,completed:R,onMove:function(rt,pn){return Xn(K,o,b,l,rt,re(rt),n,pn)},changed:H},w))}function F(){x("dragOverAnimationCapture"),h.captureAnimationState(),h!==f&&f.captureAnimationState()}function R(je){return x("dragOverCompleted",{insertion:je}),je&&(u?d._hideClone():d._showClone(h),h!==f&&(we(b,ie?ie.options.ghostClass:d.options.ghostClass,!1),we(b,s.ghostClass,!0)),ie!==h&&h!==O.active?ie=h:h===O.active&&ie&&(ie=null),f===h&&(h._ignoreWhileAnimating=i),h.animateAll(function(){x("dragOverAnimationComplete"),h._ignoreWhileAnimating=null}),h!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(i===b&&!b.animated||i===o&&!i.animated)&&(At=null),!s.dragoverBubble&&!n.rootEl&&i!==document&&(b.parentNode[Ve]._isOutsideThisEl(n.target),!je&&ht(n)),!s.dragoverBubble&&n.stopPropagation&&n.stopPropagation(),y=!0}function H(){Ee=Oe(b),tt=Oe(b,s.draggable),pe({sortable:h,name:"change",toEl:o,newIndex:Ee,newDraggableIndex:tt,originalEvent:n})}if(n.preventDefault!==void 0&&n.cancelable&&n.preventDefault(),i=Pe(i,s.draggable,o,!0),x("dragOver"),O.eventCanceled)return y;if(b.contains(n.target)||i.animated&&i.animatingX&&i.animatingY||h._ignoreWhileAnimating===i)return R(!1);if(Hn=!1,d&&!s.disabled&&(u?m||(a=v!==K):ie===this||(this.lastPutMode=zn.checkPull(this,d,b,n))&&c.checkPut(this,d,b,n))){if(p=this._getDirection(n,i)==="vertical",l=re(b),x("dragOverValid"),O.eventCanceled)return y;if(a)return v=K,F(),this._hideClone(),x("revert"),O.eventCanceled||(ft?K.insertBefore(b,ft):K.appendChild(b)),R(!0);var Z=Ro(o,s.draggable);if(!Z||B_(n,p,this)&&!Z.animated){if(Z===b)return R(!1);if(Z&&o===n.target&&(i=Z),i&&(r=re(i)),Xn(K,o,b,l,i,r,n,!!i)!==!1)return F(),o.appendChild(b),v=o,H(),R(!0)}else if(Z&&E_(n,p,this)){var Y=St(o,0,s,!0);if(Y===b)return R(!1);if(i=Y,r=re(i),Xn(K,o,b,l,i,r,n,!1)!==!1)return F(),o.insertBefore(b,Y),v=o,H(),R(!0)}else if(i.parentNode===o){r=re(i);var A=0,V,W=b.parentNode!==o,M=!x_(b.animated&&b.toRect||l,i.animated&&i.toRect||r,p),ye=p?"top":"left",ae=Jl(i,"top","top")||Jl(b,"top","top"),se=ae?ae.scrollTop:void 0;At!==i&&(V=r[ye],cn=!1,Gn=!M&&s.invertSwap||W),A=N_(n,i,r,p,M?1:s.swapThreshold,s.invertedSwapThreshold==null?s.swapThreshold:s.invertedSwapThreshold,Gn,At===i);var de;if(A!==0){var ue=Oe(b);do ue-=A,de=v.children[ue];while(de&&(T(de,"display")==="none"||de===D))}if(A===0||de===i)return R(!1);At=i,sn=A;var xe=i.nextElementSibling,me=!1;me=A===1;var ot=Xn(K,o,b,l,i,r,n,me);if(ot!==!1)return(ot===1||ot===-1)&&(me=ot===1),Ko=!0,setTimeout(V_,30),F(),me&&!xe?o.appendChild(b):i.parentNode.insertBefore(b,me?xe:i),ae&&ea(ae,0,se-ae.scrollTop),v=b.parentNode,V!==void 0&&!Gn&&(Wn=Math.abs(V-re(i)[ye])),H(),R(!0)}if(o.contains(b))return R(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){P(document,"mousemove",this._onTouchMove),P(document,"touchmove",this._onTouchMove),P(document,"pointermove",this._onTouchMove),P(document,"dragover",ht),P(document,"mousemove",ht),P(document,"touchmove",ht)},_offUpEvents:function(){var n=this.el.ownerDocument;P(n,"mouseup",this._onDrop),P(n,"touchend",this._onDrop),P(n,"pointerup",this._onDrop),P(n,"touchcancel",this._onDrop),P(document,"selectstart",this)},_onDrop:function(n){var o=this.el,i=this.options;if(Ee=Oe(b),tt=Oe(b,i.draggable),ke("drop",this,{evt:n}),v=b&&b.parentNode,Ee=Oe(b),tt=Oe(b,i.draggable),O.eventCanceled){this._nulling();return}Dt=!1,Gn=!1,cn=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Yo(this.cloneId),Yo(this._dragStartId),this.nativeDraggable&&(P(document,"drop",this),P(o,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),nn&&T(document.body,"user-select",""),T(b,"transform",""),n&&(an&&(n.cancelable&&n.preventDefault(),!i.dropBubble&&n.stopPropagation()),D&&D.parentNode&&D.parentNode.removeChild(D),(K===v||ie&&ie.lastPutMode!=="clone")&&ee&&ee.parentNode&&ee.parentNode.removeChild(ee),b&&(this.nativeDraggable&&P(b,"dragend",this),Zo(b),b.style["will-change"]="",an&&!Dt&&we(b,ie?ie.options.ghostClass:this.options.ghostClass,!1),we(b,this.options.chosenClass,!1),pe({sortable:this,name:"unchoose",toEl:v,newIndex:null,newDraggableIndex:null,originalEvent:n}),K!==v?(Ee>=0&&(pe({rootEl:v,name:"add",toEl:v,fromEl:K,originalEvent:n}),pe({sortable:this,name:"remove",toEl:v,originalEvent:n}),pe({rootEl:v,name:"sort",toEl:v,fromEl:K,originalEvent:n}),pe({sortable:this,name:"sort",toEl:v,originalEvent:n})),ie&&ie.save()):Ee!==Ot&&Ee>=0&&(pe({sortable:this,name:"update",toEl:v,originalEvent:n}),pe({sortable:this,name:"sort",toEl:v,originalEvent:n})),O.active&&((Ee==null||Ee===-1)&&(Ee=Ot,tt=ln),pe({sortable:this,name:"end",toEl:v,originalEvent:n}),this.save()))),this._nulling()},_nulling:function(){ke("nulling",this),K=b=v=D=ft=ee=Rn=et=pt=Ie=an=Ee=tt=Ot=ln=At=sn=ie=zn=O.dragged=O.ghost=O.clone=O.active=null,Kn.forEach(function(n){n.checked=!0}),Kn.length=qo=Go=0},handleEvent:function(n){switch(n.type){case"drop":case"dragend":this._onDrop(n);break;case"dragenter":case"dragover":b&&(this._onDragOver(n),w_(n));break;case"selectstart":n.preventDefault();break}},toArray:function(){for(var n=[],o,i=this.el.children,l=0,r=i.length,a=this.options;l<r;l++)o=i[l],Pe(o,a.draggable,this.el,!1)&&n.push(o.getAttribute(a.dataIdAttr)||T_(o));return n},sort:function(n,o){var i={},l=this.el;this.toArray().forEach(function(r,a){var s=l.children[a];Pe(s,this.options.draggable,l,!1)&&(i[r]=s)},this),o&&this.captureAnimationState(),n.forEach(function(r){i[r]&&(l.removeChild(i[r]),l.appendChild(i[r]))}),o&&this.animateAll()},save:function(){var n=this.options.store;n&&n.set&&n.set(this)},closest:function(n,o){return Pe(n,o||this.options.draggable,this.el,!1)},option:function(n,o){var i=this.options;if(o===void 0)return i[n];var l=rn.modifyOption(this,n,o);typeof l<"u"?i[n]=l:i[n]=o,n==="group"&&aa(i)},destroy:function(){ke("destroy",this);var n=this.el;n[Ve]=null,P(n,"mousedown",this._onTapStart),P(n,"touchstart",this._onTapStart),P(n,"pointerdown",this._onTapStart),this.nativeDraggable&&(P(n,"dragover",this),P(n,"dragenter",this)),Array.prototype.forEach.call(n.querySelectorAll("[draggable]"),function(o){o.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),qn.splice(qn.indexOf(this.el),1),this.el=n=null},_hideClone:function(){if(!et){if(ke("hideClone",this),O.eventCanceled)return;T(ee,"display","none"),this.options.removeCloneOnHide&&ee.parentNode&&ee.parentNode.removeChild(ee),et=!0}},_showClone:function(n){if(n.lastPutMode!=="clone"){this._hideClone();return}if(et){if(ke("showClone",this),O.eventCanceled)return;b.parentNode==K&&!this.options.group.revertClone?K.insertBefore(ee,b):ft?K.insertBefore(ee,ft):K.appendChild(ee),this.options.group.revertClone&&this.animate(b,ee),T(ee,"display",""),et=!1}}};function w_(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function Xn(e,n,o,i,l,r,a,s){var c,d=e[Ve],u=d.options.onMove,m;return window.CustomEvent&&!Ze&&!tn?c=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(c=document.createEvent("Event"),c.initEvent("move",!0,!0)),c.to=n,c.from=e,c.dragged=o,c.draggedRect=i,c.related=l||n,c.relatedRect=r||re(n),c.willInsertAfter=s,c.originalEvent=a,e.dispatchEvent(c),u&&(m=u.call(d,c,a)),m}function Zo(e){e.draggable=!1}function V_(){Ko=!1}function E_(e,n,o){var i=re(St(o.el,0,o.options,!0)),l=10;return n?e.clientX<i.left-l||e.clientY<i.top&&e.clientX<i.right:e.clientY<i.top-l||e.clientY<i.bottom&&e.clientX<i.left}function B_(e,n,o){var i=re(Ro(o.el,o.options.draggable)),l=10;return n?e.clientX>i.right+l||e.clientX<=i.right&&e.clientY>i.bottom&&e.clientX>=i.left:e.clientX>i.right&&e.clientY>i.top||e.clientX<=i.right&&e.clientY>i.bottom+l}function N_(e,n,o,i,l,r,a,s){var c=i?e.clientY:e.clientX,d=i?o.height:o.width,u=i?o.top:o.left,m=i?o.bottom:o.right,f=!1;if(!a){if(s&&Wn<d*l){if(!cn&&(sn===1?c>u+d*r/2:c<m-d*r/2)&&(cn=!0),cn)f=!0;else if(sn===1?c<u+Wn:c>m-Wn)return-sn}else if(c>u+d*(1-l)/2&&c<m-d*(1-l)/2)return S_(n)}return f=f||a,f&&(c<u+d*r/2||c>m-d*r/2)?c>u+d/2?1:-1:0}function S_(e){return Oe(b)<Oe(e)?1:-1}function T_(e){for(var n=e.tagName+e.className+e.src+e.href+e.textContent,o=n.length,i=0;o--;)i+=n.charCodeAt(o);return i.toString(36)}function O_(e){Kn.length=0;for(var n=e.getElementsByTagName("input"),o=n.length;o--;){var i=n[o];i.checked&&Kn.push(i)}}function Jn(e){return setTimeout(e,0)}function Yo(e){return clearTimeout(e)}Zn&&j(document,"touchmove",function(e){(O.active||Dt)&&e.cancelable&&e.preventDefault()}),O.utils={on:j,off:P,css:T,find:Xl,is:function(n,o){return!!Pe(n,o,n,!1)},extend:m_,throttle:vl,closest:Pe,toggleClass:we,clone:ta,index:Oe,nextTick:Jn,cancelNextTick:Yo,detectDirection:la,getChild:St},O.get=function(e){return e[Ve]},O.mount=function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];n[0].constructor===Array&&(n=n[0]),n.forEach(function(i){if(!i.prototype||!i.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(i));i.utils&&(O.utils=Le(Le({},O.utils),i.utils)),rn.mount(i)})},O.create=function(e,n){return new O(e,n)},O.version=s_;var ne=[],dn,Xo,Jo=!1,Qo,vo,Qn,un;function D_(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var n in this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this))}return e.prototype={dragStarted:function(o){var i=o.originalEvent;this.sortable.nativeDraggable?j(document,"dragover",this._handleAutoScroll):this.options.supportPointer?j(document,"pointermove",this._handleFallbackAutoScroll):i.touches?j(document,"touchmove",this._handleFallbackAutoScroll):j(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(o){var i=o.originalEvent;!this.options.dragOverBubble&&!i.rootEl&&this._handleAutoScroll(i)},drop:function(){this.sortable.nativeDraggable?P(document,"dragover",this._handleAutoScroll):(P(document,"pointermove",this._handleFallbackAutoScroll),P(document,"touchmove",this._handleFallbackAutoScroll),P(document,"mousemove",this._handleFallbackAutoScroll)),da(),vn(),f_()},nulling:function(){Qn=Xo=dn=Jo=un=Qo=vo=null,ne.length=0},_handleFallbackAutoScroll:function(o){this._handleAutoScroll(o,!0)},_handleAutoScroll:function(o,i){var l=this,r=(o.touches?o.touches[0]:o).clientX,a=(o.touches?o.touches[0]:o).clientY,s=document.elementFromPoint(r,a);if(Qn=o,i||this.options.forceAutoScrollFallback||tn||Ze||nn){er(o,this.options,s,i);var c=ve(s,!0);Jo&&(!un||r!==Qo||a!==vo)&&(un&&da(),un=setInterval(function(){var d=ve(document.elementFromPoint(r,a),!0);d!==c&&(c=d,vn()),er(o,l.options,d,i)},10),Qo=r,vo=a)}else{if(!this.options.bubbleScroll||ve(s,!0)===Ue()){vn();return}er(o,this.options,ve(s,!1),!1)}}},We(e,{pluginName:"scroll",initializeByDefault:!0})}function vn(){ne.forEach(function(e){clearInterval(e.pid)}),ne=[]}function da(){clearInterval(un)}var er=vl(function(e,n,o,i){if(n.scroll){var l=(e.touches?e.touches[0]:e).clientX,r=(e.touches?e.touches[0]:e).clientY,a=n.scrollSensitivity,s=n.scrollSpeed,c=Ue(),d=!1,u;Xo!==o&&(Xo=o,vn(),dn=n.scroll,u=n.scrollFn,dn===!0&&(dn=ve(o,!0)));var m=0,f=dn;do{var p=f,h=re(p),y=h.top,x=h.bottom,F=h.left,R=h.right,H=h.width,Z=h.height,Y=void 0,A=void 0,V=p.scrollWidth,W=p.scrollHeight,M=T(p),ye=p.scrollLeft,ae=p.scrollTop;p===c?(Y=H<V&&(M.overflowX==="auto"||M.overflowX==="scroll"||M.overflowX==="visible"),A=Z<W&&(M.overflowY==="auto"||M.overflowY==="scroll"||M.overflowY==="visible")):(Y=H<V&&(M.overflowX==="auto"||M.overflowX==="scroll"),A=Z<W&&(M.overflowY==="auto"||M.overflowY==="scroll"));var se=Y&&(Math.abs(R-l)<=a&&ye+H<V)-(Math.abs(F-l)<=a&&!!ye),de=A&&(Math.abs(x-r)<=a&&ae+Z<W)-(Math.abs(y-r)<=a&&!!ae);if(!ne[m])for(var ue=0;ue<=m;ue++)ne[ue]||(ne[ue]={});(ne[m].vx!=se||ne[m].vy!=de||ne[m].el!==p)&&(ne[m].el=p,ne[m].vx=se,ne[m].vy=de,clearInterval(ne[m].pid),(se!=0||de!=0)&&(d=!0,ne[m].pid=setInterval(function(){i&&this.layer===0&&O.active._onTouchMove(Qn);var xe=ne[this.layer].vy?ne[this.layer].vy*s:0,me=ne[this.layer].vx?ne[this.layer].vx*s:0;typeof u=="function"&&u.call(O.dragged.parentNode[Ve],me,xe,e,Qn,ne[this.layer].el)!=="continue"||ea(ne[this.layer].el,me,xe)}.bind({layer:m}),24))),m++}while(n.bubbleScroll&&f!==c&&(f=ve(f,!1)));Jo=d}},30),ua=function(n){var o=n.originalEvent,i=n.putSortable,l=n.dragEl,r=n.activeSortable,a=n.dispatchSortableEvent,s=n.hideGhostForTarget,c=n.unhideGhostForTarget;if(o){var d=i||r;s();var u=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:o,m=document.elementFromPoint(u.clientX,u.clientY);c(),d&&!d.el.contains(m)&&(a("spill"),this.onSpill({dragEl:l,putSortable:i}))}};function tr(){}tr.prototype={startIndex:null,dragStart:function(n){var o=n.oldDraggableIndex;this.startIndex=o},onSpill:function(n){var o=n.dragEl,i=n.putSortable;this.sortable.captureAnimationState(),i&&i.captureAnimationState();var l=St(this.sortable.el,this.startIndex,this.options);l?this.sortable.el.insertBefore(o,l):this.sortable.el.appendChild(o),this.sortable.animateAll(),i&&i.animateAll()},drop:ua},We(tr,{pluginName:"revertOnSpill"});function nr(){}nr.prototype={onSpill:function(n){var o=n.dragEl,i=n.putSortable,l=i||this.sortable;l.captureAnimationState(),o.parentNode&&o.parentNode.removeChild(o),l.animateAll()},drop:ua},We(nr,{pluginName:"removeOnSpill"}),O.mount(new D_),O.mount(nr,tr);function or(e){e.parentElement!==null&&e.parentElement.removeChild(e)}function ma(e,n,o){const i=o===0?e.children[0]:e.children[o-1].nextSibling;e.insertBefore(n,i)}function A_(){return typeof window<"u"?window.console:global.console}const M_=A_();function F_(e){const n=Object.create(null);return function(i){return n[i]||(n[i]=e(i))}}const I_=/-(\w)/g,$_=F_(e=>e.replace(I_,(n,o)=>o.toUpperCase())),fa=["Start","Add","Remove","Update","End"],pa=["Choose","Unchoose","Sort","Filter","Clone"],ha=["Move"],L_=[ha,fa,pa].flatMap(e=>e).map(e=>`on${e}`),rr={manage:ha,manageAndEmit:fa,emit:pa};function P_(e){return L_.indexOf(e)!==-1}const U_=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function j_(e){return U_.includes(e)}function R_(e){return["transition-group","TransitionGroup"].includes(e)}function ya(e){return["id","class","role","style"].includes(e)||e.startsWith("data-")||e.startsWith("aria-")||e.startsWith("on")}function ga(e){return e.reduce((n,[o,i])=>(n[o]=i,n),{})}function z_({$attrs:e,componentData:n={}}){return{...ga(Object.entries(e).filter(([i,l])=>ya(i))),...n}}function H_({$attrs:e,callBackBuilder:n}){const o=ga(_a(e));Object.entries(n).forEach(([l,r])=>{rr[l].forEach(a=>{o[`on${a}`]=r(a)})});const i=`[data-draggable]${o.draggable||""}`;return{...o,draggable:i}}function _a(e){return Object.entries(e).filter(([n,o])=>!ya(n)).map(([n,o])=>[$_(n),o]).filter(([n,o])=>!P_(n))}const ka=({el:e})=>e,q_=(e,n)=>e.__draggable_context=n,xa=e=>e.__draggable_context;class G_{constructor({nodes:{header:n,default:o,footer:i},root:l,realList:r}){this.defaultNodes=o,this.children=[...n,...o,...i],this.externalComponent=l.externalComponent,this.rootTransition=l.transition,this.tag=l.tag,this.realList=r}get _isRootComponent(){return this.externalComponent||this.rootTransition}render(n,o){const{tag:i,children:l,_isRootComponent:r}=this;return n(i,o,r?{default:()=>l}:l)}updated(){const{defaultNodes:n,realList:o}=this;n.forEach((i,l)=>{q_(ka(i),{element:o[l],index:l})})}getUnderlyingVm(n){return xa(n)}getVmIndexFromDomIndex(n,o){const{defaultNodes:i}=this,{length:l}=i,r=o.children,a=r.item(n);if(a===null)return l;const s=xa(a);if(s)return s.index;if(l===0)return 0;const c=ka(i[0]),d=[...r].findIndex(u=>u===c);return n<d?0:l}}function W_(e,n){const o=e[n];return o?o():[]}function K_({$slots:e,realList:n,getKey:o}){const i=n||[],[l,r]=["header","footer"].map(c=>W_(e,c)),{item:a}=e;if(!a)throw new Error("draggable element must have an item slot");const s=i.flatMap((c,d)=>a({element:c,index:d}).map(u=>(u.key=o(c),u.props={...u.props||{},"data-draggable":!0},u)));if(s.length!==i.length)throw new Error("Item slot must have only one child");return{header:l,footer:r,default:s}}function Z_(e){const n=R_(e),o=!j_(e)&&!n;return{transition:n,externalComponent:o,tag:o?t.resolveComponent(e):n?t.TransitionGroup:e}}function Y_({$slots:e,tag:n,realList:o,getKey:i}){const l=K_({$slots:e,realList:o,getKey:i}),r=Z_(n);return new G_({nodes:l,root:r,realList:o})}function ba(e,n){t.nextTick(()=>this.$emit(e.toLowerCase(),n))}function Ca(e){return(n,o)=>{if(this.realList!==null)return this[`onDrag${e}`](n,o)}}function X_(e){const n=Ca.call(this,e);return(o,i)=>{n.call(this,o,i),ba.call(this,e,o)}}let ir=null;const J_={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:e=>e},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},Q_=["update:modelValue","change",...[...rr.manageAndEmit,...rr.emit].map(e=>e.toLowerCase())],wa=t.defineComponent({name:"draggable",inheritAttrs:!1,props:J_,emits:Q_,data(){return{error:!1}},render(){try{this.error=!1;const{$slots:e,$attrs:n,tag:o,componentData:i,realList:l,getKey:r}=this,a=Y_({$slots:e,tag:o,realList:l,getKey:r});this.componentStructure=a;const s=z_({$attrs:n,componentData:i});return a.render(t.h,s)}catch(e){return this.error=!0,t.h("pre",{style:{color:"red"}},e.stack)}},created(){this.list!==null&&this.modelValue!==null&&M_.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted(){if(this.error)return;const{$attrs:e,$el:n,componentStructure:o}=this;o.updated();const i=H_({$attrs:e,callBackBuilder:{manageAndEmit:r=>X_.call(this,r),emit:r=>ba.bind(this,r),manage:r=>Ca.call(this,r)}}),l=n.nodeType===1?n:n.parentElement;this._sortable=new O(l,i),this.targetDomElement=l,l.__draggable_component__=this},updated(){this.componentStructure.updated()},beforeUnmount(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList(){const{list:e}=this;return e||this.modelValue},getKey(){const{itemKey:e}=this;return typeof e=="function"?e:n=>n[e]}},watch:{$attrs:{handler(e){const{_sortable:n}=this;n&&_a(e).forEach(([o,i])=>{n.option(o,i)})},deep:!0}},methods:{getUnderlyingVm(e){return this.componentStructure.getUnderlyingVm(e)||null},getUnderlyingPotencialDraggableComponent(e){return e.__draggable_component__},emitChanges(e){t.nextTick(()=>this.$emit("change",e))},alterList(e){if(this.list){e(this.list);return}const n=[...this.modelValue];e(n),this.$emit("update:modelValue",n)},spliceList(){const e=n=>n.splice(...arguments);this.alterList(e)},updatePosition(e,n){const o=i=>i.splice(n,0,i.splice(e,1)[0]);this.alterList(o)},getRelatedContextFromMoveEvent({to:e,related:n}){const o=this.getUnderlyingPotencialDraggableComponent(e);if(!o)return{component:o};const i=o.realList,l={list:i,component:o};return e!==n&&i?{...o.getUnderlyingVm(n)||{},...l}:l},getVmIndexFromDomIndex(e){return this.componentStructure.getVmIndexFromDomIndex(e,this.targetDomElement)},onDragStart(e){this.context=this.getUnderlyingVm(e.item),e.item._underlying_vm_=this.clone(this.context.element),ir=e.item},onDragAdd(e){const n=e.item._underlying_vm_;if(n===void 0)return;or(e.item);const o=this.getVmIndexFromDomIndex(e.newIndex);this.spliceList(o,0,n);const i={element:n,newIndex:o};this.emitChanges({added:i})},onDragRemove(e){if(ma(this.$el,e.item,e.oldIndex),e.pullMode==="clone"){or(e.clone);return}const{index:n,element:o}=this.context;this.spliceList(n,1);const i={element:o,oldIndex:n};this.emitChanges({removed:i})},onDragUpdate(e){or(e.item),ma(e.from,e.item,e.oldIndex);const n=this.context.index,o=this.getVmIndexFromDomIndex(e.newIndex);this.updatePosition(n,o);const i={element:this.context.element,oldIndex:n,newIndex:o};this.emitChanges({moved:i})},computeFutureIndex(e,n){if(!e.element)return 0;const o=[...n.to.children].filter(a=>a.style.display!=="none"),i=o.indexOf(n.related),l=e.component.getVmIndexFromDomIndex(i);return o.indexOf(ir)!==-1||!n.willInsertAfter?l:l+1},onDragMove(e,n){const{move:o,realList:i}=this;if(!o||!i)return!0;const l=this.getRelatedContextFromMoveEvent(e),r=this.computeFutureIndex(l,e),a={...this.context,futureIndex:r},s={...e,relatedContext:l,draggedContext:a};return o(s,n)},onDragEnd(){ir=null}}}),FS="";function v_(e,n){let o=e.title.toUpperCase(),i=n.title.toUpperCase();return o<i?-1:o>i?1:0}const ek={components:{Item:ql,draggable:wa},props:{modelValue:{type:[Object,Array]}},mixins:[z],async created(){this.glossary=await this.$sdk.content.glossary({hash:!0}),this.value=this.cleanInput(this.value,!0),this.dispatch()},data(){return{glossary:{}}},methods:{async create(){var o;const e=this;if(!((o=e.$sdk.global)!=null&&o.create))return;const n=await e.$sdk.global.create(e.field.referenceType);e.multiValue?(e.model||(e.model=[]),e.model.push(n)):e.model=n},clear(){this.model=void 0,this.touch()},canEdit(e){var n=this.user;return n?this.$sdk.access.canEditItem(n,e):!1},async edit(e){var n=await this.$sdk.global.edit(e,!0).catch(function(i){});for(var o in n)e[o]=n[o]},async open(){var e=this;e.touch();var n={field:e.field,model:e.multiValue?e.value:[e.value].filter(Boolean),maximum:e.field.maximum,browserOptions:{columns:e.field.columns,select:e.field.select,lockFilter:e.field.lockFilter}};let o=this.field.referenceType;if(!o){const l=(await e.$sdk.content.glossary()).sort(v_),{key:r}=await e.$sdk.options(l,"Select content type","What type of content are you wanting to select");o=r}e.$sdk.browse(o,n).then(function(i){e.model=e.multiValue?i:i[0]}).catch(function(i){console.log("Error",i)})},cleanInput(e){var n=this;return n.multiValue?(e||(e=[]),Array.isArray(e)||(e=[]),n.maximum&&e.length>n.maximum&&(e.length=n.maximum)):Array.isArray(e)&&(e=e[0]),e}},computed:{showList(){return this.field.list!==!1},canAdd(){const e=this;return!e.showList||!e.maximum?!0:e.multiValue?e.model.length<e.maximum:!e.model},canCreate(){var i;if(this.field.create!==!1&&(i=this.$sdk.global)!=null&&i.create){var e=this.field.referenceType,n=e,o=this.glossary[this.field.referenceType];return o&&(e=o.definesType||o.key,n=o.key||o.definesType),this.user&&this.$sdk.access.canCreate(this.user,n,e)}},summary(){if(this.multiValue)if(this.model&&this.model.length){var e="Click to select",n=this.model.length;return this.showList?(n&&(e=`Adjust selection (${n})`),e):n===1?this.model[0].title||this.model[0].name||this.model[0].firstName:`${n} selected`}else return"Click to select";else return this.model?this.showList?"Click to select":this.model.title||this.model.name||this.model.firstName:"Click to select"}}},tk={key:0,class:"ux-field-title"},nk={key:0,class:"ux-required-marker"},ok={key:1,class:"ux-field-description"},rk={key:1,class:"items"};function ik(e,n,o,i,l,r){const a=t.resolveComponent("ux-icon"),s=t.resolveComponent("ux-button"),c=t.resolveComponent("item"),d=t.resolveComponent("draggable"),u=t.resolveComponent("flex-cell"),m=t.resolveComponent("flex-spacer"),f=t.resolveComponent("flex-row");return t.openBlock(),t.createElementBlock(t.Fragment,null,[e.showLabel?(t.openBlock(),t.createElementBlock("label",tk,[t.createTextVNode(t.toDisplayString(e.label)+" ",1),e.required?(t.openBlock(),t.createElementBlock("span",nk,"*")):t.createCommentVNode("",!0)])):t.createCommentVNode("",!0),e.showDescription?(t.openBlock(),t.createElementBlock("div",ok,t.toDisplayString(e.description),1)):t.createCommentVNode("",!0),r.showList?(t.openBlock(),t.createElementBlock(t.Fragment,{key:2},[e.multiValue?(t.openBlock(),t.createElementBlock(t.Fragment,{key:0},[e.model&&e.model.length?(t.openBlock(),t.createBlock(d,{key:0,class:"items",modelValue:e.model,"onUpdate:modelValue":n[1]||(n[1]=p=>e.model=p)},{item:t.withCtx(({element:p,index:h})=>[(t.openBlock(),t.createBlock(c,{key:p._id,item:p},{actions:t.withCtx(()=>[e.$actions?(t.openBlock(),t.createBlock(s,{key:0,icon:"",onClick:n[0]||(n[0]=t.withModifiers(y=>e.$actions.open([e.model]),["stop","prevent"]))},{default:t.withCtx(()=>[t.createVNode(a,{icon:"fa-ellipsis"})]),_:1})):t.createCommentVNode("",!0),r.canEdit(p)?(t.openBlock(),t.createBlock(s,{key:1,icon:"",onClick:t.withModifiers(y=>r.edit(p),["stop","prevent"])},{default:t.withCtx(()=>[t.createVNode(a,{icon:"fa-pencil"})]),_:2},1032,["onClick"])):t.createCommentVNode("",!0),t.createVNode(s,{icon:"",onClick:t.withModifiers(y=>e.remove(p),["stop","prevent"])},{default:t.withCtx(()=>[t.createVNode(a,{icon:"fa-times"})]),_:2},1032,["onClick"])]),_:2},1032,["item"]))]),_:1},8,["modelValue"])):t.createCommentVNode("",!0)],64)):e.model?(t.openBlock(),t.createElementBlock("div",rk,[t.createVNode(c,{item:e.model},{actions:t.withCtx(()=>[e.$actions?(t.openBlock(),t.createBlock(s,{key:0,icon:"",onClick:n[2]||(n[2]=t.withModifiers(p=>e.$actions.open([e.model]),["stop","prevent"]))},{default:t.withCtx(()=>[t.createVNode(a,{icon:"fa-ellipsis"})]),_:1})):t.createCommentVNode("",!0),r.canEdit(e.model)?(t.openBlock(),t.createBlock(s,{key:1,icon:"",onClick:n[3]||(n[3]=t.withModifiers(p=>r.edit(e.model),["stop","prevent"]))},{default:t.withCtx(()=>[t.createVNode(a,{icon:"fa-pencil"})]),_:1})):t.createCommentVNode("",!0),t.createVNode(s,{icon:"",onClick:t.withModifiers(r.clear,["stop","prevent"])},{default:t.withCtx(()=>[t.createVNode(a,{icon:"fa-times"})]),_:1},8,["onClick"])]),_:1},8,["item"])])):t.createCommentVNode("",!0)],64)):t.createCommentVNode("",!0),r.canAdd?(t.openBlock(),t.createBlock(f,{key:3,gap:""},{default:t.withCtx(()=>[t.createVNode(u,{shrink:""},{default:t.withCtx(()=>[t.createVNode(s,{onClick:r.open},{default:t.withCtx(()=>[t.createTextVNode(t.toDisplayString(r.summary),1)]),_:1},8,["onClick"])]),_:1}),r.canCreate?(t.openBlock(),t.createBlock(u,{key:0,shrink:""},{default:t.withCtx(()=>[t.createVNode(s,{color:"primary",onClick:r.create},{default:t.withCtx(()=>[t.createTextVNode(" Create "),t.createVNode(a,{right:"",icon:"fa-plus"})]),_:1},8,["onClick"])]),_:1})):t.createCommentVNode("",!0),t.createVNode(m)]),_:1})):t.createCommentVNode("",!0)],64)}const Va=g(ek,[["render",ik],["__scopeId","data-v-00c33b8b"]]),IS="";function lk(e){return e===void 0||typeof e>"u"||e===null||String(e)==="null"||String(e)==="undefined"}const ak={props:{title:{type:String},modelValue:{}},mixins:[z],async created(){this.model=this.model;var e=await this.$sdk.content.glossary(),n=e;this.field.basicTypes===!1&&(n=n.filter(function(o){return!!o.definesType})),this.field.definedTypes===!1&&(n=n.filter(function(o){return!o.definesType})),n=n.map(function(o){return{title:o.title,value:o.key}}).sort((o,i)=>o.title>i.title?1:-1),this.types=n},data(){return{types:[]}},methods:{cleanOutput(e){var n=this;return lk(e)?n.multiValue?e=[]:e=void 0:n.multiValue?e=(e||[]).filter(Boolean).map(function(o){return n.getValue(o)}):e=n.getValue(e),e},cleanInput(e){var n=this;if(n.multiValue)e||(e=[]),Array.isArray(e)||(e=[e]),n.maximum&&e.length>n.maximum&&(e.length=n.maximum),e=e.filter(Boolean).map(function(i){var l=n.getValue(i);return n.returnObject?n.optionLookup[l]:l});else{var o=n.getValue(e);e=n.returnObject?n.optionLookup[o]:o}return e}},computed:{returnObject(){return!1},classes(){var e=[];return this.multiValue?e.push("multiple"):e.push("single"),e},optionLookup(){var e=this;return e.types.reduce(function(n,o){const i=e.getValue(o);return n[i]=o,n},{})},summary(){return this.model?this.getLabel(this.optionLookup[this.model]):this.title||"Click to select"},selectableOptions(){return this.types}}},sk={key:0,class:"ux-field-title"},ck={key:0,class:"ux-required-marker"},dk={key:1,class:"ux-field-description"},uk={key:2,class:"ui-select-button"},mk=["multiple"],fk={key:0,value:""},pk=["value"];function hk(e,n,o,i,l,r){const a=t.resolveComponent("ux-button");return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["native-select",r.classes])},[e.showLabel?(t.openBlock(),t.createElementBlock("label",sk,[t.createTextVNode(t.toDisplayString(e.label)+" ",1),e.required?(t.openBlock(),t.createElementBlock("span",ck,"*")):t.createCommentVNode("",!0)])):t.createCommentVNode("",!0),e.showDescription?(t.openBlock(),t.createElementBlock("div",dk,t.toDisplayString(e.description),1)):t.createCommentVNode("",!0),e.singleValue?(t.openBlock(),t.createElementBlock("div",uk,[t.renderSlot(e.$slots,"default",{},()=>[t.createVNode(a,{tag:"div"},{default:t.withCtx(()=>[t.createTextVNode(t.toDisplayString(r.summary),1)]),_:1})],!0)])):t.createCommentVNode("",!0),t.withDirectives(t.createElementVNode("select",{onFocus:n[0]||(n[0]=(...s)=>e.touch&&e.touch(...s)),multiple:e.multiValue,"onUpdate:modelValue":n[1]||(n[1]=s=>e.model=s)},[e.singleValue&&!e.minimum?(t.openBlock(),t.createElementBlock("option",fk,"None")):t.createCommentVNode("",!0),(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(r.selectableOptions,s=>(t.openBlock(),t.createElementBlock("option",{value:s.value},t.toDisplayString(s.title),9,pk))),256))],40,mk),[[t.vModelSelect,e.model]])],2)}const yk=g(ak,[["render",hk],["__scopeId","data-v-a366d321"]]),$S="",gk={props:{item:{type:Object},click:{type:Function}},methods:{clicked(){this.click(this.item)},toggleCollapse(){return this.item.collapsed=!this.collapsed}},inject:["isSelected"],computed:{selected(){return this.isSelected(this.item)},hasChildren(){var e;return(e=this.item.children)==null?void 0:e.length},expanded(){return!this.collapsed},collapsed(){return!this.hasChildren||this.item.collapsed}}},_k={class:"outer"},kk={key:0,class:"children"};function xk(e,n,o,i,l,r){const a=t.resolveComponent("ux-icon"),s=t.resolveComponent("flex-cell"),c=t.resolveComponent("ux-button"),d=t.resolveComponent("flex-row"),u=t.resolveComponent("scope-item",!0);return t.openBlock(),t.createElementBlock("div",_k,[t.createElementVNode("div",{class:t.normalizeClass(["scope-item",{selected:r.selected}]),onClick:n[1]||(n[1]=(...m)=>r.clicked&&r.clicked(...m))},[t.createVNode(d,{gap:"",vcenter:""},{default:t.withCtx(()=>[t.createVNode(s,{class:"select-mark",shrink:""},{default:t.withCtx(()=>[t.createVNode(a,{icon:r.selected?"fa-check":"fa-regular fa-circle"},null,8,["icon"])]),_:1}),t.createVNode(s,null,{default:t.withCtx(()=>[t.createTextVNode(t.toDisplayString(o.item.title),1)]),_:1}),t.createVNode(s,{shrink:""},{default:t.withCtx(()=>[t.createElementVNode("div",{class:t.normalizeClass({hide:!r.hasChildren})},[t.createVNode(c,{onClick:n[0]||(n[0]=t.withModifiers(m=>r.toggleCollapse(),["stop","prevent"])),size:"xs",icon:""},{default:t.withCtx(()=>[t.createVNode(a,{icon:r.expanded?"fa-angle-up":"fa-angle-down"},null,8,["icon"])]),_:1})],2)]),_:1})]),_:1})],2),r.expanded?(t.openBlock(),t.createElementBlock("div",kk,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(o.item.children,m=>(t.openBlock(),t.createBlock(u,{click:o.click,item:m},null,8,["click","item"]))),256))])):t.createCommentVNode("",!0)])}const bk=g(gk,[["render",xk],["__scopeId","data-v-2f79c449"]]),LS="";let lr;const Ck={components:{ScopeItem:bk},async created(){this.glossary=await this.$sdk.content.glossary({hash:!0})},props:{action:{type:String},type:{type:String,required:!0},modelValue:{type:Array,default(){return[]}}},data(){return{loading:!0,glossary:{},model:this.modelValue,scopes:[]}},methods:{select(e){this.isSelected(e)||this.model.push(e)},deselect(e){const n=this,o=n.$sdk.utils.id(e);n.isSelected(e)&&(n.model=n.model.filter(function(i){return n.$sdk.utils.id(i)!=o}))},isSelected(e){const n=this.$sdk.utils.id(e);return this.hash[n]},toggle(e){this.isSelected(e)?this.deselect(e):this.select(e)},click(e){this.toggle(e)},async checkLoad(){lr||(lr=!0,this.action&&this.type?this.scopes=await this.loadScopes():console.log("missing action or type",this.action,this.type),lr=!1)},async loadScopes(){this.loading=!0;const{data:e}=await this.$sdk.api.post("/scope/actionable",{action:this.action,type:this.type});return this.loading=!1,e},async showModal(){const e=this,n={};await e.$sdk.modal({component:ScopeSelectModal,options:n})}},provide(){return{isSelected:this.isSelected}},computed:{hasSelection(){return this.model.length},hash(){return this.model.reduce(function(e,n){return e[n._id||n]=!0,e},{})},empty(){return!this.model.length},summary(){const e=this;return e.model.length?e.model.map(function(n){return n.title}).join(", "):"Select Scopes"}},watch:{type:{handler(){this.checkLoad()},immediate:!0},action:{handler(){this.checkLoad()},immediate:!0},modelValue(e){this.model=e},model(e){this.$emit("update:modelValue",e)}}};function wk(e,n,o,i,l,r){const a=t.resolveComponent("spinner"),s=t.resolveComponent("scope-item");return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass({has:r.hasSelection})},[l.loading?(t.openBlock(),t.createBlock(a,{key:0})):(t.openBlock(!0),t.createElementBlock(t.Fragment,{key:1},t.renderList(l.scopes,c=>(t.openBlock(),t.createBlock(s,{click:r.click,item:c},null,8,["click","item"]))),256))],2)}const Ea=g(Ck,[["render",wk],["__scopeId","data-v-5472184b"]]),PS="",Vk={async created(){this.scopeGlossary=await this.$sdk.content.scopeGlossary({hash:!0})},props:{action:{type:String},type:{type:String},modelValue:{type:Array,default(){return[]}}},data(){return{scopeGlossary:{},loading:!0,model:this.modelValue,definition:null}},methods:{async openSelection(){const e=this,n=await e.$sdk.selectScopes({action:e.action,type:e.type,model:e.model});e.model=n}},computed:{cacheKey(){return this.user.cacheKey},empty(){return!this.model.length},summary(){const e=this;return e.model.length?e.model.map(function(n){const o=n._id||n;return(e.scopeGlossary[o]||n).title||"(redacted)"}).join(", "):"Select Scopes"},definitionDefaultScopes(){var e;return((e=this.definition)==null?void 0:e.defaultScopes)||[]},definitionRestrictScopes(){var e;return((e=this.definition)==null?void 0:e.restrictScopes)||[]},restrictedLookup(){return this.definitionRestrictScopes.reduce(function(e,n){if(!n)return e;var o=n._id||n;return e[o]=o,e},{})},availableDefaultScopes(){const e=this;let n;return e.definitionRestrictScopes.length?(n=e.definitionDefaultScopes.filter(function(o){if(!o)return!1;var i=o._id||o;return e.restrictedLookup[i]}),!n.length&&e.definitionRestrictScopes.length===1&&(n=e.definitionRestrictScopes),n):e.definitionDefaultScopes}},watch:{availableDefaultScopes:{handler(e){!this.model.length&&e.length&&(this.model=[...e])},immediate:!0},modelValue(e){this.model=e},model(e){this.$emit("update:modelValue",e)},type:{async handler(e){const n=this,o=await this.$sdk.content.glossary({hash:!0});n.definition=o[e]},immediate:!0}}};function Ek(e,n,o,i,l,r){const a=t.resolveComponent("ux-button");return t.openBlock(),t.createElementBlock("div",null,[t.createVNode(a,{onClick:r.openSelection},{default:t.withCtx(()=>[t.createElementVNode("span",{class:t.normalizeClass({"empty-text":r.empty})},t.toDisplayString(r.summary),3)]),_:1},8,["onClick"])])}const Ba=g(Vk,[["render",Ek],["__scopeId","data-v-b0704bf6"]]),US="";function Bk(e){return e===void 0||typeof e>"u"||e===null||String(e)==="null"||String(e)==="undefined"}const Nk={components:{ScopeSelectButton:Ba},props:{title:{type:String},modelValue:{}},mixins:[z],async created(){this.model=this.model;var e=await this.$sdk.content.glossary(),n=e;this.field.basicTypes===!1&&(n=n.filter(function(o){return!!o.definesType})),this.field.definedTypes===!1&&(n=n.filter(function(o){return!o.definesType})),n=n.map(function(o){return{title:o.title,value:o.key}}).sort((o,i)=>o.title>i.title?1:-1),this.types=n},data(){return{types:[]}},methods:{cleanOutput(e){var n=this;return Bk(e)?n.multiValue?e=[]:e=void 0:n.multiValue?e=(e||[]).filter(Boolean).map(function(o){return n.getValue(o)}):e=n.getValue(e),e},cleanInput(e){var n=this;if(n.multiValue)e||(e=[]),Array.isArray(e)||(e=[e]),n.maximum&&e.length>n.maximum&&(e.length=n.maximum),e=e.filter(Boolean).map(function(i){var l=n.getValue(i);return n.returnObject?n.optionLookup[l]:l});else{var o=n.getValue(e);e=n.returnObject?n.optionLookup[o]:o}return e}},computed:{returnObject(){return!1},classes(){var e=[];return this.multiValue?e.push("multiple"):e.push("single"),e},optionLookup(){var e=this;return e.types.reduce(function(n,o){const i=e.getValue(o);return n[i]=o,n},{})},summary(){return this.model?this.getLabel(this.optionLookup[this.model]):this.title||"Click to select"},contextReferenceType(){return this.field.contextReferenceType},contextReferenceAction(){return this.field.contextReferenceAction},selectableOptions(){return this.types}}},Sk={key:0,class:"ux-field-title"},Tk={key:0,class:"ux-required-marker"},Ok={key:1,class:"ux-field-description"};function Dk(e,n,o,i,l,r){const a=t.resolveComponent("scope-select-button");return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["scope-select",r.classes])},[e.showLabel?(t.openBlock(),t.createElementBlock("label",Sk,[t.createTextVNode(t.toDisplayString(e.label)+" ",1),e.required?(t.openBlock(),t.createElementBlock("span",Tk,"*")):t.createCommentVNode("",!0)])):t.createCommentVNode("",!0),e.showDescription?(t.openBlock(),t.createElementBlock("div",Ok,t.toDisplayString(e.description),1)):t.createCommentVNode("",!0),t.createVNode(a,{type:r.contextReferenceType,action:r.contextReferenceAction,modelValue:e.model,"onUpdate:modelValue":n[0]||(n[0]=s=>e.model=s)},null,8,["type","action","modelValue"])],2)}const Ak=g(Nk,[["render",Dk],["__scopeId","data-v-79e23811"]]),jS="";function Mk(e){return e===void 0||typeof e>"u"||e===null||String(e)==="null"||String(e)==="undefined"}const Fk={props:{title:{type:String},modelValue:{}},mixins:[z],async created(){this.model=this.model},watch:{referenceType:{async handler(e){const n=this,o=await this.$sdk.content.glossary({hash:!0});n.definition=o[e]},immediate:!0}},data(){return{types:[],definition:null}},methods:{cleanOutput(e){var n=this;return Mk(e)?n.multiValue?e=[]:e=void 0:n.multiValue?e=(e||[]).filter(Boolean).map(function(o){return n.getValue(o)}):e=n.getValue(e),e},cleanInput(e){var n=this;if(n.multiValue)e||(e=[]),Array.isArray(e)||(e=[e]),n.maximum&&e.length>n.maximum&&(e.length=n.maximum),e=e.filter(Boolean).map(function(i){var l=n.getValue(i);return n.returnObject?n.optionLookup[l]:l});else{var o=n.getValue(e);e=n.returnObject?n.optionLookup[o]:o}return e}},computed:{showNoneOption(){return this.singleValue&&!this.minimum?this.selectableOptions.find(function(o){return o.none})?(console.log("has custom none option"),!1):!0:!1},fields(){const e=this;if(!e.definition)return[];const n=e.definition.definesType==="submission";var o=[...e.definition.fields],i=e.definition.definedFields||[];if(i.length)if(n){var l={title:"Form Data",minimum:1,maximum:1,key:"formData",asObject:!0,type:"group",fields:i};o.push(l);var r={title:"Data",minimum:1,maximum:1,key:"data",asObject:!0,type:"group",fields:i.map(function(c){return c.type==="reference"&&(c=JSON.parse(JSON.stringify(c)),delete c.fields),c})};o.push(r)}else{var r={title:`${e.definition.title}`,minimum:1,maximum:1,key:"data",asObject:!0,type:"group",fields:i};o.push(r)}var a=e.$sdk.utils.mapFields(o).filter(function(s){var c=s.type=="group"&&s.asObject&&s.minimum==1&&s.maximum==1;return!c}).map(function(s){return s.title=s.titles.join(" > "),s}).sort(function(s,c){return s.title<c.title?-1:1});return a},fieldOptions(){return this.fields.map(function(n){return{title:n.title,value:n.path,none:n.none}})},referenceType(){return this.field.referenceType},returnObject(){return!1},classes(){var e=[];return this.multiValue?e.push("multiple"):e.push("single"),e},optionLookup(){var e=this;return e.fieldOptions.reduce(function(n,o){const i=e.getValue(o);return n[i]=o,n},{})},summary(){return this.model?this.getLabel(this.optionLookup[this.model]):this.title||"Click to select"},selectableOptions(){return this.fieldOptions}}},Ik={key:0,class:"ux-field-title"},$k={key:0,class:"ux-required-marker"},Lk={key:1,class:"ux-field-description"},Pk={key:2,class:"ui-select-button"},Uk=["multiple"],jk={key:0,value:""},Rk=["value"];function zk(e,n,o,i,l,r){const a=t.resolveComponent("ux-button");return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["native-select",r.classes])},[e.showLabel?(t.openBlock(),t.createElementBlock("label",Ik,[t.createTextVNode(t.toDisplayString(e.label)+" ",1),e.required?(t.openBlock(),t.createElementBlock("span",$k,"*")):t.createCommentVNode("",!0)])):t.createCommentVNode("",!0),e.showDescription?(t.openBlock(),t.createElementBlock("div",Lk,t.toDisplayString(e.description),1)):t.createCommentVNode("",!0),e.singleValue?(t.openBlock(),t.createElementBlock("div",Pk,[t.renderSlot(e.$slots,"default",{},()=>[t.createVNode(a,{tag:"div"},{default:t.withCtx(()=>[t.createTextVNode(t.toDisplayString(r.summary),1)]),_:1})],!0)])):t.createCommentVNode("",!0),t.withDirectives(t.createElementVNode("select",{onFocus:n[0]||(n[0]=(...s)=>e.touch&&e.touch(...s)),multiple:e.multiValue,"onUpdate:modelValue":n[1]||(n[1]=s=>e.model=s)},[r.showNoneOption?(t.openBlock(),t.createElementBlock("option",jk,"None")):t.createCommentVNode("",!0),(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(r.selectableOptions,s=>(t.openBlock(),t.createElementBlock("option",{value:s.value},t.toDisplayString(s.title),9,Rk))),256))],40,Uk),[[t.vModelSelect,e.model]])],2)}const Hk=g(Fk,[["render",zk],["__scopeId","data-v-ab78ef6d"]]),RS="",qk={props:{modelValue:{type:[String,Array]}},mixins:[z],methods:{update(e,n){var o=this.format(e.target.value);this.model[n]=o},format(n){n=String(n).replace(/[^0-9.-]/g,"");var n=parseFloat(n)*100;return isNaN(n)?"":(n=Math.round(n),n)},unformat(n){n=String(n).replace(/[^0-9.-]/g,"");var n=parseFloat(n)/100;return isNaN(n)?"":(n=n.toFixed(2),n)},getNewDefaultEntry(){return""},unfocus(){this.$refs.input.blur(),this.touch()}},computed:{model:{get(){return this.cleanOutput(this.value)},set(e){this.value=this.cleanInput(e),this.dispatch()}},proxy:{get(){var e=this;return e.multiValue?e.model.map(e.unformat):e.unformat(e.model)},set(e){var n=this;n.multiValue?n.model=e.map(n.format):n.model=n.format(e)}},currency(){return String(this.field.currency||"usd").toLowerCase()},prefix(){return this.$sdk.utils.currencySymbol(this.currency)},suffix(){return String(this.currency).toUpperCase()}}},Gk={key:0,class:"ux-field-title"},Wk={key:0,class:"ux-required-marker"},Kk={key:1,class:"ux-field-description"},Zk={key:2},Yk={key:0,class:"ux-text-prefix"},Xk=["onBlur","onUpdate:modelValue"],Jk={key:1,class:"ux-text-suffix"},Qk={key:0,class:"ux-text-prefix"},vk={key:1,class:"ux-text-suffix"};function ex(e,n,o,i,l,r){const a=t.resolveComponent("flex-cell"),s=t.resolveComponent("ux-icon"),c=t.resolveComponent("ux-button"),d=t.resolveComponent("flex-row");return t.openBlock(),t.createElementBlock(t.Fragment,null,[e.showLabel?(t.openBlock(),t.createElementBlock("label",Gk,[t.createTextVNode(t.toDisplayString(e.label)+" ",1),e.required?(t.openBlock(),t.createElementBlock("span",Wk,"*")):t.createCommentVNode("",!0)])):t.createCommentVNode("",!0),e.showDescription?(t.openBlock(),t.createElementBlock("div",Kk,t.toDisplayString(e.description),1)):t.createCommentVNode("",!0),e.multiValue?(t.openBlock(),t.createElementBlock("div",Zk,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(r.model,(u,m)=>(t.openBlock(),t.createBlock(d,{class:"ux-text-row",key:m},{default:t.withCtx(()=>[t.createVNode(a,null,{default:t.withCtx(()=>[t.createElementVNode("div",{class:t.normalizeClass(["ux-text-wrap",{prefixed:r.prefix,suffixed:r.suffix}])},[r.prefix?(t.openBlock(),t.createElementBlock("span",Yk,t.toDisplayString(r.prefix),1)):t.createCommentVNode("",!0),t.withDirectives((t.openBlock(),t.createElementBlock("input",{class:"ux-field-focus ux-text-input-multiple",ref_for:!0,ref:"input",placeholder:"0.00",key:`proxy-index-${m}`,onKeydown:n[0]||(n[0]=t.withKeys(t.withModifiers(f=>e.add(),["stop","prevent"]),["enter"])),onBlur:f=>r.update(f,m),"onUpdate:modelValue":f=>r.proxy[m]=f,onFocus:n[1]||(n[1]=(...f)=>e.touch&&e.touch(...f))},null,40,Xk)),[[t.vModelText,r.proxy[m],void 0,{lazy:!0}]]),r.suffix?(t.openBlock(),t.createElementBlock("span",Jk,t.toDisplayString(r.suffix),1)):t.createCommentVNode("",!0)],2)]),_:2},1024),t.createVNode(a,{shrink:"",vcenter:""},{default:t.withCtx(()=>[e.canRemoveValue?(t.openBlock(),t.createBlock(c,{key:0,tag:"a",icon:"",onClick:f=>e.remove(u)},{default:t.withCtx(()=>[t.createVNode(s,{icon:"fa-times"})]),_:2},1032,["onClick"])):t.createCommentVNode("",!0)]),_:2},1024)]),_:2},1024))),128)),e.canAddValue?(t.openBlock(),t.createBlock(c,{key:0,onClick:n[2]||(n[2]=u=>e.add())},{default:t.withCtx(()=>[t.createTextVNode(t.toDisplayString(e.addLabel)+" ",1),t.createVNode(s,{icon:"fa-plus",right:""})]),_:1})):t.createCommentVNode("",!0)])):(t.openBlock(),t.createElementBlock("div",{key:3,class:t.normalizeClass(["ux-text-wrap",{prefixed:r.prefix,suffixed:r.suffix}])},[r.prefix?(t.openBlock(),t.createElementBlock("span",Qk,t.toDisplayString(r.prefix),1)):t.createCommentVNode("",!0),t.withDirectives((t.openBlock(),t.createElementBlock("input",{class:"ux-field-focus ux-text-input-single",ref:"input",key:r.proxy,placeholder:"0.00",onKeyup:n[3]||(n[3]=t.withKeys(t.withModifiers((...u)=>r.unfocus&&r.unfocus(...u),["stop","prevent"]),["enter"])),onFocus:n[4]||(n[4]=(...u)=>e.touch&&e.touch(...u)),"onUpdate:modelValue":n[5]||(n[5]=u=>r.proxy=u)},null,32)),[[t.vModelText,r.proxy,void 0,{lazy:!0}]]),r.suffix?(t.openBlock(),t.createElementBlock("span",vk,t.toDisplayString(r.suffix),1)):t.createCommentVNode("",!0)],2))],64)}const Na=g(qk,[["render",ex],["__scopeId","data-v-8204c7cd"]]),zS="",tx={props:{modelValue:{type:[String,Array]}},data(){return{unmasked:!1,unmaskedLookup:{}}},mixins:[z],computed:{copyable(){return this.$sdk.global.copyText&&this.field.copyable},inputClasses(){const e=[];return e.push(`ux-text-input-${this.inputType}`),e.join(" ")},actualInputType(){return this.unmasked?"text":this.inputType},sensitive(){return this.inputType==="password"},inputType(){switch(this.field.widget){case"password":case"email":return this.field.widget;default:switch(this.field.type){case"email":return"email";default:return"text"}}},lazy(){switch(this.type){case"integer":case"number":case"decimal":case"float":case"url":case"key":return!0}},actualPlaceholder(){if(this.field.placeholder)return this.field.placeholder;switch(this.type){case"integer":case"number":case"decimal":case"float":return"0";case"url":return"https://www.website.com";case"email":return"you@youremail.com"}}},methods:{copy(e){let n;this.maximum===1?n=this.model:n=this.model[e],this.$sdk.global.copyText(n)},getInput(e){return this.unmaskedLookup[`${e}`]?"text":this.inputType},toggleMask(e){this.maximum===1?this.unmasked=!this.unmasked:this.unmaskedLookup[`${e}`]=!this.unmaskedLookup[`${e}`]},cleanOutputValue(e){var n=this.cleanTextInput(e,this.type,this);return n?String(n):""},cleanInputValue(e){return this.cleanTextInput(e,this.type,this)},getNewDefaultEntry(){return""}}},nx={key:0,class:"ux-field-title"},ox={key:0,class:"ux-required-marker"},rx={key:1,class:"ux-field-description"},ix={key:2},lx={class:"ux-text-wrap"},ax={key:0,class:"ux-text-prefix"},sx=["type","placeholder","onUpdate:modelValue"],cx=["type","placeholder","onUpdate:modelValue"],dx={key:3,class:"ux-text-suffix"},ux={class:"ux-text-wrap"},mx={key:0,class:"ux-text-prefix"},fx=["type","placeholder"],px=["type","placeholder"],hx={key:3,class:"ux-text-suffix"};function yx(e,n,o,i,l,r){const a=t.resolveComponent("flex-cell"),s=t.resolveComponent("ux-icon"),c=t.resolveComponent("ux-button"),d=t.resolveComponent("flex-row");return t.openBlock(),t.createElementBlock(t.Fragment,null,[e.showLabel?(t.openBlock(),t.createElementBlock("label",nx,[t.createTextVNode(t.toDisplayString(e.label)+" ",1),e.required?(t.openBlock(),t.createElementBlock("span",ox,"*")):t.createCommentVNode("",!0)])):t.createCommentVNode("",!0),e.showDescription?(t.openBlock(),t.createElementBlock("div",rx,t.toDisplayString(e.description),1)):t.createCommentVNode("",!0),e.multiValue?(t.openBlock(),t.createElementBlock("div",ix,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.model,(u,m)=>(t.openBlock(),t.createBlock(d,{class:"ux-text-row",key:m},{default:t.withCtx(()=>[t.createVNode(a,null,{default:t.withCtx(()=>[t.createElementVNode("div",lx,[e.prefix?(t.openBlock(),t.createElementBlock("span",ax,t.toDisplayString(e.prefix),1)):t.createCommentVNode("",!0),r.lazy?t.withDirectives((t.openBlock(),t.createElementBlock("input",{key:1,type:r.getInput(m),class:t.normalizeClass([r.inputClasses,"ux-field-focus ux-text-input-multiple"]),placeholder:r.actualPlaceholder,onFocus:n[0]||(n[0]=(...f)=>e.touch&&e.touch(...f)),ref_for:!0,ref:"input",onKeydown:n[1]||(n[1]=t.withKeys(t.withModifiers(f=>e.add(),["stop","prevent"]),["enter"])),"onUpdate:modelValue":f=>e.model[m]=f},null,42,sx)),[[t.vModelDynamic,e.model[m],void 0,{lazy:!0}]]):t.createCommentVNode("",!0),r.lazy?t.createCommentVNode("",!0):t.withDirectives((t.openBlock(),t.createElementBlock("input",{key:2,type:r.getInput(m),class:t.normalizeClass([r.inputClasses,"ux-field-focus ux-text-input-multiple"]),placeholder:r.actualPlaceholder,onFocus:n[2]||(n[2]=(...f)=>e.touch&&e.touch(...f)),ref_for:!0,ref:"input",onKeydown:n[3]||(n[3]=t.withKeys(t.withModifiers(f=>e.add(),["stop","prevent"]),["enter"])),"onUpdate:modelValue":f=>e.model[m]=f},null,42,cx)),[[t.vModelDynamic,e.model[m]]]),e.suffix?(t.openBlock(),t.createElementBlock("span",dx,t.toDisplayString(e.suffix),1)):t.createCommentVNode("",!0)])]),_:2},1024),r.sensitive?(t.openBlock(),t.createBlock(a,{key:0,shrink:"",vcenter:""},{default:t.withCtx(()=>[t.createVNode(c,{tag:"a",icon:"",onClick:f=>r.toggleMask(m)},{default:t.withCtx(()=>[t.createVNode(s,{icon:l.unmaskedLookup[`${m}`]?"fa-eye":"fa-eye-slash"},null,8,["icon"])]),_:2},1032,["onClick"])]),_:2},1024)):t.createCommentVNode("",!0),r.copyable?(t.openBlock(),t.createBlock(a,{key:1,shrink:"",vcenter:""},{default:t.withCtx(()=>[t.createVNode(c,{tag:"a",icon:"",onClick:f=>r.copy(m)},{default:t.withCtx(()=>[t.createVNode(s,{icon:"fa-copy"})]),_:2},1032,["onClick"])]),_:2},1024)):t.createCommentVNode("",!0),t.createVNode(a,{shrink:"",vcenter:""},{default:t.withCtx(()=>[e.canRemoveValue?(t.openBlock(),t.createBlock(c,{key:0,tag:"a",icon:"",onClick:f=>e.remove(u)},{default:t.withCtx(()=>[t.createVNode(s,{icon:"fa-times"})]),_:2},1032,["onClick"])):t.createCommentVNode("",!0)]),_:2},1024)]),_:2},1024))),128)),e.canAddValue?(t.openBlock(),t.createBlock(c,{key:0,onClick:n[4]||(n[4]=u=>e.add())},{default:t.withCtx(()=>[t.createTextVNode(t.toDisplayString(e.addLabel)+" ",1),t.createVNode(s,{icon:"fa-plus",right:""})]),_:1})):t.createCommentVNode("",!0)])):(t.openBlock(),t.createBlock(d,{key:3},{default:t.withCtx(()=>[t.createVNode(a,null,{default:t.withCtx(()=>[t.createElementVNode("div",ux,[e.prefix?(t.openBlock(),t.createElementBlock("span",mx,t.toDisplayString(e.prefix),1)):t.createCommentVNode("",!0),r.lazy?t.withDirectives((t.openBlock(),t.createElementBlock("input",{key:1,type:r.actualInputType,ref:"input",class:t.normalizeClass([r.inputClasses,"ux-field-focus ux-text-input-single"]),placeholder:r.actualPlaceholder,onFocus:n[5]||(n[5]=(...u)=>e.touch&&e.touch(...u)),"onUpdate:modelValue":n[6]||(n[6]=u=>e.model=u)},null,42,fx)),[[t.vModelDynamic,e.model,void 0,{lazy:!0}]]):t.createCommentVNode("",!0),r.lazy?t.createCommentVNode("",!0):t.withDirectives((t.openBlock(),t.createElementBlock("input",{key:2,type:r.actualInputType,ref:"input",class:t.normalizeClass([r.inputClasses,"ux-field-focus ux-text-input-single"]),placeholder:r.actualPlaceholder,onFocus:n[7]||(n[7]=(...u)=>e.touch&&e.touch(...u)),"onUpdate:modelValue":n[8]||(n[8]=u=>e.model=u)},null,42,px)),[[t.vModelDynamic,e.model]]),e.suffix?(t.openBlock(),t.createElementBlock("span",hx,t.toDisplayString(e.suffix),1)):t.createCommentVNode("",!0)])]),_:1}),r.sensitive?(t.openBlock(),t.createBlock(a,{key:0,shrink:"",vcenter:""},{default:t.withCtx(()=>[t.createVNode(c,{tag:"a",icon:"",onClick:r.toggleMask},{default:t.withCtx(()=>[t.createVNode(s,{icon:l.unmasked?"fa-eye":"fa-eye-slash"},null,8,["icon"])]),_:1},8,["onClick"])]),_:1})):t.createCommentVNode("",!0),r.copyable?(t.openBlock(),t.createBlock(a,{key:1,shrink:"",vcenter:""},{default:t.withCtx(()=>[t.createVNode(c,{tag:"a",icon:"",onClick:r.copy},{default:t.withCtx(()=>[t.createVNode(s,{icon:"fa-copy"})]),_:1},8,["onClick"])]),_:1})):t.createCommentVNode("",!0)]),_:1}))],64)}const Sa=g(tx,[["render",yx],["__scopeId","data-v-66dbd239"]]),HS="",gx={props:{modelValue:{type:[String,Array]}},mixins:[z],methods:{getNewDefaultEntry(){return""}}},_x={key:0,class:"ux-field-title"},kx={key:0,class:"ux-required-marker"},xx={key:1,class:"ux-field-description"},bx={key:2},Cx=["onUpdate:modelValue"];function wx(e,n,o,i,l,r){const a=t.resolveComponent("flex-cell"),s=t.resolveComponent("ux-icon"),c=t.resolveComponent("ux-button"),d=t.resolveComponent("flex-row");return t.openBlock(),t.createElementBlock(t.Fragment,null,[e.showLabel?(t.openBlock(),t.createElementBlock("label",_x,[t.createTextVNode(t.toDisplayString(e.label)+" ",1),e.required?(t.openBlock(),t.createElementBlock("span",kx,"*")):t.createCommentVNode("",!0)])):t.createCommentVNode("",!0),e.showDescription?(t.openBlock(),t.createElementBlock("div",xx,t.toDisplayString(e.description),1)):t.createCommentVNode("",!0),e.multiValue?(t.openBlock(),t.createElementBlock("div",bx,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.model,(u,m)=>(t.openBlock(),t.createBlock(d,{class:"ux-text-row",key:m},{default:t.withCtx(()=>[t.createVNode(a,null,{default:t.withCtx(()=>[t.withDirectives(t.createElementVNode("textarea",{contenteditable:"",onFocus:n[0]||(n[0]=(...f)=>e.touch&&e.touch(...f)),ref_for:!0,ref:"input","onUpdate:modelValue":f=>e.model[m]=f,class:"ux-textarea ux-field-focus ux-text-area-multiple"},null,40,Cx),[[t.vModelText,e.model[m]]])]),_:2},1024),t.createVNode(a,{shrink:"",vcenter:""},{default:t.withCtx(()=>[e.canRemoveValue?(t.openBlock(),t.createBlock(c,{key:0,tag:"a",icon:"",onClick:f=>e.remove(u)},{default:t.withCtx(()=>[t.createVNode(s,{icon:"fa-times"})]),_:2},1032,["onClick"])):t.createCommentVNode("",!0)]),_:2},1024)]),_:2},1024))),128)),e.canAddValue?(t.openBlock(),t.createBlock(c,{key:0,onClick:n[1]||(n[1]=u=>e.add())},{default:t.withCtx(()=>[t.createTextVNode(t.toDisplayString(e.addLabel),1)]),_:1})):t.createCommentVNode("",!0)])):t.withDirectives((t.openBlock(),t.createElementBlock("textarea",{key:3,class:"ux-textarea ux-field-focus ux-text-area-single",onFocus:n[2]||(n[2]=(...u)=>e.touch&&e.touch(...u)),"onUpdate:modelValue":n[3]||(n[3]=u=>e.model=u),role:"textbox",contenteditable:""},null,544)),[[t.vModelText,e.model]])],64)}const Vx=g(gx,[["render",wx],["__scopeId","data-v-03a618d3"]]),qS="";function eo(e){return String(e).length<2&&(e=`0${e}`),e}const Ex={props:{modelValue:{type:[Date,String,Array]}},mixins:[z],computed:{model:{get(){return this.cleanOutput(this.value)},set(e){if(!e){this.value=void 0,this.dispatch();return}if(e!=="invalid"){var n=this.cleanOutput(e),o=this.cleanOutput(this.value);n!=o&&(e=this.cleanInput(n),this.value=e,this.dispatch())}}}},methods:{cleanOutputValue(e){return e=e?new Date(e):new Date,`${e.getFullYear()}-${eo(e.getMonth()+1)}-${eo(e.getDate())}T${eo(e.getHours())}:${eo(e.getMinutes())}`},cleanInputValue(e){let n=new Date(e);return n.toString()=="Invalid Date"?"invalid":n.toISOString()},getNewDefaultEntry(){return new Date}}},Bx={key:0,class:"ux-field-title"},Nx={key:0,class:"ux-required-marker"},Sx={key:1,class:"ux-field-description"},Tx={key:2},Ox=["onUpdate:modelValue"];function Dx(e,n,o,i,l,r){const a=t.resolveComponent("flex-cell"),s=t.resolveComponent("ux-icon"),c=t.resolveComponent("ux-button"),d=t.resolveComponent("flex-row");return t.openBlock(),t.createElementBlock(t.Fragment,null,[e.showLabel?(t.openBlock(),t.createElementBlock("label",Bx,[t.createTextVNode(t.toDisplayString(e.label)+" ",1),e.required?(t.openBlock(),t.createElementBlock("span",Nx,"*")):t.createCommentVNode("",!0)])):t.createCommentVNode("",!0),e.showDescription?(t.openBlock(),t.createElementBlock("div",Sx,t.toDisplayString(e.description),1)):t.createCommentVNode("",!0),e.multiValue?(t.openBlock(),t.createElementBlock("div",Tx,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(r.model,(u,m)=>(t.openBlock(),t.createBlock(d,{class:"ux-text-row",key:m},{default:t.withCtx(()=>[t.createVNode(a,null,{default:t.withCtx(()=>[t.withDirectives(t.createElementVNode("input",{type:"datetime-local",class:"ux-field-focus ux-text-input-multiple",onFocus:n[0]||(n[0]=(...f)=>e.touch&&e.touch(...f)),ref_for:!0,ref:"input",onKeydown:n[1]||(n[1]=t.withKeys(t.withModifiers(f=>e.add(),["stop","prevent"]),["enter"])),"onUpdate:modelValue":f=>r.model[m]=f},null,40,Ox),[[t.vModelText,r.model[m]]])]),_:2},1024),t.createVNode(a,{shrink:"",vcenter:""},{default:t.withCtx(()=>[e.canRemoveValue?(t.openBlock(),t.createBlock(c,{key:0,tag:"a",icon:"",onClick:f=>e.remove(u)},{default:t.withCtx(()=>[t.createVNode(s,{icon:"fa-times"})]),_:2},1032,["onClick"])):t.createCommentVNode("",!0)]),_:2},1024)]),_:2},1024))),128)),e.canAddValue?(t.openBlock(),t.createBlock(c,{key:0,onClick:n[2]||(n[2]=u=>e.add())},{default:t.withCtx(()=>[t.createTextVNode(t.toDisplayString(e.addLabel),1)]),_:1})):t.createCommentVNode("",!0)])):t.withDirectives((t.openBlock(),t.createElementBlock("input",{key:3,type:"datetime-local",class:"ux-field-focus ux-text-input-single",onFocus:n[3]||(n[3]=(...u)=>e.touch&&e.touch(...u)),"onUpdate:modelValue":n[4]||(n[4]=u=>r.model=u)},null,544)),[[t.vModelText,r.model]])],64)}const Ta=g(Ex,[["render",Dx],["__scopeId","data-v-e0c57de2"]]),GS="";function Oa(e){return String(e).length<2&&(e=`0${e}`),e}const Ax={props:{modelValue:{type:String}},mixins:[z],methods:{cleanInputValue(e){return e.split(":").join("")},cleanOutputValue(e){let n=Oa(e.slice(0,2)),o=Oa(e.slice(2));return`${n}:${o}`},getNewDefaultEntry(){return"00:00"}}},Mx={key:0,class:"ux-field-title"},Fx={key:0,class:"ux-required-marker"},Ix={key:1,class:"ux-field-description"},$x={key:2},Lx=["onUpdate:modelValue"];function Px(e,n,o,i,l,r){const a=t.resolveComponent("flex-cell"),s=t.resolveComponent("ux-icon"),c=t.resolveComponent("ux-button"),d=t.resolveComponent("flex-row");return t.openBlock(),t.createElementBlock(t.Fragment,null,[e.showLabel?(t.openBlock(),t.createElementBlock("label",Mx,[t.createTextVNode(t.toDisplayString(e.label)+" ",1),e.required?(t.openBlock(),t.createElementBlock("span",Fx,"*")):t.createCommentVNode("",!0)])):t.createCommentVNode("",!0),e.showDescription?(t.openBlock(),t.createElementBlock("div",Ix,t.toDisplayString(e.description),1)):t.createCommentVNode("",!0),e.multiValue?(t.openBlock(),t.createElementBlock("div",$x,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.model,(u,m)=>(t.openBlock(),t.createBlock(d,{class:"ux-text-row",key:m},{default:t.withCtx(()=>[t.createVNode(a,null,{default:t.withCtx(()=>[t.withDirectives(t.createElementVNode("input",{type:"time",class:"ux-field-focus ux-text-input-multiple",onFocus:n[0]||(n[0]=(...f)=>e.touch&&e.touch(...f)),ref_for:!0,ref:"input",onKeydown:n[1]||(n[1]=t.withKeys(t.withModifiers(f=>e.add(),["stop","prevent"]),["enter"])),"onUpdate:modelValue":f=>e.model[m]=f},null,40,Lx),[[t.vModelText,e.model[m]]])]),_:2},1024),t.createVNode(a,{shrink:"",vcenter:""},{default:t.withCtx(()=>[e.canRemoveValue?(t.openBlock(),t.createBlock(c,{key:0,tag:"a",icon:"",onClick:f=>e.remove(u)},{default:t.withCtx(()=>[t.createVNode(s,{icon:"fa-times"})]),_:2},1032,["onClick"])):t.createCommentVNode("",!0)]),_:2},1024)]),_:2},1024))),128)),e.canAddValue?(t.openBlock(),t.createBlock(c,{key:0,onClick:n[2]||(n[2]=u=>e.add())},{default:t.withCtx(()=>[t.createTextVNode(t.toDisplayString(e.addLabel),1)]),_:1})):t.createCommentVNode("",!0)])):t.withDirectives((t.openBlock(),t.createElementBlock("input",{key:3,type:"time",class:"ux-field-focus ux-text-input-single",onFocus:n[3]||(n[3]=(...u)=>e.touch&&e.touch(...u)),"onUpdate:modelValue":n[4]||(n[4]=u=>e.model=u)},null,544)),[[t.vModelText,e.model]])],64)}const Ux=g(Ax,[["render",Px],["__scopeId","data-v-9ae5aa1e"]]),WS="",jx={components:{Daterange:Hl},props:{modelValue:{type:[Object,Array]}},mixins:[z],computed:{model:{get(){return this.cleanOutput(this.value)},set(e){if(!e){this.value=void 0,this.dispatch();return}var n=this.cleanOutput(e),o=this.cleanOutput(this.value);n!=o&&(e=this.cleanInput(n),this.value=e,this.dispatch())}}},methods:{cleanOutputValue(e){return e},cleanInputValue(e){return e},getNewDefaultEntry(){return{}}}},Rx={key:0,class:"ux-field-title"},zx={key:0,class:"ux-required-marker"},Hx={key:1,class:"ux-field-description"},qx={key:2};function Gx(e,n,o,i,l,r){const a=t.resolveComponent("daterange",!0),s=t.resolveComponent("flex-cell"),c=t.resolveComponent("ux-icon"),d=t.resolveComponent("ux-button"),u=t.resolveComponent("flex-row");return t.openBlock(),t.createElementBlock(t.Fragment,null,[e.showLabel?(t.openBlock(),t.createElementBlock("label",Rx,[t.createTextVNode(t.toDisplayString(e.label)+" ",1),e.required?(t.openBlock(),t.createElementBlock("span",zx,"*")):t.createCommentVNode("",!0)])):t.createCommentVNode("",!0),e.showDescription?(t.openBlock(),t.createElementBlock("div",Hx,t.toDisplayString(e.description),1)):t.createCommentVNode("",!0),e.multiValue?(t.openBlock(),t.createElementBlock("div",qx,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(r.model,(m,f)=>(t.openBlock(),t.createBlock(u,{class:"ux-text-row",key:f},{default:t.withCtx(()=>[t.createVNode(s,null,{default:t.withCtx(()=>[t.createVNode(a,{onFocus:e.touch,modelValue:r.model[f],"onUpdate:modelValue":p=>r.model[f]=p},null,8,["onFocus","modelValue","onUpdate:modelValue"])]),_:2},1024),t.createVNode(s,{shrink:"",vcenter:""},{default:t.withCtx(()=>[e.canRemoveValue?(t.openBlock(),t.createBlock(d,{key:0,tag:"a",icon:"",onClick:p=>e.remove(m)},{default:t.withCtx(()=>[t.createVNode(c,{icon:"fa-times"})]),_:2},1032,["onClick"])):t.createCommentVNode("",!0)]),_:2},1024)]),_:2},1024))),128)),e.canAddValue?(t.openBlock(),t.createBlock(d,{key:0,onClick:n[0]||(n[0]=m=>e.add())},{default:t.withCtx(()=>[t.createTextVNode(t.toDisplayString(e.addLabel),1)]),_:1})):t.createCommentVNode("",!0)])):(t.openBlock(),t.createBlock(a,{key:3,onFocus:e.touch,modelValue:r.model,"onUpdate:modelValue":n[1]||(n[1]=m=>r.model=m)},null,8,["onFocus","modelValue"]))],64)}const Wx=g(jx,[["render",Gx],["__scopeId","data-v-b6688859"]]),KS="",Kx={computed:{NativeCheckbox:jo},mixins:[z],props:{modelValue:{type:Boolean,default(){return!1}}},data(){return{value:this.modelValue}},watch:{modelValue(e,n){this.value=e,this.model=e}},computed:{longDescription(){return String(this.description).length>2},defaultValue(){return!1},model:{get(){return!!this.value},set(e){this.value=!!e,this.$emit("update:modelValue",this.value)}}}},Zx={key:0,class:"ux-field-title"},Yx={key:0,class:"ux-required-marker"},Xx={key:1,class:"ux-field-description"};function Jx(e,n,o,i,l,r){const a=t.resolveComponent("ux-checkbox"),s=t.resolveComponent("flex-cell"),c=t.resolveComponent("flex-row");return t.openBlock(),t.createBlock(c,{onClick:n[1]||(n[1]=d=>e.touch()),gap:""},{default:t.withCtx(()=>[t.createVNode(s,{vcenter:"",shrink:""},{default:t.withCtx(()=>[t.createVNode(a,{value:r.model,onClick:n[0]||(n[0]=d=>r.model=!r.model)},null,8,["value"])]),_:1}),t.createVNode(s,{vcenter:""},{default:t.withCtx(()=>[t.createElementVNode("div",null,[e.showLabel?(t.openBlock(),t.createElementBlock("label",Zx,[t.createTextVNode(t.toDisplayString(e.label)+" ",1),e.required?(t.openBlock(),t.createElementBlock("span",Yx,"*")):t.createCommentVNode("",!0)])):t.createCommentVNode("",!0),e.showDescription?(t.openBlock(),t.createElementBlock("div",Xx,t.toDisplayString(e.description),1)):t.createCommentVNode("",!0)])]),_:1})]),_:1})}const Qx=g(Kx,[["render",Jx],["__scopeId","data-v-75883516"]]),vx={props:{modelValue:{type:[String,Array]}},mixins:[z],methods:{getNewDefaultEntry(){return""}}},eb={key:0},tb=["innerHTML"],nb=["innerHTML"];function ob(e,n,o,i,l,r){const a=t.resolveComponent("flex-cell"),s=t.resolveComponent("ux-icon"),c=t.resolveComponent("ux-button"),d=t.resolveComponent("flex-row");return e.multiValue?(t.openBlock(),t.createElementBlock("div",eb,[t.createVNode(d,{class:"ux-text-row"},{default:t.withCtx(()=>[t.createVNode(a,null,{default:t.withCtx(()=>[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.model,(u,m)=>(t.openBlock(),t.createElementBlock("div",{innerHTML:e.field.template,key:m},null,8,tb))),128))]),_:1}),t.createVNode(a,{shrink:"",vcenter:""},{default:t.withCtx(()=>[e.canRemoveValue?(t.openBlock(),t.createBlock(c,{key:0,tag:"a",icon:"",onClick:n[0]||(n[0]=u=>e.remove(e.entry))},{default:t.withCtx(()=>[t.createVNode(s,{icon:"fa-times"})]),_:1})):t.createCommentVNode("",!0)]),_:1})]),_:1}),e.canAddValue?(t.openBlock(),t.createBlock(c,{key:0,onClick:n[1]||(n[1]=u=>e.add())},{default:t.withCtx(()=>[t.createTextVNode(t.toDisplayString(e.addLabel),1)]),_:1})):t.createCommentVNode("",!0)])):(t.openBlock(),t.createElementBlock("div",{key:1,innerHTML:e.field.template},null,8,nb))}const rb=g(vx,[["render",ob]]),ZS="",ib={props:{fields:{type:Array,default(){return[]}},enableRemove:{type:Boolean},modelValue:{type:Object,default(){return{key:"",comparator:"",value:null,value2:null,values:[]}}}},watch:{modelValue(e){e!=this.model&&(this.model=e)}},async created(){this.comparators=await this.$sdk.content.comparators()},data(){return{comparators:null,model:this.modelValue}},computed:{hasOptions(){return!!(this.field.options&&this.field.options.length)},fieldHash(){return this.fields.reduce(function(e,n){return e[n.path]=n,e},{})},keyOptions(){return this.fields.reduce(function(e,n){switch(n.type){case"object":case"group":break;default:n.filterDisabled||e.push({title:n.filterTitle||n.titles.join(" → "),value:n.path||n.key});break}return e},[])},keyField(){return{minimum:1,maximum:1,options:this.keyOptions,sorted:!0}},field(){return this.fieldHash[this.model.key]},fieldWidget(){var e,n;if((e=this.comparator)!=null&&e.inputWidget)return this.comparator.inputWidget;switch((n=this.field)==null?void 0:n.widget){case"currency":return this.field.widget}},fieldType(){if(this.field)return this.field.type},inputType(){if(this.comparator){var e=this.comparator.inputType;switch(e){case"none":case"range":case"daterange":case"daterelative":case"integer":case"decimal":case"float":case"number":break;case"array":switch(this.fieldType){case"reference":e="multireference";break}break;default:switch(e="normal",this.fieldType){case"reference":case"boolean":case"date":e=this.fieldType;break;case"integer":case"decimal":case"float":case"number":e="number";break}break}return e}},comparator(){return this.comparatorLookup[this.model.comparator]},comparatorLookup(){return this.comparators.hash},comparatorOptions(){if(!this.fieldType)return[];var e=this.comparators.available[this.fieldType]||[],n=e.map(function(o){return{title:o.title,value:o.operator}});return n},comparatorField(){return{minimum:1,maximum:1,options:this.comparatorOptions}},referenceType(){if(this.field)return this.field.referenceType},relativeNumberField(){return{type:"integer",maximum:1,minimum:1,placeholder:"0"}},relativePeriodField(){return{type:"string",maximum:1,minimum:1,widget:"select",options:[{title:"Minutes",value:"minutes"},{title:"Hours",value:"hours"},{title:"Days",value:"days"},{title:"Weeks",value:"weeks"},{title:"Months",value:"months"},{title:"Years",value:"years"}]}},inputPlaceholder(){switch(this.model.comparator){case"valuesgreater":case"valuesgreaterequal":case"valueslesser":case"valueslesserequal":return"0"}return this.field.title},dateField(){return{type:this.fieldType,maximum:1,minimum:1,placeholder:this.inputPlaceholder}},multiOptionsField(){return{options:this.field.options,widget:"select",type:this.fieldType,maximum:0,minimum:1,placeholder:this.inputPlaceholder,sorted:!0}},singleOptionsField(){return{title:`Select ${this.field.title}`,options:this.field.options,widget:"select",type:this.fieldType,maximum:1,minimum:0,placeholder:this.inputPlaceholder,sorted:!0}},normalField(){var o,i;const e={},n={};return n.currency=(o=this.field)==null?void 0:o.currency,n.syntax=(i=this.field)==null?void 0:i.syntax,Object.assign(e,{type:this.fieldType,maximum:1,minimum:1,placeholder:this.inputPlaceholder,widget:this.fieldWidget},n)},arrayField(){return{title:this.field.title,type:this.fieldType,maximum:0,minimum:1}},singleReferenceField(){return{type:"reference",referenceType:this.referenceType,maximum:1,minimum:1,create:!1,list:!1}},multiReferenceField(){return{type:"reference",referenceType:this.referenceType,maximum:0,minimum:1,create:!1,list:!1}}},methods:{},components:{TextField:Sa,CurrencyField:Na,DateField:Ta,NativeSelect:Qe,ContentSelect:Va}},lb={key:0,class:"filter-condition"},ab={key:0},sb={key:1},cb={key:2},db={key:3},ub={key:4},mb={key:5},fb={key:6},pb={key:7},hb={key:8},yb={key:9},gb={key:10};function _b(e,n,o,i,l,r){const a=t.resolveComponent("native-select"),s=t.resolveComponent("flex-cell"),c=t.resolveComponent("text-field"),d=t.resolveComponent("currency-field"),u=t.resolveComponent("flex-row"),m=t.resolveComponent("date-field"),f=t.resolveComponent("content-select"),p=t.resolveComponent("ux-switch"),h=t.resolveComponent("ux-icon"),y=t.resolveComponent("ux-button");return l.comparators?(t.openBlock(),t.createElementBlock("div",lb,[t.createVNode(u,{gap:"",vcenter:""},{default:t.withCtx(()=>[t.createVNode(s,null,{default:t.withCtx(()=>[t.createVNode(a,{title:"Select field",modelValue:l.model.key,"onUpdate:modelValue":n[0]||(n[0]=x=>l.model.key=x),field:r.keyField},null,8,["modelValue","field"])]),_:1}),l.model.key?(t.openBlock(),t.createBlock(s,{key:0},{default:t.withCtx(()=>[t.createVNode(a,{title:"Select comparator",modelValue:l.model.comparator,"onUpdate:modelValue":n[1]||(n[1]=x=>l.model.comparator=x),field:r.comparatorField},null,8,["modelValue","field"])]),_:1})):t.createCommentVNode("",!0),l.model.comparator?(t.openBlock(),t.createBlock(s,{key:1},{default:t.withCtx(()=>[r.inputType=="array"?(t.openBlock(),t.createElementBlock("div",ab,[r.hasOptions?(t.openBlock(),t.createBlock(a,{key:0,modelValue:l.model.values,"onUpdate:modelValue":n[2]||(n[2]=x=>l.model.values=x),field:r.multiOptionsField},null,8,["modelValue","field"])):(t.openBlock(),t.createBlock(c,{key:1,field:r.arrayField,modelValue:l.model.values,"onUpdate:modelValue":n[3]||(n[3]=x=>l.model.values=x)},null,8,["field","modelValue"]))])):t.createCommentVNode("",!0),r.inputType=="range"?(t.openBlock(),t.createElementBlock("div",sb,[r.fieldWidget=="currency"?(t.openBlock(),t.createElementBlock(t.Fragment,{key:0},[t.createVNode(d,{field:r.normalField,modelValue:l.model.value,"onUpdate:modelValue":n[4]||(n[4]=x=>l.model.value=x)},null,8,["field","modelValue"]),t.createTextVNode(" And "),t.createVNode(d,{field:r.normalField,modelValue:l.model.value2,"onUpdate:modelValue":n[5]||(n[5]=x=>l.model.value2=x)},null,8,["field","modelValue"])],64)):(t.openBlock(),t.createElementBlock(t.Fragment,{key:1},[t.createVNode(c,{field:r.normalField,modelValue:l.model.value,"onUpdate:modelValue":n[6]||(n[6]=x=>l.model.value=x)},null,8,["field","modelValue"]),t.createTextVNode(" And "),t.createVNode(c,{field:r.normalField,modelValue:l.model.value2,"onUpdate:modelValue":n[7]||(n[7]=x=>l.model.value2=x)},null,8,["field","modelValue"])],64))])):t.createCommentVNode("",!0),r.inputType=="daterelative"?(t.openBlock(),t.createElementBlock("div",cb,[t.createVNode(u,null,{default:t.withCtx(()=>[t.createVNode(s,{style:{width:"80px"}},{default:t.withCtx(()=>[t.createVNode(c,{field:r.relativeNumberField,modelValue:l.model.value,"onUpdate:modelValue":n[8]||(n[8]=x=>l.model.value=x)},null,8,["field","modelValue"])]),_:1}),t.createVNode(s,null,{default:t.withCtx(()=>[t.createVNode(a,{modelValue:l.model.value2,"onUpdate:modelValue":n[9]||(n[9]=x=>l.model.value2=x),field:r.relativePeriodField},null,8,["modelValue","field"])]),_:1})]),_:1})])):t.createCommentVNode("",!0),r.inputType=="daterange"?(t.openBlock(),t.createElementBlock("div",db,[t.createVNode(m,{field:r.dateField,modelValue:l.model.value,"onUpdate:modelValue":n[10]||(n[10]=x=>l.model.value=x)},null,8,["field","modelValue"]),t.createTextVNode(" And "),t.createVNode(m,{field:r.dateField,modelValue:l.model.value2,"onUpdate:modelValue":n[11]||(n[11]=x=>l.model.value2=x)},null,8,["field","modelValue"])])):t.createCommentVNode("",!0),r.inputType=="date"?(t.openBlock(),t.createElementBlock("div",ub,[t.createVNode(m,{field:r.dateField,modelValue:l.model.value,"onUpdate:modelValue":n[12]||(n[12]=x=>l.model.value=x)},null,8,["field","modelValue"])])):t.createCommentVNode("",!0),r.inputType=="reference"?(t.openBlock(),t.createElementBlock("div",mb,[t.createVNode(f,{field:r.singleReferenceField,modelValue:l.model.value,"onUpdate:modelValue":n[13]||(n[13]=x=>l.model.value=x)},null,8,["field","modelValue"])])):t.createCommentVNode("",!0),r.inputType=="multireference"?(t.openBlock(),t.createElementBlock("div",fb,[t.createVNode(f,{field:r.multiReferenceField,modelValue:l.model.values,"onUpdate:modelValue":n[14]||(n[14]=x=>l.model.values=x)},null,8,["field","modelValue"])])):t.createCommentVNode("",!0),r.inputType=="boolean"?(t.openBlock(),t.createElementBlock("div",pb,[t.createVNode(u,{gap:"",center:""},{default:t.withCtx(()=>[t.createVNode(s,{shrink:""},{default:t.withCtx(()=>[t.createVNode(p,{onClick:n[15]||(n[15]=x=>l.model.value=!l.model.value),value:l.model.value},null,8,["value"])]),_:1}),t.createVNode(s,null,{default:t.withCtx(()=>[t.createTextVNode(t.toDisplayString(l.model.value?"True":"False"),1)]),_:1})]),_:1})])):t.createCommentVNode("",!0),r.inputType=="none"?(t.openBlock(),t.createElementBlock("div",hb)):t.createCommentVNode("",!0),r.inputType=="number"?(t.openBlock(),t.createElementBlock("div",yb,[r.fieldWidget=="currency"?(t.openBlock(),t.createBlock(d,{key:0,field:r.normalField,modelValue:l.model.value,"onUpdate:modelValue":n[16]||(n[16]=x=>l.model.value=x)},null,8,["field","modelValue"])):(t.openBlock(),t.createBlock(c,{key:1,field:r.normalField,modelValue:l.model.value,"onUpdate:modelValue":n[17]||(n[17]=x=>l.model.value=x)},null,8,["field","modelValue"]))])):t.createCommentVNode("",!0),r.inputType=="normal"?(t.openBlock(),t.createElementBlock("div",gb,[r.hasOptions?(t.openBlock(),t.createBlock(a,{key:0,modelValue:l.model.value,"onUpdate:modelValue":n[18]||(n[18]=x=>l.model.value=x),field:r.singleOptionsField},null,8,["modelValue","field"])):(t.openBlock(),t.createBlock(c,{key:1,field:r.normalField,modelValue:l.model.value,"onUpdate:modelValue":n[19]||(n[19]=x=>l.model.value=x)},null,8,["field","modelValue"]))])):t.createCommentVNode("",!0)]),_:1})):t.createCommentVNode("",!0),o.enableRemove?(t.openBlock(),t.createBlock(s,{key:2,shrink:""},{default:t.withCtx(()=>[t.createVNode(y,{size:"sm",icon:"",onClick:n[20]||(n[20]=x=>e.$emit("remove"))},{default:t.withCtx(()=>[t.createVNode(h,{icon:"fa-times"})]),_:1})]),_:1})):t.createCommentVNode("",!0)]),_:1})])):t.createCommentVNode("",!0)}const kb=g(ib,[["render",_b]]),YS="",xb={props:{enableRemove:{type:Boolean},definition:{type:Object,required:!0,default(){return{}}},modelValue:{type:Object,default(){return{operator:"and",filters:[]}}}},methods:{addCondition(){this.model.filters.push({})},removeCondition(e){this.model.filters.splice(e,1)}},data(){return this.modelValue.operator||(this.modelValue.operator="and"),this.modelValue.filters||(this.modelValue.filters=[]),{model:JSON.parse(JSON.stringify(this.modelValue))}},watch:{modelValue(e){e!=this.model&&(this.model=e)},model:{handler:Ht(function(e){this.$emit("update:modelValue",e)},200),deep:!0}},computed:{summary(){switch(this.model.operator){case"or":return"any";case"nor":return"none";default:return"all"}},fields(){const e=this;var n=e.definition&&e.definition.fields?[...e.definition.fields]:[],o=e.definition&&e.definition.definedFields?e.definition.definedFields:[];const i=e.definition.definesType==="submission";if(o.length)if(i){var l={title:"Form Data",minimum:1,maximum:1,key:"formData",asObject:!0,type:"group",fields:o};n.push(l);var r={title:"Data",minimum:1,maximum:1,key:"data",asObject:!0,type:"group",fields:o.map(function(c){return c.type==="reference"&&(c=JSON.parse(JSON.stringify(c)),delete c.fields),c})};n.push(r)}else{var r={title:`${e.definition.title}`,minimum:1,maximum:1,key:"data",asObject:!0,type:"group",fields:o};n.push(r)}var a=e.$sdk.utils.mapFields(n,{includeArrayDelimeter:!0});return a},operatorField(){return{minimum:1,maximum:1,options:[{title:"All",value:"and"},{title:"Any",value:"or"},{title:"None",value:"nor"}]}}},components:{FilterCondition:kb,NativeSelect:Qe}},bb={key:0,class:"filter-rule"},Cb={class:"top"},wb={class:"summary"},Vb=t.createElementVNode("span",{class:"line"},null,-1),Eb={class:"operator"};function Bb(e,n,o,i,l,r){const a=t.resolveComponent("native-select"),s=t.resolveComponent("flex-cell"),c=t.resolveComponent("ux-icon"),d=t.resolveComponent("ux-button"),u=t.resolveComponent("flex-row"),m=t.resolveComponent("filter-condition");return o.definition?(t.openBlock(),t.createElementBlock("div",bb,[t.createElementVNode("div",Cb,[t.createVNode(u,null,{default:t.withCtx(()=>[t.createVNode(s,null,{default:t.withCtx(()=>[t.createElementVNode("div",wb,[t.createTextVNode(" Match "),t.createVNode(a,{modelValue:l.model.operator,"onUpdate:modelValue":n[0]||(n[0]=f=>l.model.operator=f),field:r.operatorField},{default:t.withCtx(()=>[t.createTextVNode(t.toDisplayString(r.summary),1)]),_:1},8,["modelValue","field"]),t.createTextVNode(" of the following conditions ")])]),_:1}),o.enableRemove?(t.openBlock(),t.createBlock(s,{key:0,onClick:n[1]||(n[1]=f=>e.$emit("remove")),shrink:""},{default:t.withCtx(()=>[t.createVNode(d,{size:"sm",icon:""},{default:t.withCtx(()=>[t.createVNode(c,{icon:"fa-trash"})]),_:1})]),_:1})):t.createCommentVNode("",!0)]),_:1})]),(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(l.model.filters,(f,p)=>(t.openBlock(),t.createBlock(u,{key:`condition-${p}`},{default:t.withCtx(()=>[p!=0?(t.openBlock(),t.createBlock(s,{key:0,class:t.normalizeClass(["operator-cell",[l.model.operator,{last:p==l.model.filters.length}]]),vcenter:"",shrink:""},{default:t.withCtx(()=>[Vb,t.createElementVNode("div",Eb,t.toDisplayString(l.model.operator),1)]),_:2},1032,["class"])):t.createCommentVNode("",!0),t.createVNode(s,null,{default:t.withCtx(()=>[t.createVNode(m,{enableRemove:l.model.filters.length>1,fields:r.fields,onRemove:h=>r.removeCondition(p),modelValue:l.model.filters[p],"onUpdate:modelValue":h=>l.model.filters[p]=h},null,8,["enableRemove","fields","onRemove","modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024))),128)),t.createVNode(d,{size:"sm",onClick:r.addCondition},{default:t.withCtx(()=>[t.createTextVNode(" Add Condition "),t.createVNode(c,{icon:"fa-plus",right:""})]),_:1},8,["onClick"])])):t.createCommentVNode("",!0)}const Nb=g(xb,[["render",Bb]]),XS="",Sb={components:{FilterRule:Nb,NativeSelect:Qe},methods:{removeRule(e){this.model.filters&&this.model.filters.splice(e,1)},addRule(){this.model.filters||(this.model.filters=[]),this.model.operator||(this.model.operator="and"),this.model.filters.push({operator:"and",filters:[{}]})}},computed:{summary(){switch(this.model.operator){case"or":return"any";case"nor":return"none";default:return"all"}},operatorField(){return{minimum:1,maximum:1,options:[{title:"All",value:"and"},{title:"Any",value:"or"},{title:"None",value:"nor"}]}}},watch:{modelValue:{handler(e){var n=JSON.stringify(this.model),o=JSON.stringify(e);if(n!=o){var i=JSON.parse(o);this.model=i}},immediate:!0},model:{handler:Ht(function(e){this.$emit("update:modelValue",e)},300),deep:!0,immediate:!0}},props:{definition:{type:Object,required:!0},modelValue:{type:Object,default(){return{operator:"and",filters:[{operator:"and",filters:[]}]}}}},data(){return{model:JSON.parse(JSON.stringify(this.modelValue))}}},Tb={class:"filters"},Ob={key:0,class:"top"},Db={class:"summary"};function Ab(e,n,o,i,l,r){const a=t.resolveComponent("native-select"),s=t.resolveComponent("filter-rule"),c=t.resolveComponent("ux-button"),d=t.resolveComponent("flex-body"),u=t.resolveComponent("flex-column");return t.openBlock(),t.createBlock(u,{class:"filter-builder"},{default:t.withCtx(()=>[t.createVNode(d,null,{default:t.withCtx(()=>[t.createElementVNode("div",Tb,[l.model&&l.model.filters&&l.model.filters.length?(t.openBlock(),t.createElementBlock("div",Ob,[t.createElementVNode("div",Db,[t.createTextVNode(" Match "),t.createVNode(a,{modelValue:l.model.operator,"onUpdate:modelValue":n[0]||(n[0]=m=>l.model.operator=m),field:r.operatorField},{default:t.withCtx(()=>[t.createTextVNode(t.toDisplayString(r.summary),1)]),_:1},8,["modelValue","field"]),t.createTextVNode(" of the following rules ")])])):t.createCommentVNode("",!0),(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(l.model.filters,(m,f)=>(t.openBlock(),t.createBlock(s,{enableRemove:"",key:`rule-${f}`,onRemove:p=>r.removeRule(f),definition:o.definition,modelValue:l.model.filters[f],"onUpdate:modelValue":p=>l.model.filters[f]=p,index:f},null,8,["onRemove","definition","modelValue","onUpdate:modelValue","index"]))),128)),t.createVNode(c,{size:"sm",onClick:n[1]||(n[1]=m=>r.addRule())},{default:t.withCtx(()=>[t.createTextVNode("Add Filter Rule")]),_:1})])]),_:1})]),_:1})}const Da=g(Sb,[["render",Ab],["__scopeId","data-v-833f09b6"]]),JS="",Mb={mixins:[z],components:{FilterBuilder:Da},props:{modelValue:{type:Object}},data(){return{definition:null}},watch:{"field.referenceType":{handler:async function(e){if(!e)return this.definition=null;var n=await this.$sdk.content.glossary({hash:!0});this.definition=n[e]},immediate:!0}},computed:{definitionTitle(){const e=this.definition?this.definition.title:"";return(this.definition?this.definition.plural:"")||e}},methods:{getNewDefaultEntry(){return{operator:"and",filters:[]}}}},Fb={key:0,class:"ux-field-title"},Ib={key:0,class:"ux-required-marker"},$b={key:1,class:"ux-field-description"},Lb={key:2};function Pb(e,n,o,i,l,r){const a=t.resolveComponent("filter-builder"),s=t.resolveComponent("flex-cell"),c=t.resolveComponent("ux-icon"),d=t.resolveComponent("ux-button"),u=t.resolveComponent("flex-row");return t.openBlock(),t.createElementBlock(t.Fragment,null,[e.showLabel?(t.openBlock(),t.createElementBlock("label",Fb,[t.createTextVNode(t.toDisplayString(e.label)+" ("+t.toDisplayString(r.definitionTitle)+") ",1),e.required?(t.openBlock(),t.createElementBlock("span",Ib,"*")):t.createCommentVNode("",!0)])):t.createCommentVNode("",!0),e.showDescription?(t.openBlock(),t.createElementBlock("div",$b,t.toDisplayString(e.description),1)):t.createCommentVNode("",!0),e.multiValue?(t.openBlock(),t.createElementBlock("div",Lb,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.model,(m,f)=>(t.openBlock(),t.createBlock(u,{class:"ux-text-row",key:f},{default:t.withCtx(()=>[t.createVNode(s,null,{default:t.withCtx(()=>[t.createVNode(a,{definition:l.definition,modelValue:e.model[f],"onUpdate:modelValue":p=>e.model[f]=p},null,8,["definition","modelValue","onUpdate:modelValue"])]),_:2},1024),t.createVNode(s,{shrink:"",vcenter:""},{default:t.withCtx(()=>[e.canRemoveValue?(t.openBlock(),t.createBlock(d,{key:0,tag:"a",icon:"",onClick:p=>e.remove(m)},{default:t.withCtx(()=>[t.createVNode(c,{icon:"fa-times"})]),_:2},1032,["onClick"])):t.createCommentVNode("",!0)]),_:2},1024)]),_:2},1024))),128)),e.canAddValue?(t.openBlock(),t.createBlock(d,{key:0,size:"sm",onClick:n[0]||(n[0]=m=>e.add())},{default:t.withCtx(()=>[t.createTextVNode(t.toDisplayString(e.addLabel),1)]),_:1})):t.createCommentVNode("",!0)])):(t.openBlock(),t.createBlock(a,{key:3,definition:l.definition,modelValue:e.model,"onUpdate:modelValue":n[1]||(n[1]=m=>e.model=m)},null,8,["definition","modelValue"]))],64)}const Ub=g(Mb,[["render",Pb],["__scopeId","data-v-63053873"]]),QS="",jb={mixins:[z],props:{modelValue:{type:Boolean,default(){return!1}}},data(){return{value:this.modelValue}},watch:{modelValue(e,n){this.value=e,this.model=e}},computed:{longDescription(){return String(this.description).length>2},defaultValue(){return!1},model:{get(){return!!this.value},set(e){this.value=!!e,this.$emit("update:modelValue",this.value)}}}},Rb={key:0,class:"ux-field-title"},zb={key:0,class:"ux-required-marker"},Hb={key:1,class:"ux-field-description"};function qb(e,n,o,i,l,r){const a=t.resolveComponent("ux-switch"),s=t.resolveComponent("flex-cell"),c=t.resolveComponent("flex-row");return t.openBlock(),t.createBlock(c,{onClick:n[1]||(n[1]=d=>e.touch()),gap:""},{default:t.withCtx(()=>[t.createVNode(s,{vcenter:"",shrink:""},{default:t.withCtx(()=>[t.createVNode(a,{value:r.model,onClick:n[0]||(n[0]=d=>r.model=!r.model)},null,8,["value"])]),_:1}),t.createVNode(s,{vcenter:""},{default:t.withCtx(()=>[t.createElementVNode("div",null,[e.showLabel?(t.openBlock(),t.createElementBlock("label",Rb,[t.createTextVNode(t.toDisplayString(e.label)+" ",1),e.required?(t.openBlock(),t.createElementBlock("span",zb,"*")):t.createCommentVNode("",!0)])):t.createCommentVNode("",!0),e.showDescription?(t.openBlock(),t.createElementBlock("div",Hb,t.toDisplayString(e.description),1)):t.createCommentVNode("",!0)])]),_:1})]),_:1})}const Gb=g(jb,[["render",qb],["__scopeId","data-v-2112a822"]]),vS="",Wb={props:{multiple:{type:Boolean},accept:{type:String}},data(){return{over:!1}},methods:{clicked(){this.multiple||(this.$refs.file.value=null),this.$refs.file.click()},fileout(e){this.over=!0},fileover(e){this.over=!0},filedrop(e){const n=this;e.dataTransfer&&e.dataTransfer.files&&e.dataTransfer.files.length&&(e.preventDefault(),e.stopPropagation(),n.filesSelected(e.dataTransfer.files))},filesSelected(e){console.log("FILES SELECTED",e);var n=[];for(var o in[...e]){var i=e[o];n.push({file:i,data:{},name:i.name,size:i.size,state:""})}this.$emit("files",n)}}},Kb=["accept","multiple"];function Zb(e,n,o,i,l,r){const a=t.resolveComponent("ux-button");return t.openBlock(),t.createElementBlock("label",{class:t.normalizeClass(["file-drop",{over:l.over}]),onDragover:n[2]||(n[2]=t.withModifiers((...s)=>r.fileover&&r.fileover(...s),["prevent","stop"])),onDragleave:n[3]||(n[3]=t.withModifiers((...s)=>r.fileout&&r.fileout(...s),["prevent","stop"])),onDrop:n[4]||(n[4]=t.withModifiers((...s)=>r.filedrop&&r.filedrop(...s),["prevent","stop"]))},[t.createElementVNode("input",{ref:"file",accept:o.accept,type:"file",multiple:o.multiple,onChange:n[0]||(n[0]=s=>r.filesSelected(s.target.files))},null,40,Kb),t.createElementVNode("div",{class:"file-drop-ux",onClick:n[1]||(n[1]=(...s)=>r.clicked&&r.clicked(...s))},[t.renderSlot(e.$slots,"default",{},()=>[t.createVNode(a,null,{default:t.withCtx(()=>[t.createTextVNode("Select Files")]),_:1})],!0)])],34)}const Aa=g(Wb,[["render",Zb],["__scopeId","data-v-bd74657f"]]),eT="",Yb={mixins:[z],components:{FileDrop:Aa},props:{},data(){return{files:[],bytesUploaded:0,state:"ready"}},methods:{filesize(e){return this.$sdk.files.filesize(e)},remove(e){var n=this,o=n.files[e];o.cancelToken&&o.cancelToken.cancel("Operation canceled by the user."),n.files.splice(e,1),console.log("Map to values",n.files),n.mapFilesToValues()},upload(e){var n=this;switch(e.state){case"complete":case"processing":return}e.state="processing";var o=new FormData,i={};i.attachment=!0,i.form=n.$sdk.utils.id(n.form),i.fieldPath=n.fieldPath,o.append("json",JSON.stringify(i)),o.append("file",e.file,e.name);var l={headers:{"Content-Type":"multipart/form-data"},onUploadProgress:c=>{let d=Math.floor(c.loaded*100/c.total);e.progress=d,e.bytesUploaded=c.loaded,e.bytesTotal=c.total,n.bytesUploaded=n.files.reduce(function(u,m){return m.state=="complete"?u+=m.size||m.bytesTotal||0:u+=m.bytesUploaded||0,u},0)}};const a=n.$sdk.api.CancelToken.source();l.cancelToken=a.token,e.cancelToken=a,l.headers={"Content-Type":void 0};let s="/file/upload";return n.$sdk.fileAPI&&(s=`${n.$sdk.fileAPI}${s}`),n.$sdk.api.post(s,o,l).then(function(c){e.state="complete",e.result=c.data,e.cancelToken=null,n.uploadNextFile()}).catch(function(c){e.state="error",e.cancelToken=null,n.uploadNextFile()})},uploadNextFile(){var e=this;e.state="uploading";var n=e.files.find(function(o){switch(o.state){case"complete":case"error":return;default:return!0}});n?e.upload(n):e.state="ready",e.mapFilesToValues()},mapFilesToValues(){var e=this;if(e.multiValue)e.model=e.files.map(function(o){return o.result});else{var n=e.files[0];if(!n)return e.model=void 0;e.model=n.result}console.log("NEW MODEL",e.model)},fileover(e){},filedrop(e){},filesSelected(e){return this.touch(),console.log("FILES SELECTED",e),this.multiValue?this.files=[...this.files,...e]:this.files=e,this.uploadNextFile()}},computed:{}},Xb={key:0,class:"ux-field-title"},Jb={key:0,class:"ux-required-marker"},Qb={key:1,class:"ux-field-description"},vb={key:2,class:"files"},e1={class:"size"};function t1(e,n,o,i,l,r){const a=t.resolveComponent("progress-bar"),s=t.resolveComponent("flex-cell"),c=t.resolveComponent("ux-icon"),d=t.resolveComponent("ux-button"),u=t.resolveComponent("flex-row"),m=t.resolveComponent("file-drop");return t.openBlock(),t.createElementBlock(t.Fragment,null,[e.showLabel?(t.openBlock(),t.createElementBlock("label",Xb,[t.createTextVNode(t.toDisplayString(e.label)+" ",1),e.required?(t.openBlock(),t.createElementBlock("span",Jb,"*")):t.createCommentVNode("",!0)])):t.createCommentVNode("",!0),e.showDescription?(t.openBlock(),t.createElementBlock("div",Qb,t.toDisplayString(e.description),1)):t.createCommentVNode("",!0),l.files&&l.files.length?(t.openBlock(),t.createElementBlock("div",vb,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(l.files,(f,p)=>(t.openBlock(),t.createElementBlock("div",{class:"file-item",key:p},[t.createVNode(u,null,{default:t.withCtx(()=>[t.createVNode(s,null,{default:t.withCtx(()=>[t.createElementVNode("strong",null,t.toDisplayString(f.name),1),t.createElementVNode("div",e1,t.toDisplayString(r.filesize(f.size)),1),t.createVNode(a,{value:f.progress},null,8,["value"])]),_:2},1024),t.createVNode(s,{shrink:""},{default:t.withCtx(()=>[t.createVNode(d,{icon:"",onClick:h=>r.remove(p)},{default:t.withCtx(()=>[t.createVNode(c,{icon:"fa-times"})]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]))),128))])):t.createCommentVNode("",!0),e.multiValue?(t.openBlock(),t.createElementBlock(t.Fragment,{key:3},[e.canAddValue?(t.openBlock(),t.createBlock(m,{key:0,multiple:e.multiValue,onFiles:r.filesSelected},{default:t.withCtx(()=>[t.createVNode(d,null,{default:t.withCtx(()=>[t.createTextVNode("Select Files")]),_:1})]),_:1},8,["multiple","onFiles"])):t.createCommentVNode("",!0)],64)):(t.openBlock(),t.createBlock(m,{key:4,onFiles:r.filesSelected},{default:t.withCtx(()=>[t.createVNode(d,null,{default:t.withCtx(()=>[t.createTextVNode("Select File")]),_:1})]),_:1},8,["onFiles"]))],64)}const n1=g(Yb,[["render",t1],["__scopeId","data-v-d29a9855"]]),tT="",o1={mixins:[z],components:{draggable:wa},props:{submission:{type:Boolean,default:!1},includeOfficeOnly:{type:Boolean,default:!1},modelValue:{type:[Object,Array]},trail:{type:Array,default(){return[]}}},data(){return{drag:!1}},created(){},computed:{groupKey(){return`${this.field.key}-order`},collapsible(){return this.field.collapsible},showLabel(){return this.field.showLabel},reorderable(){return this.multiValue&&this.field.reorderable},sameLine(){return this.field.sameLine}},methods:{createSingleObject(){this.model={}},stateChange(e){this.$emit("form:state",e)},multiLabel(e,n){return e.title?e.title:e.name?e.name:e.firstName?e.firstName:`${this.label} ${n+1}`},enterPress(e){},refocus(){this.$nextTick(function(){var e=this.$refs.row,n=e[e.length-1];if(n){var o=n.$el.querySelector(".ux-field-focus");o&&o.focus()}})},getNewDefaultEntry(){return{}}}},r1={key:0,class:"ux-multi-group"},i1={key:0,class:"ux-group-title"},l1={key:0,class:"ux-field-title"},a1={key:0,class:"ux-required-marker"},s1={key:1,class:"ux-field-description"},c1={key:0,class:"ux-single-group"},d1={class:"ux-group-title"},u1={key:0,class:"ux-field-title"},m1={key:1,class:"ux-field-description"};function f1(e,n,o,i,l,r){const a=t.resolveComponent("ux-icon"),s=t.resolveComponent("flex-cell"),c=t.resolveComponent("ux-button"),d=t.resolveComponent("flex-row"),u=t.resolveComponent("ux-panel-header"),m=t.resolveComponent("ux-form"),f=t.resolveComponent("ux-panel-body"),p=t.resolveComponent("ux-panel"),h=t.resolveComponent("draggable");return e.multiValue?(t.openBlock(),t.createElementBlock("div",r1,[r.showLabel?(t.openBlock(),t.createElementBlock("div",i1,[r.showLabel?(t.openBlock(),t.createElementBlock("label",l1,[t.createTextVNode(t.toDisplayString(e.plural||e.title)+" ",1),e.required?(t.openBlock(),t.createElementBlock("span",a1,"*")):t.createCommentVNode("",!0)])):t.createCommentVNode("",!0),e.showDescription?(t.openBlock(),t.createElementBlock("div",s1,t.toDisplayString(e.description),1)):t.createCommentVNode("",!0)])):t.createCommentVNode("",!0),r.reorderable?(t.openBlock(),t.createBlock(h,{key:1,modelValue:e.model,"onUpdate:modelValue":n[1]||(n[1]=y=>e.model=y),group:r.groupKey,onStart:n[2]||(n[2]=y=>l.drag=!0),onEnd:n[3]||(n[3]=y=>l.drag=!1)},{item:t.withCtx(({element:y,index:x})=>[t.createVNode(p,{ref:"row"},{default:t.withCtx(()=>[t.createVNode(u,null,{default:t.withCtx(()=>[t.createVNode(d,{vcenter:"",gap:""},{default:t.withCtx(()=>[r.reorderable?(t.openBlock(),t.createBlock(s,{key:0,class:"arrows",shrink:""},{default:t.withCtx(()=>[t.createVNode(a,{left:"",icon:"fa-arrows"})]),_:1})):t.createCommentVNode("",!0),t.createVNode(s,{vcenter:""},{default:t.withCtx(()=>[t.createElementVNode("div",null,[t.createElementVNode("strong",null,t.toDisplayString(r.multiLabel(y,x)),1)])]),_:2},1024),r.collapsible?(t.openBlock(),t.createBlock(s,{key:1,shrink:""},{default:t.withCtx(()=>[t.createVNode(c,{size:"xs",tag:"a",onClick:F=>y.collapsed=!y.collapsed},{default:t.withCtx(()=>[t.createTextVNode(t.toDisplayString(y.collapsed?"More":"Less")+" ",1),t.createVNode(a,{right:"",icon:y.collapsed?"fa-angle-down":"fa-angle-up"},null,8,["icon"])]),_:2},1032,["onClick"])]),_:2},1024)):t.createCommentVNode("",!0),t.createVNode(s,{vcenter:"",shrink:""},{default:t.withCtx(()=>[e.canRemoveValue?(t.openBlock(),t.createBlock(c,{key:0,icon:"",tag:"a",onClick:F=>e.remove(y)},{default:t.withCtx(()=>[t.createVNode(a,{icon:"fa-times"})]),_:2},1032,["onClick"])):t.createCommentVNode("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024),t.withDirectives(t.createVNode(f,{onKeydown:n[0]||(n[0]=t.withKeys(F=>r.enterPress(F),["enter"]))},{default:t.withCtx(()=>[t.createVNode(m,{trail:o.trail,ref:"form",includeOfficeOnly:o.includeOfficeOnly,submission:o.submission,"onForm:state":r.stateChange,parentModel:e.parentModel,modelValue:e.model[x],"onUpdate:modelValue":F=>e.model[x]=F,flex:r.sameLine,fields:e.field.fields},null,8,["trail","includeOfficeOnly","submission","onForm:state","parentModel","modelValue","onUpdate:modelValue","flex","fields"])]),_:2},1536),[[t.vShow,!r.collapsible||!y.collapsed]])]),_:2},1536)]),_:1},8,["modelValue","group"])):(t.openBlock(!0),t.createElementBlock(t.Fragment,{key:2},t.renderList(e.model,(y,x)=>(t.openBlock(),t.createBlock(p,{ref_for:!0,ref:"row"},{default:t.withCtx(()=>[t.createVNode(u,null,{default:t.withCtx(()=>[t.createVNode(d,{vcenter:"",gap:""},{default:t.withCtx(()=>[r.reorderable?(t.openBlock(),t.createBlock(s,{key:0,shrink:""},{default:t.withCtx(()=>[t.createVNode(a,{icon:"fa-arrows"})]),_:1})):t.createCommentVNode("",!0),t.createVNode(s,{vcenter:""},{default:t.withCtx(()=>[t.createElementVNode("div",null,[t.createElementVNode("strong",null,t.toDisplayString(r.multiLabel(y,x)),1)])]),_:2},1024),r.collapsible?(t.openBlock(),t.createBlock(s,{key:1,shrink:""},{default:t.withCtx(()=>[t.createVNode(c,{size:"xs",tag:"a",onClick:F=>y.collapsed=!y.collapsed},{default:t.withCtx(()=>[t.createTextVNode(t.toDisplayString(y.collapsed?"More":"Less")+" ",1),t.createVNode(a,{right:"",icon:y.collapsed?"fa-angle-down":"fa-angle-up"},null,8,["icon"])]),_:2},1032,["onClick"])]),_:2},1024)):t.createCommentVNode("",!0),t.createVNode(s,{vcenter:"",shrink:""},{default:t.withCtx(()=>[e.canRemoveValue?(t.openBlock(),t.createBlock(c,{key:0,icon:"",tag:"a",onClick:F=>e.remove(y)},{default:t.withCtx(()=>[t.createVNode(a,{icon:"fa-times"})]),_:2},1032,["onClick"])):t.createCommentVNode("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024),t.withDirectives(t.createVNode(f,{onKeydown:n[4]||(n[4]=t.withKeys(F=>r.enterPress(F),["enter"]))},{default:t.withCtx(()=>[t.createVNode(m,{ref_for:!0,ref:"form",trail:o.trail,includeOfficeOnly:o.includeOfficeOnly,submission:o.submission,"onForm:state":r.stateChange,parentModel:e.parentModel,modelValue:e.model[x],"onUpdate:modelValue":F=>e.model[x]=F,flex:r.sameLine,fields:e.field.fields},null,8,["trail","includeOfficeOnly","submission","onForm:state","parentModel","modelValue","onUpdate:modelValue","flex","fields"])]),_:2},1536),[[t.vShow,!y.collapsed]])]),_:2},1536))),256)),e.canAddValue?(t.openBlock(),t.createBlock(c,{key:3,onClick:n[5]||(n[5]=y=>e.add())},{default:t.withCtx(()=>[t.createTextVNode(t.toDisplayString(e.addLabel)+" ",1),t.createVNode(a,{icon:"fa-plus",right:""})]),_:1})):t.createCommentVNode("",!0)])):(t.openBlock(),t.createElementBlock(t.Fragment,{key:1},[e.widget==="form"?(t.openBlock(),t.createElementBlock(t.Fragment,{key:0},[e.model?(t.openBlock(),t.createElementBlock(t.Fragment,{key:0},[e.minimum===0?(t.openBlock(),t.createBlock(p,{key:0},{default:t.withCtx(()=>[t.createVNode(u,null,{default:t.withCtx(()=>[t.createVNode(d,{vcenter:"",gap:""},{default:t.withCtx(()=>[t.createVNode(s,{vcenter:""},{default:t.withCtx(()=>[t.createElementVNode("div",null,[t.createElementVNode("strong",null,t.toDisplayString(e.label),1)])]),_:1}),t.createVNode(s,{vcenter:"",shrink:""},{default:t.withCtx(()=>[t.createVNode(c,{icon:"",tag:"a",onClick:n[6]||(n[6]=y=>e.model=void 0)},{default:t.withCtx(()=>[t.createVNode(a,{icon:"fa-times"})]),_:1})]),_:1})]),_:1})]),_:1}),t.createVNode(f,null,{default:t.withCtx(()=>[t.createVNode(m,{ref:"form",trail:o.trail,includeOfficeOnly:o.includeOfficeOnly,submission:o.submission,"onForm:state":r.stateChange,parentModel:e.parentModel,modelValue:e.model,"onUpdate:modelValue":n[7]||(n[7]=y=>e.model=y),flex:r.sameLine,fields:e.field.fields},null,8,["trail","includeOfficeOnly","submission","onForm:state","parentModel","modelValue","flex","fields"])]),_:1})]),_:1})):(t.openBlock(),t.createBlock(m,{key:1,ref:"form",trail:o.trail,includeOfficeOnly:o.includeOfficeOnly,submission:o.submission,"onForm:state":r.stateChange,parentModel:e.parentModel,modelValue:e.model,"onUpdate:modelValue":n[8]||(n[8]=y=>e.model=y),flex:r.sameLine,fields:e.field.fields},null,8,["trail","includeOfficeOnly","submission","onForm:state","parentModel","modelValue","flex","fields"]))],64)):(t.openBlock(),t.createBlock(c,{key:1,onClick:n[9]||(n[9]=y=>r.createSingleObject())},{default:t.withCtx(()=>[t.createTextVNode("Add "+t.toDisplayString(e.label)+" ",1),t.createVNode(a,{icon:"fa-plus",right:""})]),_:1}))],64)):(t.openBlock(),t.createElementBlock(t.Fragment,{key:1},[r.showLabel?(t.openBlock(),t.createElementBlock("div",c1,[t.createElementVNode("div",d1,[r.showLabel?(t.openBlock(),t.createElementBlock("label",u1,t.toDisplayString(e.title),1)):t.createCommentVNode("",!0),e.showDescription?(t.openBlock(),t.createElementBlock("div",m1,t.toDisplayString(e.description),1)):t.createCommentVNode("",!0)]),t.createVNode(p,null,{default:t.withCtx(()=>[t.createVNode(f,null,{default:t.withCtx(()=>[t.createVNode(m,{ref:"form",trail:o.trail,includeOfficeOnly:o.includeOfficeOnly,submission:o.submission,"onForm:state":r.stateChange,parentModel:e.parentModel,modelValue:e.model,"onUpdate:modelValue":n[10]||(n[10]=y=>e.model=y),flex:r.sameLine,fields:e.field.fields},null,8,["trail","includeOfficeOnly","submission","onForm:state","parentModel","modelValue","flex","fields"])]),_:1})]),_:1})])):(t.openBlock(),t.createBlock(m,{key:1,ref:"form",trail:o.trail,includeOfficeOnly:o.includeOfficeOnly,submission:o.submission,"onForm:state":r.stateChange,parentModel:e.parentModel,modelValue:e.model,"onUpdate:modelValue":n[11]||(n[11]=y=>e.model=y),flex:r.sameLine,fields:e.field.fields},null,8,["trail","includeOfficeOnly","submission","onForm:state","parentModel","modelValue","flex","fields"]))],64))],64))}const p1=g(o1,[["render",f1],["__scopeId","data-v-a6158951"]]),h1={props:{option:{required:!0}},computed:{plainValue(){return this.option._id||this.option.value||this.option}}};function y1(e,n,o,i,l,r){return t.renderSlot(e.$slots,"default",{plainValue:r.plainValue},()=>[t.createElementVNode("pre",null,t.toDisplayString(o.option),1)])}const g1=g(h1,[["render",y1]]),nT="";function _1(e){return e===void 0||typeof e>"u"||e===null||String(e)==="null"||String(e)==="undefined"}const k1={components:{OptionSlot:g1},props:{modelValue:{}},mixins:[z],created(){this.model=this.model},methods:{select(e){var n=this;n.multiValue?n.model=[...n.model,e]:n.model=e},deselect(e){var n=this;if(this.multiValue){var o=this.model.slice(),i=o.indexOf(e);i!=-1&&(o.splice(i,1),this.model=o)}else n.getValue(this.model)==e?this.model=void 0:this.model=e},toggle(e){this.selectionHash[e]?this.deselect(e):this.select(e),this.touch()},model:{get(){return this.cleanOutput(this.value)},set(e){this.value=this.cleanInput(e),this.dispatch()}},cleanOutput(e){var n=this;return _1(e)?n.multiValue?e=[]:e=void 0:n.multiValue?e=(e||[]).map(function(o){return n.getValue(o)}):e=n.getValue(e),e},cleanInput(e){var n=this;if(n.multiValue)e||(e=[]),Array.isArray(e)||(e=[e]),n.maximum&&e.length>n.maximum&&(e.length=n.maximum),e=e.map(function(i){var l=n.getValue(i);return n.returnObject?n.optionLookup[l]:l});else{var o=n.getValue(e);e=n.returnObject?n.optionLookup[o]:o}return e}},computed:{selectionHash(){var e={};return this.model&&(this.multiValue?this.model.forEach(function(n){e[n]=!0}):e[this.model]=!0),console.log("change hash"),e},returnObject(){return this.type=="reference"},summary(){return this.getLabel(this.optionLookup[this.model])||"Click to select"}}},x1={key:0,class:"ux-field-title"},b1={key:0,class:"ux-required-marker"},C1={key:1,class:"ux-field-description"},w1={class:"buttons"};function V1(e,n,o,i,l,r){const a=t.resolveComponent("ux-icon"),s=t.resolveComponent("ux-button"),c=t.resolveComponent("option-slot");return t.openBlock(),t.createElementBlock(t.Fragment,null,[e.showLabel?(t.openBlock(),t.createElementBlock("label",x1,[t.createTextVNode(t.toDisplayString(e.label)+" ",1),e.required?(t.openBlock(),t.createElementBlock("span",b1,"*")):t.createCommentVNode("",!0)])):t.createCommentVNode("",!0),e.showDescription?(t.openBlock(),t.createElementBlock("div",C1,t.toDisplayString(e.description),1)):t.createCommentVNode("",!0),t.createElementVNode("div",w1,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.selectableOptions,d=>(t.openBlock(),t.createBlock(c,{option:d},{default:t.withCtx(({plainValue:u})=>[t.createVNode(s,{class:t.normalizeClass({active:r.selectionHash[u]}),onClick:m=>r.toggle(u)},{default:t.withCtx(()=>[t.createTextVNode(t.toDisplayString(e.getLabel(d))+" ",1),t.createVNode(a,{icon:"fa-check",right:""})]),_:2},1032,["class","onClick"])]),_:2},1032,["option"]))),256))])],64)}const E1=g(k1,[["render",V1],["__scopeId","data-v-552abf71"]]),oT="",B1={props:{modelValue:{type:Object}},mixins:[z],computed:{},methods:{getNewDefaultEntry(){return{}}}},N1={key:0,class:"ux-field-title"},S1={key:0,class:"ux-required-marker"},T1={key:1,class:"ux-field-description"},O1={key:2},D1={key:3};function A1(e,n,o,i,l,r){const a=t.resolveComponent("flex-cell"),s=t.resolveComponent("ux-icon"),c=t.resolveComponent("ux-button"),d=t.resolveComponent("flex-row");return t.openBlock(),t.createElementBlock(t.Fragment,null,[e.showLabel?(t.openBlock(),t.createElementBlock("label",N1,[t.createTextVNode(t.toDisplayString(e.label)+" ",1),e.required?(t.openBlock(),t.createElementBlock("span",S1,"*")):t.createCommentVNode("",!0)])):t.createCommentVNode("",!0),e.showDescription?(t.openBlock(),t.createElementBlock("div",T1,t.toDisplayString(e.description),1)):t.createCommentVNode("",!0),e.multiValue?(t.openBlock(),t.createElementBlock("div",O1,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.model,(u,m)=>(t.openBlock(),t.createBlock(d,{class:"ux-text-row",key:m},{default:t.withCtx(()=>[t.createVNode(a,null,{default:t.withCtx(()=>[t.createElementVNode("pre",null,t.toDisplayString(u),1)]),_:2},1024),t.createVNode(a,{shrink:"",vcenter:""},{default:t.withCtx(()=>[e.canRemoveValue?(t.openBlock(),t.createBlock(c,{key:0,tag:"a",icon:"",onClick:f=>e.remove(u)},{default:t.withCtx(()=>[t.createVNode(s,{icon:"fa-times"})]),_:2},1032,["onClick"])):t.createCommentVNode("",!0)]),_:2},1024)]),_:2},1024))),128)),e.canAddValue?(t.openBlock(),t.createBlock(c,{key:0,onClick:n[0]||(n[0]=u=>e.add())},{default:t.withCtx(()=>[t.createTextVNode(t.toDisplayString(e.addLabel)+" ",1),t.createVNode(s,{icon:"fa-plus",right:""})]),_:1})):t.createCommentVNode("",!0)])):(t.openBlock(),t.createElementBlock("pre",D1,t.toDisplayString(e.model),1))],64)}const M1=g(B1,[["render",A1],["__scopeId","data-v-aae5394a"]]),rT="",F1={props:{modelValue:{type:[String,Array]}},mixins:[z],computed:{lazy(){switch(this.type){case"integer":case"number":case"decimal":case"float":case"url":case"key":return!0}},actualPlaceholder(){if(this.field.placeholder)return this.field.placeholder;switch(this.type){case"integer":case"number":case"decimal":case"float":return"0";case"url":return"https://www.website.com";case"email":return"you@youremail.com"}},addLabel(){return this.numValues?"Add another option":"Add options"}},methods:{titleBlurred(e){var n;this.multiValue?n=this.model[e]:n=this.model,n.title!==n.value&&delete n.pristine},valueTouched(e){var n;this.multiValue?n=this.model[e]:n=this.model,delete n.pristine,this.touch()},entryTitleChanged(e){this.$nextTick(function(){var n;this.multiValue?n=this.model[e]:n=this.model,n.pristine&&(n.value=n.title)})},cleanOutputValue(e){return e.value=this.cleanTextInput(e.value,this.type,this),e},cleanInputValue(e){return e.value=this.cleanTextInput(e.value,this.type,this),e},getNewDefaultEntry(){return{pristine:!0}}}},to=e=>(t.pushScopeId("data-v-c8feb6c2"),e=e(),t.popScopeId(),e),I1={key:0,class:"ux-field-title"},$1={key:0,class:"ux-required-marker"},L1={key:1,class:"ux-field-description"},P1={key:2},U1={class:"ux-text-wrap prefixed"},j1=to(()=>t.createElementVNode("span",{class:"ux-text-prefix"},"Label",-1)),R1=["onBlur","on:update:modelValue","onUpdate:modelValue"],z1=["onBlur","on:update:modelValue","onUpdate:modelValue"],H1={class:"ux-text-wrap prefixed"},q1=to(()=>t.createElementVNode("span",{class:"ux-text-prefix"},"Value",-1)),G1=["onFocus","onUpdate:modelValue"],W1=["onFocus","onUpdate:modelValue"],K1={class:"ux-text-wrap prefixed"},Z1=to(()=>t.createElementVNode("span",{class:"ux-text-prefix"},"Label",-1)),Y1={class:"ux-text-wrap prefixed"},X1=to(()=>t.createElementVNode("span",{class:"ux-text-prefix"},"Value",-1));function J1(e,n,o,i,l,r){const a=t.resolveComponent("flex-cell"),s=t.resolveComponent("ux-icon"),c=t.resolveComponent("ux-button"),d=t.resolveComponent("flex-row");return t.openBlock(),t.createElementBlock(t.Fragment,null,[e.showLabel?(t.openBlock(),t.createElementBlock("label",I1,[t.createTextVNode(t.toDisplayString(e.label)+" ",1),e.required?(t.openBlock(),t.createElementBlock("span",$1,"*")):t.createCommentVNode("",!0)])):t.createCommentVNode("",!0),e.showDescription?(t.openBlock(),t.createElementBlock("div",L1,t.toDisplayString(e.description),1)):t.createCommentVNode("",!0),e.multiValue?(t.openBlock(),t.createElementBlock("div",P1,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.model,(u,m)=>(t.openBlock(),t.createBlock(d,{class:"ux-text-row",key:m},{default:t.withCtx(()=>[t.createVNode(a,null,{default:t.withCtx(()=>[t.createElementVNode("div",U1,[j1,r.lazy?t.withDirectives((t.openBlock(),t.createElementBlock("input",{key:0,class:"ux-field-focus ux-text-input-multiple",placeholder:"Label",onFocus:n[0]||(n[0]=(...f)=>e.touch&&e.touch(...f)),ref_for:!0,ref:"input",onKeydown:n[1]||(n[1]=t.withKeys(t.withModifiers(f=>e.add(),["stop","prevent"]),["enter"])),onBlur:f=>r.titleBlurred(m),"on:update:modelValue":f=>r.entryTitleChanged(m),"onUpdate:modelValue":f=>e.model[m].title=f},null,40,R1)),[[t.vModelText,e.model[m].title,void 0,{lazy:!0}]]):t.createCommentVNode("",!0),r.lazy?t.createCommentVNode("",!0):t.withDirectives((t.openBlock(),t.createElementBlock("input",{key:1,class:"ux-field-focus ux-text-input-multiple",placeholder:"Label",onFocus:n[2]||(n[2]=(...f)=>e.touch&&e.touch(...f)),ref_for:!0,ref:"input",onKeydown:n[3]||(n[3]=t.withKeys(t.withModifiers(f=>e.add(),["stop","prevent"]),["enter"])),onBlur:f=>r.titleBlurred(m),"on:update:modelValue":f=>r.entryTitleChanged(m),"onUpdate:modelValue":f=>e.model[m].title=f},null,40,z1)),[[t.vModelText,e.model[m].title]])])]),_:2},1024),t.createVNode(a,null,{default:t.withCtx(()=>[t.createElementVNode("div",H1,[q1,r.lazy?t.withDirectives((t.openBlock(),t.createElementBlock("input",{key:0,class:"ux-field-focus ux-text-input-multiple",placeholder:"Value",onFocus:f=>r.valueTouched(m),ref_for:!0,ref:"valueInput",onKeydown:n[4]||(n[4]=t.withKeys(t.withModifiers(f=>e.add(),["stop","prevent"]),["enter"])),"onUpdate:modelValue":f=>e.model[m].value=f},null,40,G1)),[[t.vModelText,e.model[m].value,void 0,{lazy:!0}]]):t.createCommentVNode("",!0),r.lazy?t.createCommentVNode("",!0):t.withDirectives((t.openBlock(),t.createElementBlock("input",{key:1,class:"ux-field-focus ux-text-input-multiple",placeholder:"Value",onFocus:f=>r.valueTouched(m),ref_for:!0,ref:"valueInput",onKeydown:n[5]||(n[5]=t.withKeys(t.withModifiers(f=>e.add(),["stop","prevent"]),["enter"])),"onUpdate:modelValue":f=>e.model[m].value=f},null,40,W1)),[[t.vModelText,e.model[m].value]])])]),_:2},1024),t.createVNode(a,{shrink:"",vcenter:""},{default:t.withCtx(()=>[e.canRemoveValue?(t.openBlock(),t.createBlock(c,{key:0,tag:"a",icon:"",onClick:f=>e.remove(u)},{default:t.withCtx(()=>[t.createVNode(s,{icon:"fa-times"})]),_:2},1032,["onClick"])):t.createCommentVNode("",!0)]),_:2},1024)]),_:2},1024))),128)),e.canAddValue?(t.openBlock(),t.createBlock(c,{key:0,onClick:n[6]||(n[6]=u=>e.add())},{default:t.withCtx(()=>[t.createTextVNode(t.toDisplayString(r.addLabel)+" ",1),t.createVNode(s,{icon:"fa-plus",right:""})]),_:1})):t.createCommentVNode("",!0)])):(t.openBlock(),t.createBlock(d,{key:3,class:"ux-text-row"},{default:t.withCtx(()=>[t.createVNode(a,null,{default:t.withCtx(()=>[t.createElementVNode("div",K1,[Z1,r.lazy?t.withDirectives((t.openBlock(),t.createElementBlock("input",{key:0,class:"ux-field-focus ux-text-input-multiple",placeholder:"Label",onFocus:n[7]||(n[7]=(...u)=>e.touch&&e.touch(...u)),ref:"input",onKeydown:n[8]||(n[8]=t.withKeys(t.withModifiers(u=>e.add(),["stop","prevent"]),["enter"])),onBlur:n[9]||(n[9]=u=>r.titleBlurred(e.index)),"on:update:modelValue":n[10]||(n[10]=(...u)=>r.entryTitleChanged&&r.entryTitleChanged(...u)),"onUpdate:modelValue":n[11]||(n[11]=u=>e.model.title=u)},null,544)),[[t.vModelText,e.model.title,void 0,{lazy:!0}]]):t.createCommentVNode("",!0),r.lazy?t.createCommentVNode("",!0):t.withDirectives((t.openBlock(),t.createElementBlock("input",{key:1,class:"ux-field-focus ux-text-input-multiple",placeholder:"Label",onFocus:n[12]||(n[12]=(...u)=>e.touch&&e.touch(...u)),ref:"input",onKeydown:n[13]||(n[13]=t.withKeys(t.withModifiers(u=>e.add(),["stop","prevent"]),["enter"])),onBlur:n[14]||(n[14]=u=>r.titleBlurred(e.index)),"on:update:modelValue":n[15]||(n[15]=(...u)=>r.entryTitleChanged&&r.entryTitleChanged(...u)),"onUpdate:modelValue":n[16]||(n[16]=u=>e.model.title=u)},null,544)),[[t.vModelText,e.model.title]])])]),_:1}),t.createVNode(a,null,{default:t.withCtx(()=>[t.createElementVNode("div",Y1,[X1,r.lazy?t.withDirectives((t.openBlock(),t.createElementBlock("input",{key:0,class:"ux-field-focus ux-text-input-multiple",placeholder:"Value",onFocus:n[17]||(n[17]=(...u)=>r.valueTouched&&r.valueTouched(...u)),ref:"valueInput",onKeydown:n[18]||(n[18]=t.withKeys(t.withModifiers(u=>e.add(),["stop","prevent"]),["enter"])),"onUpdate:modelValue":n[19]||(n[19]=u=>e.model.value=u)},null,544)),[[t.vModelText,e.model.value,void 0,{lazy:!0}]]):t.createCommentVNode("",!0),r.lazy?t.createCommentVNode("",!0):t.withDirectives((t.openBlock(),t.createElementBlock("input",{key:1,class:"ux-field-focus ux-text-input-multiple",placeholder:"Value",onFocus:n[20]||(n[20]=(...u)=>r.valueTouched&&r.valueTouched(...u)),ref:"valueInput",onKeydown:n[21]||(n[21]=t.withKeys(t.withModifiers(u=>e.add(),["stop","prevent"]),["enter"])),"onUpdate:modelValue":n[22]||(n[22]=u=>e.model.value=u)},null,544)),[[t.vModelText,e.model.value]])])]),_:1})]),_:1}))],64)}const Q1=g(F1,[["render",J1],["__scopeId","data-v-c8feb6c2"]]),iT="",v1={components:{},methods:{injectToken(e){const n=this.editor;if(!n)return;const o=n.session;if(!o)return;const i=this.editor.selection.getRange();i&&(i.start,i.end,o.replace(i,e),n.focus())},editorInit(e){this.editor=e},focussed(){const e=this;e.timer&&(clearTimeout(e.timer),e.timer=null,console.log("Remove ticked"))},blurred(){console.log("Blurred");const e=this;console.log("Start timer"),e.timer=setTimeout(function(){console.log("Timer ticked"),e.format()},100)},format(){if(typeof window!==void 0){var e=this.model;if(e){switch(this.lang){case"js":case"javascript":window.js_beautify&&(e=window.js_beautify(e));break;case"css":case"scss":window.css_beautify&&(e=window.css_beautify(e));break;case"html":window.html_beautify&&(e=window.html_beautify(e));break;default:return}this.model=e}}}},props:{modelValue:{type:String,default(){return""}},tokens:{type:Array,default(){return[]}},lang:{type:String},readonly:{type:Boolean}},watch:{modelValue(e){this.model=e},model(e){this.$emit("update:modelValue",e)}},unmounted(){this.editor=null},async mounted(){this.mounted=!0,this.$sdk.global&&this.$sdk.global.injectScript&&(this.$sdk.global.injectScript("https://cdnjs.cloudflare.com/ajax/libs/js-beautify/1.14.5/beautify.min.js"),this.$sdk.global.injectScript("https://cdnjs.cloudflare.com/ajax/libs/js-beautify/1.14.5/beautify-css.min.js"),this.$sdk.global.injectScript("https://cdnjs.cloudflare.com/ajax/libs/js-beautify/1.14.5/beautify-html.min.js"))},data(){return{showTokens:!1,timer:null,mounted:!1,model:this.modelValue,editor:null,selectionContext:{}}}},eC={key:0,class:"tokens"},tC={key:0,class:"tokens-body"};function nC(e,n,o,i,l,r){const a=t.resolveComponent("flex-cell"),s=t.resolveComponent("ux-icon"),c=t.resolveComponent("flex-row"),d=t.resolveComponent("ux-button"),u=t.resolveComponent("v-ace-editor"),m=t.resolveComponent("flex-column");return l.mounted?(t.openBlock(),t.createBlock(m,{key:0},{default:t.withCtx(()=>[o.tokens.length?(t.openBlock(),t.createElementBlock("div",eC,[t.createElementVNode("div",{class:"tokens-header",onClick:n[0]||(n[0]=f=>l.showTokens=!l.showTokens)},[t.createVNode(c,{gap:"",center:""},{default:t.withCtx(()=>[t.createVNode(a,null,{default:t.withCtx(()=>[t.createTextVNode(t.toDisplayString(l.showTokens?"Hide":"Show")+" Tokens ",1)]),_:1}),t.createVNode(a,{shrink:""},{default:t.withCtx(()=>[t.createVNode(s,{icon:l.showTokens?"fa-angle-up":"fa-angle-right"},null,8,["icon"])]),_:1})]),_:1})]),l.showTokens?(t.openBlock(),t.createElementBlock("div",tC,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(o.tokens,f=>(t.openBlock(),t.createBlock(d,{size:"xs",onClick:t.withModifiers(p=>r.injectToken(f.value),["stop","prevent"])},{default:t.withCtx(()=>[t.createVNode(s,{icon:"fa-asterisk"}),t.createTextVNode(" "+t.toDisplayString(f.title),1)]),_:2},1032,["onClick"]))),256))])):t.createCommentVNode("",!0)])):t.createCommentVNode("",!0),t.createVNode(u,{onBlur:r.blurred,onFocus:r.focussed,readonly:o.readonly,class:"editor-wrap",value:l.model,"onUpdate:value":n[1]||(n[1]=f=>l.model=f),options:{useWorker:!0},onInit:r.editorInit,lang:o.lang,theme:"tomorrow_night_eighties",style:{height:"300px"}},null,8,["onBlur","onFocus","readonly","value","onInit","lang"])]),_:1})):t.createCommentVNode("",!0)}const Ma=g(v1,[["render",nC],["__scopeId","data-v-a15d6b19"]]),lT="",oC={components:{CodeEditor:Ma},props:{modelValue:{type:[String,Array]}},computed:{syntax(){return this.field?this.field.syntax:"json"}},mixins:[z],methods:{enterPress(){},getNewDefaultEntry(){return""}}},rC={key:0,class:"ux-field-title"},iC={key:0,class:"ux-required-marker"},lC={key:1,class:"ux-field-description"},aC={key:2},sC={class:"code-editor-field-wrap"},cC={key:3,class:"code-editor-field-wrap"};function dC(e,n,o,i,l,r){const a=t.resolveComponent("code-editor"),s=t.resolveComponent("flex-cell"),c=t.resolveComponent("ux-icon"),d=t.resolveComponent("ux-button"),u=t.resolveComponent("flex-row");return t.openBlock(),t.createElementBlock("div",{onKeydown:n[2]||(n[2]=t.withKeys(t.withModifiers(m=>r.enterPress(m),["stop"]),["enter"]))},[e.showLabel?(t.openBlock(),t.createElementBlock("label",rC,[t.createTextVNode(t.toDisplayString(e.label)+" ",1),e.required?(t.openBlock(),t.createElementBlock("span",iC,"*")):t.createCommentVNode("",!0)])):t.createCommentVNode("",!0),e.showDescription?(t.openBlock(),t.createElementBlock("div",lC,t.toDisplayString(e.description),1)):t.createCommentVNode("",!0),e.multiValue?(t.openBlock(),t.createElementBlock("div",aC,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.model,(m,f)=>(t.openBlock(),t.createBlock(u,{class:"ux-text-row",key:f},{default:t.withCtx(()=>[t.createVNode(s,null,{default:t.withCtx(()=>[t.createElementVNode("div",sC,[t.createVNode(a,{lang:r.syntax,onFocus:e.touch,ref_for:!0,ref:"input",modelValue:e.model[f],"onUpdate:modelValue":p=>e.model[f]=p,class:"ux-code-editor ux-field-focus ux-text-area-multiple"},null,8,["lang","onFocus","modelValue","onUpdate:modelValue"])])]),_:2},1024),t.createVNode(s,{shrink:"",vcenter:""},{default:t.withCtx(()=>[e.canRemoveValue?(t.openBlock(),t.createBlock(d,{key:0,tag:"a",icon:"",onClick:p=>e.remove(m)},{default:t.withCtx(()=>[t.createVNode(c,{icon:"fa-times"})]),_:2},1032,["onClick"])):t.createCommentVNode("",!0)]),_:2},1024)]),_:2},1024))),128)),e.canAddValue?(t.openBlock(),t.createBlock(d,{key:0,onClick:n[0]||(n[0]=m=>e.add())},{default:t.withCtx(()=>[t.createTextVNode(t.toDisplayString(e.addLabel),1)]),_:1})):t.createCommentVNode("",!0)])):(t.openBlock(),t.createElementBlock("div",cC,[t.createVNode(a,{lang:r.syntax,class:"ux-code-editor ux-field-focus ux-text-area-single",onFocus:e.touch,modelValue:e.model,"onUpdate:modelValue":n[1]||(n[1]=m=>e.model=m)},null,8,["lang","onFocus","modelValue"])]))],32)}const uC=g(oC,[["render",dC],["__scopeId","data-v-50e774dd"]]),aT="",mC={props:{modelValue:{type:[String,Array]}},mixins:[z],methods:{enterPress(){},getNewDefaultEntry(){return""}}},fC={key:0,class:"ux-field-title"},pC={key:0,class:"ux-required-marker"},hC={key:1,class:"ux-field-description"},yC={key:2},gC={class:"expression-field-wrap"},_C={key:3,class:"expression-field-wrap"};function kC(e,n,o,i,l,r){const a=t.resolveComponent("expression-editor"),s=t.resolveComponent("flex-cell"),c=t.resolveComponent("ux-icon"),d=t.resolveComponent("ux-button"),u=t.resolveComponent("flex-row");return t.openBlock(),t.createElementBlock("div",{onKeydown:n[2]||(n[2]=t.withKeys(t.withModifiers(m=>r.enterPress(m),["stop"]),["enter"]))},[e.showLabel?(t.openBlock(),t.createElementBlock("label",fC,[t.createTextVNode(t.toDisplayString(e.label)+" ",1),e.required?(t.openBlock(),t.createElementBlock("span",pC,"*")):t.createCommentVNode("",!0)])):t.createCommentVNode("",!0),e.showDescription?(t.openBlock(),t.createElementBlock("div",hC,t.toDisplayString(e.description),1)):t.createCommentVNode("",!0),e.multiValue?(t.openBlock(),t.createElementBlock("div",yC,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.model,(m,f)=>(t.openBlock(),t.createBlock(u,{class:"ux-text-row",key:f},{default:t.withCtx(()=>[t.createVNode(s,null,{default:t.withCtx(()=>[t.createElementVNode("div",gC,[t.createVNode(a,{field:e.field,onFocus:e.touch,ref_for:!0,ref:"input",modelValue:e.model[f],"onUpdate:modelValue":p=>e.model[f]=p,class:"ux-expression ux-field-focus ux-text-area-multiple"},null,8,["field","onFocus","modelValue","onUpdate:modelValue"])])]),_:2},1024),t.createVNode(s,{shrink:"",vcenter:""},{default:t.withCtx(()=>[e.canRemoveValue?(t.openBlock(),t.createBlock(d,{key:0,tag:"a",icon:"",onClick:p=>e.remove(m)},{default:t.withCtx(()=>[t.createVNode(c,{icon:"fa-times"})]),_:2},1032,["onClick"])):t.createCommentVNode("",!0)]),_:2},1024)]),_:2},1024))),128)),e.canAddValue?(t.openBlock(),t.createBlock(d,{key:0,onClick:n[0]||(n[0]=m=>e.add())},{default:t.withCtx(()=>[t.createTextVNode(t.toDisplayString(e.addLabel),1)]),_:1})):t.createCommentVNode("",!0)])):(t.openBlock(),t.createElementBlock("div",_C,[t.createVNode(a,{field:e.field,class:"ux-expression ux-field-focus ux-text-area-single",onFocus:e.touch,modelValue:e.model,"onUpdate:modelValue":n[1]||(n[1]=m=>e.model=m)},null,8,["field","onFocus","modelValue"])]))],32)}const xC=g(mC,[["render",kC],["__scopeId","data-v-56c3b71b"]]),sT="",bC={components:{},methods:{},props:{modelValue:{type:String,default(){return""}},lang:{type:String}},watch:{modelValue(e){this.model=e},model(e){this.$emit("update:modelValue",e)}},mounted(){this.mounted=!0},beforeUnmount(){this.mounted=!1},data(){return{mounted:!1,model:this.modelValue}}};function CC(e,n,o,i,l,r){const a=t.resolveComponent("tiptap"),s=t.resolveComponent("flex-column");return l.mounted?(t.openBlock(),t.createBlock(s,{key:0},{default:t.withCtx(()=>[t.createVNode(a,{modelValue:l.model,"onUpdate:modelValue":n[0]||(n[0]=c=>l.model=c),style:{height:"250px"}},null,8,["modelValue"])]),_:1})):t.createCommentVNode("",!0)}const wC=g(bC,[["render",CC],["__scopeId","data-v-844777a7"]]),cT="",VC={components:{richtext:wC},props:{modelValue:{type:[String,Array]}},computed:{},mixins:[z],methods:{getNewDefaultEntry(){return""}}},EC={key:0,class:"ux-field-title"},BC={key:0,class:"ux-required-marker"},NC={key:1,class:"ux-field-description"},SC={key:2},TC={class:"richtext-field-wrap"},OC={key:3,class:"richtext-field-wrap"};function DC(e,n,o,i,l,r){const a=t.resolveComponent("richtext"),s=t.resolveComponent("flex-cell"),c=t.resolveComponent("ux-icon"),d=t.resolveComponent("ux-button"),u=t.resolveComponent("flex-row");return t.openBlock(),t.createElementBlock("div",null,[e.showLabel?(t.openBlock(),t.createElementBlock("label",EC,[t.createTextVNode(t.toDisplayString(e.label)+" ",1),e.required?(t.openBlock(),t.createElementBlock("span",BC,"*")):t.createCommentVNode("",!0)])):t.createCommentVNode("",!0),e.showDescription?(t.openBlock(),t.createElementBlock("div",NC,t.toDisplayString(e.description),1)):t.createCommentVNode("",!0),e.multiValue?(t.openBlock(),t.createElementBlock("div",SC,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.model,(m,f)=>(t.openBlock(),t.createBlock(u,{class:"ux-text-row",key:f},{default:t.withCtx(()=>[t.createVNode(s,null,{default:t.withCtx(()=>[t.createElementVNode("div",TC,[t.createVNode(a,{onFocus:e.touch,ref_for:!0,ref:"input",modelValue:e.model[f],"onUpdate:modelValue":p=>e.model[f]=p,class:"ux-richtext ux-field-focus ux-text-area-multiple"},null,8,["onFocus","modelValue","onUpdate:modelValue"])])]),_:2},1024),t.createVNode(s,{shrink:"",vcenter:""},{default:t.withCtx(()=>[e.canRemoveValue?(t.openBlock(),t.createBlock(d,{key:0,tag:"a",icon:"",onClick:p=>e.remove(m)},{default:t.withCtx(()=>[t.createVNode(c,{icon:"fa-times"})]),_:2},1032,["onClick"])):t.createCommentVNode("",!0)]),_:2},1024)]),_:2},1024))),128)),e.canAddValue?(t.openBlock(),t.createBlock(d,{key:0,onClick:n[0]||(n[0]=m=>e.add())},{default:t.withCtx(()=>[t.createTextVNode(t.toDisplayString(e.addLabel),1)]),_:1})):t.createCommentVNode("",!0)])):(t.openBlock(),t.createElementBlock("div",OC,[t.createVNode(a,{class:"ux-richtext ux-field-focus ux-text-area-single",onFocus:e.touch,modelValue:e.model,"onUpdate:modelValue":n[1]||(n[1]=m=>e.model=m)},null,8,["onFocus","modelValue"])]))])}const AC=g(VC,[["render",DC],["__scopeId","data-v-6ed5223e"]]);var no={},MC={get exports(){return no},set exports(e){no=e}};(function(e,n){(function(o){var i="Compound",l="Identifier",r="MemberExpression",a="Literal",s="ThisExpression",c="CallExpression",d="UnaryExpression",u="BinaryExpression",m="LogicalExpression",f="ConditionalExpression",p="ArrayExpression",h=46,y=44,x=39,F=34,R=40,H=41,Z=91,Y=93,A=63,V=59,W=58,M=function(B,_){var Re=new Error(B+" at character "+_);throw Re.index=_,Re.description=B,Re},ye=!0,ae={"-":ye,"!":ye,"~":ye,"+":ye},se={"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":10,"/":10,"%":10},de=function(B){var _=0,Re;for(var $t in B)(Re=$t.length)>_&&B.hasOwnProperty($t)&&(_=Re);return _},ue=de(ae),xe=de(se),me={true:!0,false:!1,null:null},ot="this",je=function(B){return se[B]||0},w=function(B,_,Re){var $t=B==="||"||B==="&&"?m:u;return{type:$t,operator:B,left:_,right:Re}},It=function(B){return B>=48&&B<=57},rt=function(B){return B===36||B===95||B>=65&&B<=90||B>=97&&B<=122||B>=128&&!se[String.fromCharCode(B)]},pn=function(B){return B===36||B===95||B>=65&&B<=90||B>=97&&B<=122||B>=48&&B<=57||B>=128&&!se[String.fromCharCode(B)]},be=function(B){for(var _=0,Re=B.charAt,$t=B.charCodeAt,ge=function(k){return Re.call(B,k)},X=function(k){return $t.call(B,k)},hn=B.length,ze=function(){for(var k=X(_);k===32||k===9||k===10||k===13;)k=X(++_)},Lt=function(){var k=FN(),N,$;if(ze(),X(_)===A){if(_++,N=Lt(),N||M("Expected expression",_),ze(),X(_)===W)return _++,$=Lt(),$||M("Expected expression",_),{type:f,test:k,consequent:N,alternate:$};M("Expected :",_)}else return k},bs=function(){ze();for(var k=B.substr(_,xe),N=k.length;N>0;){if(se.hasOwnProperty(k)&&(!rt(X(_))||_+k.length<B.length&&!pn(X(_+k.length))))return _+=N,k;k=k.substr(0,--N)}return!1},FN=function(){var k,N,$,q,yt,$e,it,Pt,Es;if($e=lo(),N=bs(),!N)return $e;for(yt={value:N,prec:je(N)},it=lo(),it||M("Expected expression after "+N,_),q=[$e,yt,it];(N=bs())&&($=je(N),$!==0);){for(yt={value:N,prec:$},Es=N;q.length>2&&$<=q[q.length-2].prec;)it=q.pop(),N=q.pop().value,$e=q.pop(),k=w(N,$e,it),q.push(k);k=lo(),k||M("Expected expression after "+Es,_),q.push(yt,k)}for(Pt=q.length-1,k=q[Pt];Pt>1;)k=w(q[Pt-1].value,q[Pt-2],k),Pt-=2;return k},lo=function(){var k,N,$;if(ze(),k=X(_),It(k)||k===h)return IN();if(k===x||k===F)return $N();if(k===Z)return UN();for(N=B.substr(_,ue),$=N.length;$>0;){if(ae.hasOwnProperty(N)&&(!rt(X(_))||_+N.length<B.length&&!pn(X(_+N.length))))return _+=$,{type:d,operator:N,argument:lo(),prefix:!0};N=N.substr(0,--$)}return rt(k)||k===R?LN():!1},IN=function(){for(var k="",N,$;It(X(_));)k+=ge(_++);if(X(_)===h)for(k+=ge(_++);It(X(_));)k+=ge(_++);if(N=ge(_),N==="e"||N==="E"){for(k+=ge(_++),N=ge(_),(N==="+"||N==="-")&&(k+=ge(_++));It(X(_));)k+=ge(_++);It(X(_-1))||M("Expected exponent ("+k+ge(_)+")",_)}return $=X(_),rt($)?M("Variable names cannot start with a number ("+k+ge(_)+")",_):$===h&&M("Unexpected period",_),{type:a,value:parseFloat(k),raw:k}},$N=function(){for(var k="",N=ge(_++),$=!1,q;_<hn;)if(q=ge(_++),q===N){$=!0;break}else if(q==="\\")switch(q=ge(_++),q){case"n":k+=`
`;break;case"r":k+="\r";break;case"t":k+="	";break;case"b":k+="\b";break;case"f":k+="\f";break;case"v":k+="\v";break;default:k+=q}else k+=q;return $||M('Unclosed quote after "'+k+'"',_),{type:a,value:k,raw:N+k+N}},Cs=function(){var k=X(_),N=_,$;for(rt(k)?_++:M("Unexpected "+ge(_),_);_<hn&&(k=X(_),pn(k));)_++;return $=B.slice(N,_),me.hasOwnProperty($)?{type:a,value:me[$],raw:$}:$===ot?{type:s}:{type:l,name:$}},ws=function(k){for(var N,$=[],q,yt=!1,$e=0;_<hn;)if(ze(),N=X(_),N===k){yt=!0,_++,k===H&&$e&&$e>=$.length&&M("Unexpected token "+String.fromCharCode(k),_);break}else if(N===y){if(_++,$e++,$e!==$.length){if(k===H)M("Unexpected token ,",_);else if(k===Y)for(var it=$.length;it<$e;it++)$.push(null)}}else q=Lt(),(!q||q.type===i)&&M("Expected comma",_),$.push(q);return yt||M("Expected "+String.fromCharCode(k),_),$},LN=function(){var k,N;for(k=X(_),k===R?N=PN():N=Cs(),ze(),k=X(_);k===h||k===Z||k===R;)_++,k===h?(ze(),N={type:r,computed:!1,object:N,property:Cs()}):k===Z?(N={type:r,computed:!0,object:N,property:Lt()},ze(),k=X(_),k!==Y&&M("Unclosed [",_),_++):k===R&&(N={type:c,arguments:ws(H),callee:N}),ze(),k=X(_);return N},PN=function(){_++;var k=Lt();if(ze(),X(_)===H)return _++,k;M("Unclosed (",_)},UN=function(){return _++,{type:p,elements:ws(Y)}},ao=[],hr,Vs;_<hn;)hr=X(_),hr===V||hr===y?_++:(Vs=Lt())?ao.push(Vs):_<hn&&M('Unexpected "'+ge(_)+'"',_);return ao.length===1?ao[0]:{type:i,body:ao}};be.version="0.3.5",be.toString=function(){return"JavaScript Expression Parser (JSEP) v"+be.version},be.addUnaryOp=function(B){return ue=Math.max(B.length,ue),ae[B]=ye,this},be.addBinaryOp=function(B,_){return xe=Math.max(B.length,xe),se[B]=_,this},be.addLiteral=function(B,_){return me[B]=_,this},be.removeUnaryOp=function(B){return delete ae[B],B.length===ue&&(ue=de(ae)),this},be.removeAllUnaryOps=function(){return ae={},ue=0,this},be.removeBinaryOp=function(B){return delete se[B],B.length===xe&&(xe=de(se)),this},be.removeAllBinaryOps=function(){return se={},xe=0,this},be.removeLiteral=function(B){return delete me[B],this},be.removeAllLiterals=function(){return me={},this},e.exports?n=e.exports=be:n.parse=be})()})(MC,no);const FC=no;var Fa={"||":function(e,n){return e||n},"&&":function(e,n){return e&&n},"|":function(e,n){return e|n},"^":function(e,n){return e^n},"&":function(e,n){return e&n},"==":function(e,n){return e==n},"!=":function(e,n){return e!=n},"===":function(e,n){return e===n},"!==":function(e,n){return e!==n},"<":function(e,n){return e<n},">":function(e,n){return e>n},"<=":function(e,n){return e<=n},">=":function(e,n){return e>=n},"<<":function(e,n){return e<<n},">>":function(e,n){return e>>n},">>>":function(e,n){return e>>>n},"+":function(e,n){return e+n},"-":function(e,n){return e-n},"*":function(e,n){return e*n},"/":function(e,n){return e/n},"%":function(e,n){return e%n}},IC={"-":function(e){return-e},"+":function(e){return+e},"~":function(e){return~e},"!":function(e){return!e}};function Ia(e,n){return e.map(function(o){return le(o,n)})}function $a(e,n){var o,i=le(e.object,n);if(o=e.computed?le(e.property,n):e.property.name,/^__proto__|prototype|constructor$/.test(o))throw Error('Access to member "'+o+'" disallowed.');return[i,i[o]]}function le(e,n){var o=e;switch(o.type){case"ArrayExpression":return Ia(o.elements,n);case"BinaryExpression":return Fa[o.operator](le(o.left,n),le(o.right,n));case"CallExpression":var i,l,r;return o.callee.type==="MemberExpression"?(i=(r=$a(o.callee,n))[0],l=r[1]):l=le(o.callee,n),typeof l!="function"?void 0:l.apply(i,Ia(o.arguments,n));case"ConditionalExpression":return le(o.test,n)?le(o.consequent,n):le(o.alternate,n);case"Identifier":return n[o.name];case"Literal":return o.value;case"LogicalExpression":return o.operator==="||"?le(o.left,n)||le(o.right,n):o.operator==="&&"?le(o.left,n)&&le(o.right,n):Fa[o.operator](le(o.left,n),le(o.right,n));case"MemberExpression":return $a(o,n)[1];case"ThisExpression":return n;case"UnaryExpression":return IC[o.operator](le(o.argument,n));default:return}}function $C(e,n,o,i){for(var l=e.length,r=o+(i?1:-1);i?r--:++r<l;)if(n(e[r],r,e))return r;return-1}var LC=$C;function PC(e){return e!==e}var UC=PC;function jC(e,n,o){for(var i=o-1,l=e.length;++i<l;)if(e[i]===n)return i;return-1}var RC=jC,zC=LC,HC=UC,qC=RC;function GC(e,n,o){return n===n?qC(e,n,o):zC(e,HC,o)}var WC=GC,KC=9007199254740991;function ZC(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=KC}var La=ZC,YC=Rr,XC=La;function JC(e){return e!=null&&XC(e.length)&&!YC(e)}var Pa=JC,QC=Rt,vC=qt,ew=zt,tw="[object String]";function nw(e){return typeof e=="string"||!vC(e)&&ew(e)&&QC(e)==tw}var ow=nw,rw=Lr,Ua=1/0,iw=17976931348623157e292;function lw(e){if(!e)return e===0?e:0;if(e=rw(e),e===Ua||e===-Ua){var n=e<0?-1:1;return n*iw}return e===e?e:0}var aw=lw,sw=aw;function cw(e){var n=sw(e),o=n%1;return n===n?o?n-o:n:0}var dw=cw,uw=Kr;function mw(e,n){return uw(n,function(o){return e[o]})}var fw=mw;function pw(e,n){for(var o=-1,i=Array(e);++o<e;)i[o]=n(o);return i}var hw=pw,yw=Rt,gw=zt,_w="[object Arguments]";function kw(e){return gw(e)&&yw(e)==_w}var xw=kw,ja=xw,bw=zt,Ra=Object.prototype,Cw=Ra.hasOwnProperty,ww=Ra.propertyIsEnumerable,Vw=ja(function(){return arguments}())?ja:function(e){return bw(e)&&Cw.call(e,"callee")&&!ww.call(e,"callee")},Ew=Vw,oo={},Bw={get exports(){return oo},set exports(e){oo=e}};function Nw(){return!1}var Sw=Nw;(function(e,n){var o=Ut,i=Sw,l=n&&!n.nodeType&&n,r=l&&!0&&e&&!e.nodeType&&e,a=r&&r.exports===l,s=a?o.Buffer:void 0,c=s?s.isBuffer:void 0,d=c||i;e.exports=d})(Bw,oo);var Tw=9007199254740991,Ow=/^(?:0|[1-9]\d*)$/;function Dw(e,n){var o=typeof e;return n=n??Tw,!!n&&(o=="number"||o!="symbol"&&Ow.test(e))&&e>-1&&e%1==0&&e<n}var Aw=Dw,Mw=Rt,Fw=La,Iw=zt,$w="[object Arguments]",Lw="[object Array]",Pw="[object Boolean]",Uw="[object Date]",jw="[object Error]",Rw="[object Function]",zw="[object Map]",Hw="[object Number]",qw="[object Object]",Gw="[object RegExp]",Ww="[object Set]",Kw="[object String]",Zw="[object WeakMap]",Yw="[object ArrayBuffer]",Xw="[object DataView]",Jw="[object Float32Array]",Qw="[object Float64Array]",vw="[object Int8Array]",e0="[object Int16Array]",t0="[object Int32Array]",n0="[object Uint8Array]",o0="[object Uint8ClampedArray]",r0="[object Uint16Array]",i0="[object Uint32Array]",G={};G[Jw]=G[Qw]=G[vw]=G[e0]=G[t0]=G[n0]=G[o0]=G[r0]=G[i0]=!0,G[$w]=G[Lw]=G[Yw]=G[Pw]=G[Xw]=G[Uw]=G[jw]=G[Rw]=G[zw]=G[Hw]=G[qw]=G[Gw]=G[Ww]=G[Kw]=G[Zw]=!1;function l0(e){return Iw(e)&&Fw(e.length)&&!!G[Mw(e)]}var a0=l0;function s0(e){return function(n){return e(n)}}var c0=s0,ro={},d0={get exports(){return ro},set exports(e){ro=e}};(function(e,n){var o=Or,i=n&&!n.nodeType&&n,l=i&&!0&&e&&!e.nodeType&&e,r=l&&l.exports===i,a=r&&o.process,s=function(){try{var c=l&&l.require&&l.require("util").types;return c||a&&a.binding&&a.binding("util")}catch{}}();e.exports=s})(d0,ro);var u0=a0,m0=c0,za=ro,Ha=za&&za.isTypedArray,f0=Ha?m0(Ha):u0,p0=f0,h0=hw,y0=Ew,g0=qt,_0=oo,k0=Aw,x0=p0,b0=Object.prototype,C0=b0.hasOwnProperty;function w0(e,n){var o=g0(e),i=!o&&y0(e),l=!o&&!i&&_0(e),r=!o&&!i&&!l&&x0(e),a=o||i||l||r,s=a?h0(e.length,String):[],c=s.length;for(var d in e)(n||C0.call(e,d))&&!(a&&(d=="length"||l&&(d=="offset"||d=="parent")||r&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||k0(d,c)))&&s.push(d);return s}var V0=w0,E0=Object.prototype;function B0(e){var n=e&&e.constructor,o=typeof n=="function"&&n.prototype||E0;return e===o}var N0=B0;function S0(e,n){return function(o){return e(n(o))}}var T0=S0,O0=T0,D0=O0(Object.keys,Object),A0=D0,M0=N0,F0=A0,I0=Object.prototype,$0=I0.hasOwnProperty;function L0(e){if(!M0(e))return F0(e);var n=[];for(var o in Object(e))$0.call(e,o)&&o!="constructor"&&n.push(o);return n}var P0=L0,U0=V0,j0=P0,R0=Pa;function z0(e){return R0(e)?U0(e):j0(e)}var H0=z0,q0=fw,G0=H0;function W0(e){return e==null?[]:q0(e,G0(e))}var K0=W0,Z0=WC,Y0=Pa,X0=ow,J0=dw,Q0=K0,v0=Math.max;function eV(e,n,o,i){e=Y0(e)?e:Q0(e),o=o&&!i?J0(o):0;var l=e.length;return o<0&&(o=v0(l+o,0)),X0(e)?o<=l&&e.indexOf(n,o)>-1:!!l&&Z0(e,n,o)>-1}var tV=eV;const nt={};function nV(e,n,o,i){return e?Array.isArray(e)?e.filter(function(l){const r=wn(l,n);let a;switch(i){case">":a=r>o;break;case"<":a=r<o;break;case">=":a=r>=o;break;case"<=":a=r<=o;break;case"in":a=tV(r,o);break;default:o===void 0?a=r:a=r==o;break}return a}):(console.error("array.filter value was not provided as array",{input:e}),[]):[]}function oV(e){return e.reduce(function(n,o){return n+o},0)}function rV(e,n,o,i,l){if(!e)return[];if(l=l||{},l.flat=o,l.unique=i,!Array.isArray(e))return console.error("array.filter value was not provided as array",{input:e}),[];let r=e.reduce(function(a,s){const c=wn(s,n),d=!c&&c!==!1&&c!==0;return l.excludeNull&&d||a.push(c),a},[]);return l.unique&&(r=[...new Set(r)]),l.flat&&(r=r.flat()),r}nt.evaluateExpression=function(e,n){if(typeof e=="function")return e(n);const o={Math,String,Array,Date,Boolean,parseInt,parseFloat,now:new Date,array:{filter:nV,extract:rV,sum:oV},create(r,...a){return new r(...a)}};n=Object.assign({},o,n);var i,l;try{i=FC(e),l=le(i,n)}catch(r){console.log("There was an error evaluating your expression",{expression:e,error:r})}finally{}return l};const dT="",iV=Array.from({length:6},(e,n)=>new Date().getFullYear()+n).map(function(e){const n=String(e).slice(2);return{title:e,value:n}}),lV={mixins:[z],components:{},props:{submission:{type:Boolean,default:!0},sandbox:{type:Boolean,default:!1},configuration:{type:Object,default(){return{}}},modelValue:{type:[Object,Array]},trail:{type:Array,default(){return[]}}},data(){return{}},created(){},watch:{gateways:{async handler(e){const n=this;Array.from(new Set(e.map(function(o){var i;return(i=o.integration)==null?void 0:i.module}))).filter(Boolean),e.length===1&&(n.model.gateway=e[0])},immediate:!0}},computed:{baseAmountVisible(){return this.baseAmount&&!this.visibleModifications.some(function(e){return e.modifier==="set"})},visibleModifications(){const e=this.calculations.modifications||[];return console.log("MODIFIERS",e),e},expressionsContext(){const e={this:this.parentModel,self:this.parentModel,model:this.parentModel,data:this.parentModel};return console.log("Expressions context changed",e),e},requiresPayment(){return this.enabled&&this.calculatedTotal},enabled(){return this.configuration.enabled},gateway(){return this.model.gateway},gatewayIntegration(){var e;return(e=this.gateway)==null?void 0:e.integration},gatewayIntegrationModule(){var e;return(e=this.gatewayIntegration)==null?void 0:e.module},gateways(){return this.configuration.gateways||[]},currency(){return this.configuration.currency},baseAmount(){return parseInt(this.configuration.amount||0)},formattedBaseAmount(){return this.$sdk.utils.formatCurrency(this.baseAmount,this.currency)},modifiers(){return this.configuration.modifiers||[]},activeModifiers(){const e=this,n=this.expressionsContext;return e.modifiers.filter(function(o){return o.condition?nt.evaluateExpression(o.condition,n):!0})},calculations(){const e=this;let n=[],o=0;e.baseAmount&&(o+=e.baseAmount),e.activeModifiers.forEach(function(l,r){const a=Object.assign({},e.expressionsContext,{total:o}),s=o;let c=nt.evaluateExpression(l.expression,a);c=parseInt(c||0);const d=e.$sdk.utils.formatCurrency(c,e.currency);let u="";switch(l.modifier){case"add":o=Math.max(0,o+c),u=`+${d}`;break;case"subtract":o=Math.max(0,o-c),u=`-${d}`;break;case"multiply":o=Math.max(0,o*c),u=`x ${c}`;break;case"divide":o=Math.max(0,o/c),u=`÷ ${c}`;break;case"set":o=Math.max(0,c),u="";break}if(s!=o){let m=e.$sdk.utils.formatCurrency(o,e.currency);n.push({title:l.title,summary:u,total:o,result:m,modifier:l.modifier,visible:!0})}});const i=n.findLastIndex(function(l){return l.modifier==="set"});return i!=-1&&(n=n.map(function(l,r){return r<i&&(l.visible=!1),l}),console.log("modifications",i,n)),{modifications:n,total:o}},formattedTotal(){return this.$sdk.utils.formatCurrency(this.calculatedTotal,this.currency)},calculatedTotal(){return this.calculations.total},calculatedTotalFields(){const e=this,n=[];return n.push({title:"Calculated Total",type:"integer",key:"total",widget:"value",minimum:parseInt(e.calculatedTotal)?1:0,maximum:1,expressions:{value(){return e.calculatedTotal}}}),n},subFields(){const e=[],n=[];return n.push({title:"Name on card",key:"name",type:"string",minimum:1,maximum:1,placeholder:"Super Citizen"}),n.push({title:"Card Number",key:"number",type:"string",minimum:1,maximum:1,placeholder:"xxxx xxxx xxxx xxxx"}),n.push({type:"group",sameLine:!0,fields:[{title:"Expiry Month",key:"expMonth",type:"string",minimum:1,maximum:1,minLength:2,maxLength:2,widget:"select",options:[{title:"01",value:"01"},{title:"02",value:"02"},{title:"03",value:"03"},{title:"04",value:"04"},{title:"05",value:"05"},{title:"06",value:"06"},{title:"07",value:"07"},{title:"08",value:"08"},{title:"09",value:"09"},{title:"10",value:"10"},{title:"11",value:"11"},{title:"12",value:"12"}]},{title:"Expiry Year",key:"expYear",type:"string",minimum:1,maximum:1,minLength:2,maxLength:2,widget:"select",options:iV},{title:"CVN",key:"cvc",type:"string",minimum:1,maximum:1,minLength:3,maxLength:3}]}),e.push({title:"Card Details",key:"card",type:"group",asObject:!0,minimum:1,maximum:1,fields:n}),e}},methods:{isSelectedGateway(e){var n;return((n=this.model.gateway)==null?void 0:n.key)===e.key},selectGateway(e){this.model.gateway=e},stateChange(e){this.$emit("form:state",e)},getNewDefaultEntry(){return{}}}},mn=e=>(t.pushScopeId("data-v-656d350e"),e=e(),t.popScopeId(),e),aV=mn(()=>t.createElementVNode("h2",null,"Payment Summary",-1)),sV={class:"calculations"},cV=mn(()=>t.createElementVNode("td",null,"Amount",-1)),dV={class:"running-total"},uV={class:"running-total"},mV={key:0,class:"grand-total"},fV=mn(()=>t.createElementVNode("td",null,[t.createElementVNode("strong",null,"Total")],-1)),pV=mn(()=>t.createElementVNode("td",null,null,-1)),hV=mn(()=>t.createElementVNode("h3",null,"Please select a payment processor",-1));function yV(e,n,o,i,l,r){const a=t.resolveComponent("ux-form"),s=t.resolveComponent("ux-panel-body"),c=t.resolveComponent("ux-panel"),d=t.resolveComponent("ux-icon"),u=t.resolveComponent("ux-button");return e.multiValue?(t.openBlock(),t.createElementBlock(t.Fragment,{key:0},[t.createTextVNode(" Invalid configuration ")],64)):(t.openBlock(),t.createElementBlock(t.Fragment,{key:1},[t.createVNode(a,{ref:"form",trail:o.trail,paymentConfiguration:o.configuration,includeOfficeOnly:e.includeOfficeOnly,submission:o.submission,"onForm:state":r.stateChange,parentModel:e.parentModel,modelValue:e.model,"onUpdate:modelValue":n[0]||(n[0]=m=>e.model=m),flex:e.sameLine,fields:r.calculatedTotalFields},null,8,["trail","paymentConfiguration","includeOfficeOnly","submission","onForm:state","parentModel","modelValue","flex","fields"]),r.requiresPayment?(t.openBlock(),t.createElementBlock(t.Fragment,{key:0},[aV,t.createVNode(c,null,{default:t.withCtx(()=>[t.createVNode(s,null,{default:t.withCtx(()=>[t.createElementVNode("table",sV,[t.createElementVNode("tbody",null,[r.baseAmount?(t.openBlock(),t.createElementBlock("tr",{key:0,class:t.normalizeClass(["calculation-modifier",["modifier-set",`modifier-visible-${r.baseAmountVisible}`]])},[cV,t.createElementVNode("td",null,t.toDisplayString(r.formattedBaseAmount),1),t.createElementVNode("td",dV,t.toDisplayString(r.formattedBaseAmount),1)],2)):t.createCommentVNode("",!0),(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(r.visibleModifications,m=>(t.openBlock(),t.createElementBlock("tr",{class:t.normalizeClass(["calculation-modifier",[`modifier-${m.modifier}`,`modifier-visible-${m.visible}`]])},[t.createElementVNode("td",null,t.toDisplayString(m.title),1),t.createElementVNode("td",null,t.toDisplayString(m.summary),1),t.createElementVNode("td",uV,t.toDisplayString(m.result),1)],2))),256))]),t.createElementVNode("tfoot",null,[r.baseAmount?(t.openBlock(),t.createElementBlock("tr",mV,[fV,pV,t.createElementVNode("td",null,[t.createElementVNode("strong",null,t.toDisplayString(r.formattedTotal),1)])])):t.createCommentVNode("",!0)])])]),_:1})]),_:1}),r.gateways.length>1?(t.openBlock(),t.createElementBlock(t.Fragment,{key:0},[hV,t.createVNode(c,null,{default:t.withCtx(()=>[t.createVNode(s,null,{default:t.withCtx(()=>[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(r.gateways,m=>(t.openBlock(),t.createBlock(u,{class:"gateway-selector",color:{primary:r.isSelectedGateway(m)},active:r.isSelectedGateway(m),onClick:f=>r.selectGateway(m)},{default:t.withCtx(()=>[t.createTextVNode(t.toDisplayString(m.title)+" ",1),t.createVNode(d,{icon:r.isSelectedGateway(m)?"fa-check":"far fa-circle"},null,8,["icon"])]),_:2},1032,["color","active","onClick"]))),256))]),_:1})]),_:1})],64)):t.createCommentVNode("",!0)],64)):t.createCommentVNode("",!0)],64))}const gV=g(lV,[["render",yV],["__scopeId","data-v-656d350e"]]),uT="";function _V(e){return e===void 0||typeof e>"u"||e===null||String(e)==="null"||String(e)==="undefined"}const kV={props:{title:{type:String},modelValue:{}},mixins:[z],created(){this.model=this.model},methods:{cleanOutput(e){var n=this;return _V(e)?n.multiValue?e=[]:e=void 0:n.multiValue?e=(e||[]).filter(Boolean).map(function(o){return n.getValue(o)}):e=n.getValue(e),e},cleanInput(e){var n=this;if(n.multiValue)e||(e=[]),Array.isArray(e)||(e=[e]),n.maximum&&e.length>n.maximum&&(e.length=n.maximum),e=e.filter(Boolean).map(function(i){var l=n.getValue(i);return n.returnObject?n.optionLookup[l]:l});else{var o=n.getValue(e);e=n.returnObject?n.optionLookup[o]:o}return e}},computed:{interface(){var e=this.$sdk.global.editor;if(e)return e.model},returnObject(){return!1},classes(){var e=[];return this.multiValue?e.push("multiple"):e.push("single"),e},optionLookup(){var e=this;return e.actualOptions.reduce(function(n,o){const i=e.getValue(o);return n[i]=o,n},{})},summary(){return this.model?this.getLabel(this.optionLookup[this.model]):this.title||"Click to select"},actualOptions(){if(!this.interface)return[];var e=[];n(this.interface.routes);function n(o,i){i||(i=0),o.forEach(function(l){l.type!="folder"&&e.push({route:l,depth:i}),l.routes&&l.routes.length&&n(l.routes,i+1)})}return e.map(function({route:o,depth:i}){var l="-".repeat(i);return{title:`${l}${o.title}`,value:o.name}})},selectableOptions(){return this.actualOptions}}},xV={key:0,class:"ux-field-title"},bV={key:0,class:"ux-required-marker"},CV={key:1,class:"ux-field-description"},wV={key:2,class:"ui-select-button"},VV=["multiple"],EV={key:0,value:""},BV=["value"];function NV(e,n,o,i,l,r){const a=t.resolveComponent("ux-button");return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["native-select",r.classes])},[e.showLabel?(t.openBlock(),t.createElementBlock("label",xV,[t.createTextVNode(t.toDisplayString(e.label)+" ",1),e.required?(t.openBlock(),t.createElementBlock("span",bV,"*")):t.createCommentVNode("",!0)])):t.createCommentVNode("",!0),e.showDescription?(t.openBlock(),t.createElementBlock("div",CV,t.toDisplayString(e.description),1)):t.createCommentVNode("",!0),e.singleValue?(t.openBlock(),t.createElementBlock("div",wV,[t.renderSlot(e.$slots,"default",{},()=>[t.createVNode(a,{tag:"div"},{default:t.withCtx(()=>[t.createTextVNode(t.toDisplayString(r.summary),1)]),_:1})],!0)])):t.createCommentVNode("",!0),t.withDirectives(t.createElementVNode("select",{onFocus:n[0]||(n[0]=(...s)=>e.touch&&e.touch(...s)),multiple:e.multiValue,"onUpdate:modelValue":n[1]||(n[1]=s=>e.model=s)},[e.singleValue&&!e.minimum?(t.openBlock(),t.createElementBlock("option",EV,"None")):t.createCommentVNode("",!0),(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(r.selectableOptions,s=>(t.openBlock(),t.createElementBlock("option",{value:s.value},t.toDisplayString(s.title),9,BV))),256))],40,VV),[[t.vModelSelect,e.model]])],2)}const SV=g(kV,[["render",NV],["__scopeId","data-v-ee74f64d"]]),mT="";function TV(e){return e===void 0||typeof e>"u"||e===null||String(e)==="null"||String(e)==="undefined"}const OV={props:{title:{type:String},modelValue:{}},mixins:[z],created(){this.model=this.model},methods:{cleanOutput(e){var n=this;return TV(e)?n.multiValue?e=[]:e=void 0:n.multiValue?e=(e||[]).filter(Boolean).map(function(o){return n.getValue(o)}):e=n.getValue(e),e},cleanInput(e){var n=this;if(n.multiValue)e||(e=[]),Array.isArray(e)||(e=[e]),n.maximum&&e.length>n.maximum&&(e.length=n.maximum),e=e.filter(Boolean).map(function(i){var l=n.getValue(i);return n.returnObject?n.optionLookup[l]:l});else{var o=n.getValue(e);e=n.returnObject?n.optionLookup[o]:o}return e}},computed:{interface(){var e=this.$sdk.global.editor;if(e)return e.model},returnObject(){return!1},classes(){var e=[];return this.multiValue?e.push("multiple"):e.push("single"),e},optionLookup(){var e=this;return e.actualOptions.reduce(function(n,o){const i=e.getValue(o);return n[i]=o,n},{})},summary(){return this.model?this.getLabel(this.optionLookup[this.model]):this.title||"Click to select"},actualOptions(){return this.interface?this.interface.menus.map(function(e){return{title:e.title,value:e.name}}):[]},selectableOptions(){return this.actualOptions}}},DV={key:0,class:"ux-field-title"},AV={key:0,class:"ux-required-marker"},MV={key:1,class:"ux-field-description"},FV={key:2,class:"ui-select-button"},IV=["multiple"],$V={key:0,value:""},LV=["value"];function PV(e,n,o,i,l,r){const a=t.resolveComponent("ux-button");return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["native-select",r.classes])},[e.showLabel?(t.openBlock(),t.createElementBlock("label",DV,[t.createTextVNode(t.toDisplayString(e.label)+" ",1),e.required?(t.openBlock(),t.createElementBlock("span",AV,"*")):t.createCommentVNode("",!0)])):t.createCommentVNode("",!0),e.showDescription?(t.openBlock(),t.createElementBlock("div",MV,t.toDisplayString(e.description),1)):t.createCommentVNode("",!0),e.singleValue?(t.openBlock(),t.createElementBlock("div",FV,[t.renderSlot(e.$slots,"default",{},()=>[t.createVNode(a,{tag:"div"},{default:t.withCtx(()=>[t.createTextVNode(t.toDisplayString(r.summary),1)]),_:1})],!0)])):t.createCommentVNode("",!0),t.withDirectives(t.createElementVNode("select",{onFocus:n[0]||(n[0]=(...s)=>e.touch&&e.touch(...s)),multiple:e.multiValue,"onUpdate:modelValue":n[1]||(n[1]=s=>e.model=s)},[e.singleValue&&!e.minimum?(t.openBlock(),t.createElementBlock("option",$V,"None")):t.createCommentVNode("",!0),(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(r.selectableOptions,s=>(t.openBlock(),t.createElementBlock("option",{value:s.value},t.toDisplayString(s.title),9,LV))),256))],40,IV),[[t.vModelSelect,e.model]])],2)}const UV=g(OV,[["render",PV],["__scopeId","data-v-8801d1a0"]]);function ar(e){switch(String(e).toLowerCase()){case"true":case"y":case"yes":case"1":case"t":e=!0;break;case"false":case"n":case"no":case"0":case"f":case"undefined":case"null":case"":case"-1":e=!1;break}return!!e}function fn(e,n,o,i,l,r){n=n||[],o=Math.max(o,i);var a=n.length,s=a>=o;if(!s){var c=o-a,d=Array(c).fill().map(r);return[...n,...d]}return n}function jV(e,n){if(n)return n;function o(f){return f===void 0||typeof f>"u"||f===null}var i=parseInt(e.minimum),l=parseInt(e.maximum),r=parseInt(e.ask||0);r=Math.max(r,i),r=l?Math.min(r,l):r;var a=l===1;e.asObject&&e.type==="group"&&(l===1&&i===1?a=!0:a=!1);var s=!a,c=(e.type==="reference"?e.defaultReferences:e.defaultValues)||[],d=c[0],u;switch(e.type){case"date":let f=function(p){switch(String(p).toLowerCase()){case"now":return new Date}return new Date(p)};s?(c.length&&(l?u=c.slice(0,l).map(function(p){return f(p)}):u=c.slice().map(function(p){return f(p)})),u=fn(e,u,i,r,l,function(){return f(new Date)})):u=o(d)?void 0:f(d);break;case"integer":case"decimal":case"number":case"float":s?(c.length&&(l?u=c.slice(0,l).map(function(p){return Number(p)}):u=c.slice().map(function(p){return Number(p)})),u=fn(e,u,i,r,l,function(){return""})):u=o(d)?void 0:Number(d);break;case"group":if(e.asObject){var m=r;s?m>0?u=Array(m).fill().map(function(){return{}}):u=[]:u=o(d)?{}:d}break;case"object":var m=r;s?m>0?u=Array(m).fill().map(function(){return{}}):u=[]:u=o(d)?{}:d;break;case"boolean":s?(c.length&&(l?u=c.slice(0,l).map(function(p){return ar(p)}):u=c.slice().map(function(p){return ar(p)})),u=fn(e,u,i,r,l,function(){})):u=o(d)?!1:ar(d);break;case"reference":if(e.widget==="form"){var m=r;s?m>0?u=Array(m).fill().map(function(){return{}}):u=[]:i?u=o(d)?{}:d:u=void 0}else s?c.length?u=c.slice(0,l):u=[]:u=o(d)?void 0:d;break;case"string":s?(c.length&&(u=c.slice(0,l)),u=fn(e,u,i,r,l,function(){return""}).filter(Boolean)):u=o(d)?"":d;break;default:s?(c.length&&(u=c.slice(0,l)),u=fn(e,u,i,r,l,function(){})):u=o(d)?"":d;break}return u}const fT="";function Be(e){return function(){var n=this;if(!n.expressions)return;let o=n.expressions[e];if(!o)return;let i=n.expressionsContext;return nt.evaluateExpression(o,i)}}const RV={components:{InternalRouteSelect:SV,InternalMenuSelect:UV,ButtonSelect:E1,NativeSelect:Qe,DateField:Ta,TimeField:Ux,DateRange:Wx,TextField:Sa,CurrencyField:Na,TextArea:Vx,Checkbox:Qx,FilterInput:Ub,CustomHtml:rb,BooleanSwitch:Gb,FieldGroup:p1,ContentSelect:Va,TypeSelect:yk,ScopeSelect:Ak,FieldSelect:Hk,TimezoneSelect:n_,PhoneNumberInput:Gg,Upload:n1,ObjectField:M1,OptionsManager:Q1,CodeEditorField:uC,ExpressionField:xC,RichTextField:AC,PaymentField:gV},props:{trail:{type:Array,default(){return[]}},submission:{type:Boolean,default:!1},sandbox:{type:Boolean,default:!1},paymentConfiguration:{type:Object},field:{type:Object,required:!0},parentModel:{type:Object},modelValue:{type:Object,required:!0},includeOfficeOnly:{type:Boolean,default:!1}},data(){return{watching:!0,defaultValue:null,model:this.modelValue,touched:!1,focussed:!1,validateResults:{valid:!0},mounted:!1,subFormState:{},isDirty:!1,isDirtyBeforeInput:!1}},inject:["parentFormElement","directFormElement","additionalContext"],provide(){return{fieldPath:this.fieldPath}},created(){this.checkDirtyState()},mounted(){const e=this;e.mounted=!0,e.directFormElement&&e.directFormElement.childFormElements&&e.directFormElement.childFormElements.push(e),e.parentFormElement&&e.parentFormElement.childFormElements&&e.parentFormElement.childFormElements.push(e)},beforeUnmount(){const e=this;if(e.mounted=!1,e.directFormElement){var n=e.directFormElement.childFormElements.indexOf(e);e.directFormElement.childFormElements.splice(n,1)}if(e.parentFormElement){var n=e.parentFormElement.childFormElements.indexOf(e);e.parentFormElement.childFormElements.splice(n,1)}},methods:{fieldDefaultValue(){var e=this.expressions&&this.expressions.value?this.getExpressionValue:void 0;if(e)return e;var n=this.expressions&&this.expressions.defaultValue?this.getExpressionDefaultValue:void 0,o=jV(this.actualField),i=this.cleanInput(n||o);return i},checkDirtyState(){const e=this;var n=e.fieldModel,o=n||n===!1||n===0,i=e.fieldDefaultValue(),l=JSON.stringify(e.cleanOutput(n)),r=JSON.stringify(e.cleanOutput(i));o&&l!=r?(e.isDirty=!0,e.isDirtyBeforeInput=!0,e.fieldModel=n):(e.isDirty=!1,e.isDirtyBeforeInput=!1,e.fieldModel=i),e.validateResults=e.$sdk.content.validateField(e.fieldModel,e.actualField)},groupStateAltered(e){this.subFormState=e},focus(){this.focussed=!0},blur(){this.focussed=!1,this.expressions&&this.expressions.value&&(this.fieldModel=this.getExpressionValue)},touch(){this.touched=!0},untouch(){this.touched=!1},reset(){this.untouch(),this.watching=!1;var e=this.fieldDefaultValue();Array.isArray(e)&&(e=[]),this.model[this.key]=e,this.$nextTick(function(){this.watching=!0})},cleanInput(e){return this.fieldCleanInput(e)},cleanOutput(e){return this.fieldCleanOutput(e)},fieldCleanInput(e){var i;var n=this,o=(i=n.expressions)==null?void 0:i.transform;return o&&typeof o.set=="function"&&(e=o.set(e)),e},fieldCleanOutput(e){var i;var n=this,o=(i=n.expressions)==null?void 0:i.transform;return o&&typeof o.get=="function"&&(e=o.get(e)),e}},watch:{mounted(e){e?this.$emit("field:mount",this):this.$emit("field:unmount",this)},visible(e){e?this.untouch():(this.touched=!1,this.expressions&&this.expressions.value?this.fieldModel=this.getExpressionValue:this.fieldModel=void 0)},focussed(e){e?this.$emit("field:focus",this):this.$emit("field:blur",this)},invalid(e){this.$emit("field:invalid",this)},valid(e){this.$emit("field:valid",this)},error(e){this.$emit("field:error",this)},touched(e){this.$emit("field:touched",this)},dirty(e){this.$emit("field:dirty",this)},changeString(e){this.validateResults=this.$sdk.content.validateField(this.fieldModel,this.actualField)},modelValue(e,n){this.watching&&(this.model=e,this.touched=!1,this.checkDirtyState())},getExpressionHide(e){},getExpressionDefaultValue(e){this.isDirtyBeforeInput||this.touched&&this.dirty||(this.fieldModel=e)},getExpressionValue(e){this.fieldModel=e}},computed:{fieldPath(){return this.currentTrail.join(".")},currentTrail(){var e=this.trail.slice();return e.push(this.field.key),e},title(){return this.field.title},minimum(){return parseInt(this.actualField.minimum)},maximum(){return parseInt(this.actualField.maximum)},actualField(){var e=this.field,n=e;return this.getExpressionRequired&&(n=Object.assign({},n,{minimum:1})),this.getExpressionTitle&&(n=Object.assign({},n,{title:this.getExpressionTitle})),this.getExpressionReferenceType&&(n=Object.assign({},n,{referenceType:this.getExpressionReferenceType})),this.getExpressionVisualHide&&(n=Object.assign({},n,{visualHide:this.getExpressionVisualHide})),this.getExpressionWidgetType&&(n=Object.assign({},n,{widget:this.getExpressionWidgetType})),this.getExpressionDataType&&(n=Object.assign({},n,{type:this.getExpressionDataType})),this.getExpressionOptions&&(n=Object.assign({},n,{options:this.getExpressionOptions})),this.getExpressionSyntax&&(n=Object.assign({},n,{syntax:this.getExpressionSyntax})),this.getExpressionMinValue&&(n=Object.assign({},n,{minValue:this.getExpressionMinValue})),this.getExpressionMaxValue&&(n=Object.assign({},n,{maxValue:this.getExpressionMaxValue})),this.getExpressionCurrency&&(n=Object.assign({},n,{currency:this.getExpressionCurrency})),n},changeString(){const e=this.fieldModel;return`${Bt(e)}-${this.actualField.minimum}-${this.actualField.referenceType}`},valid(){return!this.invalid},error(){return!this.focussed&&this.touched&&this.invalid},invalid(){var e=this.subFormState&&this.subFormState.invalid;if(e)return{invalidSubForm:this.subFormState,mounted:this.mounted};var n=!this.validateResults.valid;return this.hidden?!1:n},dirty(){return this.isDirty},getExpressionHide(){if(!this.expressions)return;let e=this.expressions.show,n=this.expressions.hide,o=this.expressionsContext,i;return e?i=!nt.evaluateExpression(e,o):n&&(i=nt.evaluateExpression(n,o)),i},getExpressionTitle:Be("title"),getExpressionRequired:Be("required"),getExpressionDefaultValue:Be("defaultValue"),getExpressionValue:Be("value"),getExpressionReferenceType:Be("referenceType"),getExpressionWidgetType:Be("widget"),getExpressionDataType:Be("type"),getExpressionOptions:Be("options"),getExpressionSyntax:Be("syntax"),getExpressionCurrency:Be("currency"),getExpressionMinValue:Be("minValue"),getExpressionMaxValue:Be("maxValue"),getExpressionVisualHide:Be("visualHide"),expressions(){return this.field.expressions},expressionsContext(){var o;var e=((o=this.additionalContext)==null?void 0:o.value)||{};return{this:this.model,self:this.model,model:this.model,data:this.parentModel||this.model,additional:{...e}}},officeOnly(){return this.submission&&this.field.officeOnly},hidden(){return this.officeOnly&&!this.includeOfficeOnly||this.actualField.readOnly?!0:this.getExpressionHide},visible(){return this.mounted&&!this.hidden},type(){return this.actualField.type||"string"},key(){return this.actualField.key},isGroup(){return this.type==="group"},asObject(){return this.widget==="form"||this.isGroup&&this.actualField.asObject},visualHide(){return this.actualField.visualHide},layoutGroup(){return this.isGroup&&!this.actualField.asObject},fieldModel:{get(){return this.cleanOutput(this.model[this.key])},set(e){var n=this.cleanInput(e);this.model[this.key]!=n&&(this.model[this.key]=n,this.isDirty=!0,this.$emit("update:modelValue",this.model))}},sourceModel:{get(){return this.model},set(e){this.model=e,this.$emit("update:modelValue",this.model)}},classes(){var e=[];return e.push(`ux-field-${this.type}`),e.push(`ux-field-widget-${this.widget}`),this.widget==="form"&&this.minimum===1&&this.maximum===1&&e.push("ux-layout-only"),this.layoutGroup&&e.push("ux-layout-only"),this.touched&&e.push("ux-field-touched"),this.dirty&&e.push("ux-field-dirty"),this.valid&&e.push("ux-field-valid"),this.invalid&&e.push("ux-field-invalid"),this.error&&e.push("ux-field-error"),this.visualHide&&e.push("ux-field-hide"),e},widget(){if(this.type=="group")return this.type;var e=this.actualField.widget;switch(e){case"form":e=this.submission?"form":"content-select";break;case"payment":case"internal-menu":case"internal-route":case"content-select":case"select":case"checkbox":case"daterange":case"richtext":case"textarea":case"switch":case"email":case"url":case"currency":case"timezone":case"country":case"upload":case"code":case"expression":case"options":case"button":case"type-select":case"scope-select":case"field-select":case"html":case"filter":case"value":break;case"datefield":case"datepicker":return"datefield";case"timefield":case"timepicker":return"timefield";case"password":return"textfield";case"phone":case"phonenumber":return"phone";default:switch(this.type){case"date":e="datefield";break;case"reference":e="content-select";break;case"boolean":e="checkbox";break;default:case"string":e="textfield";break;case"object":e="object";break}break}return e}}},zV={key:31,class:"ux-field-message"};function HV(e,n,o,i,l,r){const a=t.resolveComponent("internal-route-select"),s=t.resolveComponent("internal-menu-select"),c=t.resolveComponent("custom-html"),d=t.resolveComponent("filter-input"),u=t.resolveComponent("checkbox"),m=t.resolveComponent("boolean-switch"),f=t.resolveComponent("upload"),p=t.resolveComponent("field-group"),h=t.resolveComponent("field-select"),y=t.resolveComponent("native-select"),x=t.resolveComponent("button-select"),F=t.resolveComponent("text-field"),R=t.resolveComponent("currency-field"),H=t.resolveComponent("time-field"),Z=t.resolveComponent("date-field"),Y=t.resolveComponent("date-range"),A=t.resolveComponent("content-select"),V=t.resolveComponent("type-select"),W=t.resolveComponent("scope-select"),M=t.resolveComponent("rich-text-field"),ye=t.resolveComponent("text-area"),ae=t.resolveComponent("timezone-select"),se=t.resolveComponent("phone-number-input"),de=t.resolveComponent("object-field"),ue=t.resolveComponent("payment-field"),xe=t.resolveComponent("options-manager"),me=t.resolveComponent("code-editor-field"),ot=t.resolveComponent("flex-column"),je=t.resolveComponent("expression-field");return r.visible?(t.openBlock(),t.createElementBlock("div",{key:0,class:t.normalizeClass(["ux-field",r.classes]),onFocusin:n[30]||(n[30]=(...w)=>r.focus&&r.focus(...w)),onFocusout:n[31]||(n[31]=(...w)=>r.blur&&r.blur(...w))},[r.widget=="internal-route"?(t.openBlock(),t.createBlock(a,{key:0,onTouched:r.touch,field:r.actualField,modelValue:r.fieldModel,"onUpdate:modelValue":n[0]||(n[0]=w=>r.fieldModel=w)},null,8,["onTouched","field","modelValue"])):t.createCommentVNode("",!0),r.widget=="internal-menu"?(t.openBlock(),t.createBlock(s,{key:1,onTouched:r.touch,field:r.actualField,modelValue:r.fieldModel,"onUpdate:modelValue":n[1]||(n[1]=w=>r.fieldModel=w)},null,8,["onTouched","field","modelValue"])):t.createCommentVNode("",!0),r.widget=="html"?(t.openBlock(),t.createBlock(c,{key:2,onTouched:r.touch,field:r.actualField,modelValue:r.fieldModel,"onUpdate:modelValue":n[2]||(n[2]=w=>r.fieldModel=w)},null,8,["onTouched","field","modelValue"])):t.createCommentVNode("",!0),r.widget=="value"?(t.openBlock(),t.createElementBlock(t.Fragment,{key:3},[],64)):t.createCommentVNode("",!0),r.widget=="filter"?(t.openBlock(),t.createBlock(d,{key:4,onTouched:r.touch,field:r.actualField,modelValue:r.fieldModel,"onUpdate:modelValue":n[3]||(n[3]=w=>r.fieldModel=w)},null,8,["onTouched","field","modelValue"])):t.createCommentVNode("",!0),r.widget=="checkbox"?(t.openBlock(),t.createBlock(u,{key:5,onTouched:r.touch,field:r.actualField,modelValue:r.fieldModel,"onUpdate:modelValue":n[4]||(n[4]=w=>r.fieldModel=w)},null,8,["onTouched","field","modelValue"])):t.createCommentVNode("",!0),r.widget=="switch"?(t.openBlock(),t.createBlock(m,{key:6,onTouched:r.touch,field:r.actualField,modelValue:r.fieldModel,"onUpdate:modelValue":n[5]||(n[5]=w=>r.fieldModel=w)},null,8,["onTouched","field","modelValue"])):t.createCommentVNode("",!0),r.widget=="upload"?(t.openBlock(),t.createBlock(f,{key:7,onTouched:r.touch,field:r.actualField,modelValue:r.fieldModel,"onUpdate:modelValue":n[6]||(n[6]=w=>r.fieldModel=w)},null,8,["onTouched","field","modelValue"])):t.createCommentVNode("",!0),r.widget=="group"?(t.openBlock(),t.createElementBlock(t.Fragment,{key:8},[r.asObject?(t.openBlock(),t.createBlock(p,{key:0,trail:r.currentTrail,paymentConfiguration:o.paymentConfiguration,includeOfficeOnly:o.includeOfficeOnly,submission:o.submission,sandbox:o.sandbox,"onForm:state":r.groupStateAltered,ref:"group",onTouched:r.touch,field:r.actualField,parentModel:o.parentModel,modelValue:r.fieldModel,"onUpdate:modelValue":n[7]||(n[7]=w=>r.fieldModel=w)},null,8,["trail","paymentConfiguration","includeOfficeOnly","submission","sandbox","onForm:state","onTouched","field","parentModel","modelValue"])):(t.openBlock(),t.createBlock(p,{key:1,trail:o.trail,paymentConfiguration:o.paymentConfiguration,includeOfficeOnly:o.includeOfficeOnly,submission:o.submission,sandbox:o.sandbox,"onForm:state":r.groupStateAltered,ref:"group",onTouched:r.touch,field:r.actualField,parentModel:o.parentModel,modelValue:r.sourceModel,"onUpdate:modelValue":n[8]||(n[8]=w=>r.sourceModel=w)},null,8,["trail","paymentConfiguration","includeOfficeOnly","submission","sandbox","onForm:state","onTouched","field","parentModel","modelValue"]))],64)):t.createCommentVNode("",!0),r.widget=="form"?(t.openBlock(),t.createBlock(p,{key:9,trail:r.currentTrail,paymentConfiguration:o.paymentConfiguration,includeOfficeOnly:o.includeOfficeOnly,submission:o.submission,sandbox:o.sandbox,"onForm:state":r.groupStateAltered,ref:"group",onTouched:r.touch,field:r.actualField,parentModel:o.parentModel,modelValue:r.fieldModel,"onUpdate:modelValue":n[9]||(n[9]=w=>r.fieldModel=w)},null,8,["trail","paymentConfiguration","includeOfficeOnly","submission","sandbox","onForm:state","onTouched","field","parentModel","modelValue"])):t.createCommentVNode("",!0),r.widget=="field-select"?(t.openBlock(),t.createBlock(h,{key:10,onTouched:r.touch,field:r.actualField,modelValue:r.fieldModel,"onUpdate:modelValue":n[10]||(n[10]=w=>r.fieldModel=w)},null,8,["onTouched","field","modelValue"])):t.createCommentVNode("",!0),r.widget=="select"?(t.openBlock(),t.createBlock(y,{key:11,onTouched:r.touch,field:r.actualField,modelValue:r.fieldModel,"onUpdate:modelValue":n[11]||(n[11]=w=>r.fieldModel=w)},null,8,["onTouched","field","modelValue"])):t.createCommentVNode("",!0),r.widget=="button"?(t.openBlock(),t.createBlock(x,{key:12,onTouched:r.touch,field:r.actualField,modelValue:r.fieldModel,"onUpdate:modelValue":n[12]||(n[12]=w=>r.fieldModel=w)},null,8,["onTouched","field","modelValue"])):t.createCommentVNode("",!0),r.widget=="textfield"?(t.openBlock(),t.createBlock(F,{key:13,onTouched:r.touch,field:r.actualField,modelValue:r.fieldModel,"onUpdate:modelValue":n[13]||(n[13]=w=>r.fieldModel=w)},null,8,["onTouched","field","modelValue"])):t.createCommentVNode("",!0),r.widget=="currency"?(t.openBlock(),t.createBlock(R,{key:14,onTouched:r.touch,field:r.actualField,modelValue:r.fieldModel,"onUpdate:modelValue":n[14]||(n[14]=w=>r.fieldModel=w)},null,8,["onTouched","field","modelValue"])):t.createCommentVNode("",!0),r.widget=="timefield"?(t.openBlock(),t.createBlock(H,{key:15,onTouched:r.touch,field:r.actualField,modelValue:r.fieldModel,"onUpdate:modelValue":n[15]||(n[15]=w=>r.fieldModel=w)},null,8,["onTouched","field","modelValue"])):t.createCommentVNode("",!0),r.widget=="datefield"?(t.openBlock(),t.createBlock(Z,{key:16,onTouched:r.touch,field:r.actualField,modelValue:r.fieldModel,"onUpdate:modelValue":n[16]||(n[16]=w=>r.fieldModel=w)},null,8,["onTouched","field","modelValue"])):t.createCommentVNode("",!0),r.widget=="daterange"?(t.openBlock(),t.createBlock(Y,{key:17,onTouched:r.touch,field:r.actualField,modelValue:r.fieldModel,"onUpdate:modelValue":n[17]||(n[17]=w=>r.fieldModel=w)},null,8,["onTouched","field","modelValue"])):t.createCommentVNode("",!0),r.widget=="content-select"?(t.openBlock(),t.createBlock(A,{key:18,onTouched:r.touch,field:r.actualField,modelValue:r.fieldModel,"onUpdate:modelValue":n[18]||(n[18]=w=>r.fieldModel=w)},null,8,["onTouched","field","modelValue"])):t.createCommentVNode("",!0),r.widget=="type-select"?(t.openBlock(),t.createBlock(V,{key:19,onTouched:r.touch,field:r.actualField,modelValue:r.fieldModel,"onUpdate:modelValue":n[19]||(n[19]=w=>r.fieldModel=w)},null,8,["onTouched","field","modelValue"])):t.createCommentVNode("",!0),r.widget=="scope-select"?(t.openBlock(),t.createBlock(W,{key:20,onTouched:r.touch,field:r.actualField,modelValue:r.fieldModel,"onUpdate:modelValue":n[20]||(n[20]=w=>r.fieldModel=w)},null,8,["onTouched","field","modelValue"])):t.createCommentVNode("",!0),r.widget=="richtext"?(t.openBlock(),t.createBlock(M,{key:21,onTouched:r.touch,field:r.actualField,modelValue:r.fieldModel,"onUpdate:modelValue":n[21]||(n[21]=w=>r.fieldModel=w)},null,8,["onTouched","field","modelValue"])):t.createCommentVNode("",!0),r.widget=="textarea"?(t.openBlock(),t.createBlock(ye,{key:22,onTouched:r.touch,field:r.actualField,modelValue:r.fieldModel,"onUpdate:modelValue":n[22]||(n[22]=w=>r.fieldModel=w)},null,8,["onTouched","field","modelValue"])):t.createCommentVNode("",!0),r.widget=="timezone"?(t.openBlock(),t.createBlock(ae,{key:23,onTouched:r.touch,field:r.actualField,modelValue:r.fieldModel,"onUpdate:modelValue":n[23]||(n[23]=w=>r.fieldModel=w)},null,8,["onTouched","field","modelValue"])):t.createCommentVNode("",!0),r.widget=="phone"?(t.openBlock(),t.createBlock(se,{key:24,onTouched:r.touch,field:r.actualField,modelValue:r.fieldModel,"onUpdate:modelValue":n[24]||(n[24]=w=>r.fieldModel=w)},null,8,["onTouched","field","modelValue"])):t.createCommentVNode("",!0),r.widget=="value"?(t.openBlock(),t.createElementBlock(t.Fragment,{key:25},[],64)):t.createCommentVNode("",!0),r.widget=="object"?(t.openBlock(),t.createBlock(de,{key:26,onTouched:r.touch,field:r.actualField,modelValue:r.fieldModel,"onUpdate:modelValue":n[25]||(n[25]=w=>r.fieldModel=w)},null,8,["onTouched","field","modelValue"])):t.createCommentVNode("",!0),r.widget=="payment"?(t.openBlock(),t.createBlock(ue,{key:27,sandbox:o.sandbox,configuration:o.paymentConfiguration,"onForm:state":r.groupStateAltered,field:r.actualField,onTouched:r.touch,parentModel:o.parentModel,modelValue:r.fieldModel,"onUpdate:modelValue":n[26]||(n[26]=w=>r.fieldModel=w)},null,8,["sandbox","configuration","onForm:state","field","onTouched","parentModel","modelValue"])):t.createCommentVNode("",!0),r.widget=="options"?(t.openBlock(),t.createBlock(xe,{key:28,onTouched:r.touch,field:r.actualField,modelValue:r.fieldModel,"onUpdate:modelValue":n[27]||(n[27]=w=>r.fieldModel=w)},null,8,["onTouched","field","modelValue"])):t.createCommentVNode("",!0),r.widget=="code"?(t.openBlock(),t.createBlock(ot,{key:29,style:{"min-height":"300px"}},{default:t.withCtx(()=>[t.createVNode(me,{onTouched:r.touch,field:r.actualField,modelValue:r.fieldModel,"onUpdate:modelValue":n[28]||(n[28]=w=>r.fieldModel=w)},null,8,["onTouched","field","modelValue"])]),_:1})):t.createCommentVNode("",!0),r.widget=="expression"?(t.openBlock(),t.createBlock(je,{key:30,onTouched:r.touch,field:r.actualField,modelValue:r.fieldModel,"onUpdate:modelValue":n[29]||(n[29]=w=>r.fieldModel=w)},null,8,["onTouched","field","modelValue"])):t.createCommentVNode("",!0),r.error&&l.validateResults.message?(t.openBlock(),t.createElementBlock("div",zV,t.toDisplayString(l.validateResults.message),1)):t.createCommentVNode("",!0)],34)):t.createCommentVNode("",!0)}const io=g(RV,[["render",HV],["__scopeId","data-v-3e17089a"]]);function qV(e,n,o,i){var l=-1,r=e==null?0:e.length;for(i&&r&&(o=e[++l]);++l<r;)o=n(o,e[l],l,e);return o}var GV=qV;function WV(e){return function(n){return e==null?void 0:e[n]}}var KV=WV,ZV=KV,YV={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},XV=ZV(YV),JV=XV,QV=JV,vV=fo,eE=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,tE="\\u0300-\\u036f",nE="\\ufe20-\\ufe2f",oE="\\u20d0-\\u20ff",rE=tE+nE+oE,iE="["+rE+"]",lE=RegExp(iE,"g");function aE(e){return e=vV(e),e&&e.replace(eE,QV).replace(lE,"")}var sE=aE,cE=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function dE(e){return e.match(cE)||[]}var uE=dE,mE=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function fE(e){return mE.test(e)}var pE=fE,qa="\\ud800-\\udfff",hE="\\u0300-\\u036f",yE="\\ufe20-\\ufe2f",gE="\\u20d0-\\u20ff",_E=hE+yE+gE,Ga="\\u2700-\\u27bf",Wa="a-z\\xdf-\\xf6\\xf8-\\xff",kE="\\xac\\xb1\\xd7\\xf7",xE="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",bE="\\u2000-\\u206f",CE=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ka="A-Z\\xc0-\\xd6\\xd8-\\xde",wE="\\ufe0e\\ufe0f",Za=kE+xE+bE+CE,Ya="['’]",Xa="["+Za+"]",VE="["+_E+"]",Ja="\\d+",EE="["+Ga+"]",Qa="["+Wa+"]",va="[^"+qa+Za+Ja+Ga+Wa+Ka+"]",BE="\\ud83c[\\udffb-\\udfff]",NE="(?:"+VE+"|"+BE+")",SE="[^"+qa+"]",es="(?:\\ud83c[\\udde6-\\uddff]){2}",ts="[\\ud800-\\udbff][\\udc00-\\udfff]",Mt="["+Ka+"]",TE="\\u200d",ns="(?:"+Qa+"|"+va+")",OE="(?:"+Mt+"|"+va+")",os="(?:"+Ya+"(?:d|ll|m|re|s|t|ve))?",rs="(?:"+Ya+"(?:D|LL|M|RE|S|T|VE))?",is=NE+"?",ls="["+wE+"]?",DE="(?:"+TE+"(?:"+[SE,es,ts].join("|")+")"+ls+is+")*",AE="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ME="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",FE=ls+is+DE,IE="(?:"+[EE,es,ts].join("|")+")"+FE,$E=RegExp([Mt+"?"+Qa+"+"+os+"(?="+[Xa,Mt,"$"].join("|")+")",OE+"+"+rs+"(?="+[Xa,Mt+ns,"$"].join("|")+")",Mt+"?"+ns+"+"+os,Mt+"+"+rs,ME,AE,Ja,IE].join("|"),"g");function LE(e){return e.match($E)||[]}var PE=LE,UE=uE,jE=pE,RE=fo,zE=PE;function HE(e,n,o){return e=RE(e),n=o?void 0:n,n===void 0?jE(e)?zE(e):UE(e):e.match(n)||[]}var qE=HE,GE=GV,WE=sE,KE=qE,ZE="['’]",YE=RegExp(ZE,"g");function XE(e){return function(n){return GE(KE(WE(n).replace(YE,"")),e,"")}}var JE=XE,QE=JE,vE=QE(function(e,n,o){return e+(o?"-":"")+n.toLowerCase()}),eB=vE;const pT="",tB={props:{parentModel:{type:Object},parentForm:{type:Object},trail:{type:Array,default(){return[]}},fields:{type:Array,default(){return[]}},modelValue:{type:Object,default(){return{}}},flex:{type:Boolean,default:!1},submission:{type:Boolean,default:!1},sandbox:{type:Boolean,default:!1},paymentConfiguration:{type:Object},includeOfficeOnly:{type:Boolean,default:!1}},inject:["form","parentFormElement"],watch:{modelValue(e,n){this.model=e}},data(){return{mounted:!1,model:this.modelValue,touched:!1,invalid:!1,error:!1,dirty:!1,focussed:!1,childFormElements:[]}},provide(){return{parentFormElement:this.parentFormElement||this,directFormElement:this}},mounted(){const e=this;e.mounted=!0},beforeUnmount(){const e=this;e.mounted=!1},methods:{getFieldKey(e){let n=eB(`${e.title}-${e.key}`);return e.incrementor&&(n=`${n}-${e.incrementor}`),n},touch(){(this.childFormElements||[]).forEach(function(e){e.touch()}),this.touched=!0},untouch(){(this.childFormElements||[]).forEach(function(e){e.untouch()}),this.touched=!1},reset(){this.untouch(),(this.childFormElements||[]).forEach(function(e){e.reset()}),this.model={}},fieldUnmounted(e){this.fieldStateChange(e,"unmount"),this.$emit("field:unmount",this)},fieldMounted(e){this.fieldStateChange(e,"unmount"),this.$emit("field:mount",this)},fieldDirty(e){this.fieldStateChange(e,"dirty"),this.$emit("field:dirty",this)},fieldInvalid(e){this.fieldStateChange(e,"invalid"),this.$emit("field:invalid",this)},fieldValid(e){this.fieldStateChange(e,"valid"),this.$emit("field:valid",this)},fieldError(e){this.fieldStateChange(e,"error"),this.$emit("field:error",this)},fieldFocus(e){this.fieldStateChange(e,"focus"),this.$emit("field:focus",this)},fieldBlur(e){this.fieldStateChange(e,"blur"),this.$emit("field:blur",this)},fieldTouch(e){this.fieldStateChange(e,"touch"),this.$emit("field:touch",this)},fieldStateChange(e,n){var o=this;o.$nextTick(function(){var i=!1,l=!1,r=!1,a=!1,s=!1,c=[];o.childFormElements.forEach(function(u){u.dirty&&(i=!0),u.invalid&&(l=!0,c.push({title:u.field.title,key:u.field.key,message:u.invalidMessage})),u.error&&(r=!0),u.touched&&(a=!0),u.focussed&&(s=!0)}),o.dirty=i,o.error=r,o.touched=a,o.focussed=s,o.invalid=l;const d={dirty:i,error:r,focussed:s,touched:a,invalid:l,valid:!l,invalidFields:c};o.$emit("form:state",d)})}},components:{UxField:io},computed:{currentTrail(){return this.trail},fieldHash(){return this.renderFields.reduce(function(e,n){return n&&(e[n.key]=n),e},{})},valid(){return!this.invalid},formClass(){var e=[];return this.flex&&e.push("ux-form-flex"),e},fieldClass(){var e=[];return this.flex&&e.push("ux-field-flex"),e},formModel:{get(){return this.model},set(e){this.model=e,this.$emit("update:modelValue",this.model)}},renderFields(){return this.fields.filter(function(e){if(e)return e.includeIf&&typeof e.includeIf=="function"?e.includeIf(e):e.excludeIf&&typeof e.excludeIf=="function"?!e.excludeIf(e):!0})}}};function nB(e,n,o,i,l,r){const a=t.resolveComponent("ux-field");return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["ux-form",r.formClass])},[t.renderSlot(e.$slots,"fields",{fields:r.renderFields,hash:r.fieldHash},()=>[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(r.renderFields,(s,c)=>(t.openBlock(),t.createBlock(a,{ref_for:!0,ref:"field",trail:r.currentTrail,sandbox:o.sandbox,submission:o.submission,paymentConfiguration:o.paymentConfiguration,includeOfficeOnly:o.includeOfficeOnly,"onField:mount":r.fieldMounted,"onField:unmount":r.fieldUnmounted,"onField:dirty":r.fieldDirty,"onField:invalid":r.fieldInvalid,"onField:valid":r.fieldValid,"onField:error":r.fieldError,"onField:focus":r.fieldFocus,"onField:blur":r.fieldBlur,"onField:touched":r.fieldTouch,field:s,modelValue:r.formModel,"onUpdate:modelValue":n[0]||(n[0]=d=>r.formModel=d),parentModel:o.parentModel||r.formModel,class:t.normalizeClass([r.fieldClass,{"ux-field-clear":s.clear}]),key:`ux-form-field-${r.getFieldKey(s)}-${c}`},null,8,["trail","sandbox","submission","paymentConfiguration","includeOfficeOnly","onField:mount","onField:unmount","onField:dirty","onField:invalid","onField:valid","onField:error","onField:focus","onField:blur","onField:touched","field","modelValue","parentModel","class"]))),128))],!0)],2)}const sr=g(tB,[["render",nB],["__scopeId","data-v-3e8fe3c2"]]),hT="",cr="form.ready",oB="form.processing",as="form.complete",ss="form.error",rB="form.intent",iB={methods:{formStateUpdated(e){this.formState=e},softReset(){this.processing=!1,this.state=cr},touch(){this.$refs.form&&this.$refs.form.touch()},untouch(){this.$refs.form&&this.$refs.form.untouch()},reset(){this.model={},this.intent=null,this.$refs.form&&this.$refs.form.reset(),this.state=cr,this.error=null,this.submitAttempted=!1,this.processing=!1,this.$emit("reset")},async confirmIntention(){console.log("Confirm intention");const e=this;e.processing=!0,e.$emit("processing");const n=e.$sdk.utils.id(e.intent),o=e.$refs.elms,i=e.$refs.stripePayment,l=window.location.href;await o.instance.confirmPayment({elements:i.elements,redirect:"if_required",confirmParams:{return_url:l}}),e.$sdk.api.post(`/form/capture/${n}`).then(r,a);async function r({data:s}){await e.postSubmit(s),e.processing=!1,e.state=as,e.$emit("success",s)}async function a(s){var c;s=((c=s.response)==null?void 0:c.data)||s,e.error=s,e.processing=!1,e.state=ss,e.$emit("error",s)}},async submit(){console.log("Submit");const e=this;if(e.touch(),e.submitAttempted||(e.submitAttempted=!0,e.touch()),e.buttonDisabled){console.log("Form is invalid",this.formState);return}e.processing=!0,e.state=oB,e.$emit("processing");const{submission:n,error:o}=await e.preSubmit(e.model);if(o)return console.log("pre submit error",o),r(o);e.$sdk.api.post(`/form/${e.formID}`,{data:n,sandbox:e.sandbox}).then(function(a){const{data:s}=a;return s.submission?l(a.data):s.intent?i(a.data):r({message:"Unexpected response from server",status:500,statusCode:500})},r);async function i({intent:a}){switch(console.log("Submission intent was returned",a),e.intent=a,e.intentModule){case"stripe":await e.$sdk.utils.loadExternalScript("https://js.stripe.com/v3/");break}e.state=rB,e.processing=!1,e.$emit("intent",a)}async function l(a){await e.postSubmit(a),e.processing=!1,e.state=as,e.$emit("success",a)}async function r(a){var s;a=((s=a.response)==null?void 0:s.data)||a,e.error=a,e.processing=!1,e.state=ss,e.$emit("error",a)}},async preSubmit(e){var l,r;const n=JSON.parse(JSON.stringify(e)),o=(l=n._payment)==null?void 0:l.total,i=(r=n._payment)==null?void 0:r.gateway;return o?i?(i.integration,{submission:n}):{error:{message:"No gateway selected",status:400,statusCode:400}}:(console.log("No total"),{submission:n})},async postSubmit(e){}},components:{UxForm:sr,StripeElements:_r,StripeElement:gr},provide(){return{form:this.form}},props:{submitText:{type:String,default(){return"Submit"}},modelValue:{type:Object,default(){return{}}},form:{type:Object,required:!0},sandbox:{type:Boolean,default:!1}},watch:{modelValue(e,n){this.model=e},model(e){this.$emit("update:modelValue",e)}},data(){return{submitAttempted:!1,formState:null,state:cr,mounted:!1,model:this.modelValue,error:null,intent:null,processing:!1}},mounted(){this.mounted=!0},beforeUnmount(){this.mounted=!1},computed:{payment(){return this.model._payment},total(){var e;return(e=this.payment)==null?void 0:e.total},formattedTotal(){return this.$sdk.utils.formatCurrency(this.payment.total,this.payment.currency)},intentModule(){return this.intentAction.module},intentAction(){var e;return((e=this.intent)==null?void 0:e.actionDetails)||{}},stripeIntent(){var n,o;if(this.intentModule!=="stripe")return;const e=(o=(n=this.intentAction)==null?void 0:n.paymentIntent)==null?void 0:o.client_secret;return{module:"stripe",key:this.intentAction.key,clientSecret:e,instanceOptions:{clientSecret:e},elementOptions:{clientSecret:e}}},formFields(){const e=[...this.fields];return e.push({title:"Payment",type:"object",key:"_payment",widget:"payment",asObject:!0,minimum:1,maximum:1}),e},classes(){const e=[];return this.formID&&e.push(`form-${this.formID}`),e},tooltip(){return this.buttonDisabled?"Please check the errors in your form":void 0},buttonDisabled(){return this.noGatewaySelectedButPaymentIsRequired?!0:this.submitAttempted&&this.invalid},noGatewaySelectedButPaymentIsRequired(){return this.total?!this.payment.gateway:!1},invalid(){var n;var e=(n=this.formState)==null?void 0:n.invalid;return e?!0:this.noGatewaySelectedButPaymentIsRequired},formID(){return this.$sdk.utils.id(this.form)},paymentConfiguration(){return this.form.paymentConfiguration||{}},fields(){return this.form.fields||[]}}},lB=(e=>(t.pushScopeId("data-v-e1ea11cb"),e=e(),t.popScopeId(),e))(()=>t.createElementVNode("h3",null,"An error occurred",-1)),aB={key:0},sB={key:1},cB={key:2},dB={class:"intent-submit"},uB=["tooltip"];function mB(e,n,o,i,l,r){var p;const a=t.resolveComponent("ux-icon"),s=t.resolveComponent("ux-button"),c=t.resolveComponent("ux-panel-body"),d=t.resolveComponent("ux-panel"),u=t.resolveComponent("StripeElement"),m=t.resolveComponent("StripeElements"),f=t.resolveComponent("ux-form");return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["ux-submission-form",r.classes])},[l.state==="form.error"?(t.openBlock(),t.createElementBlock(t.Fragment,{key:0},[lB,l.error.message?(t.openBlock(),t.createElementBlock("pre",aB,t.toDisplayString(l.error.message),1)):t.createCommentVNode("",!0),(p=l.error.data)!=null&&p.errors?(t.openBlock(),t.createElementBlock("div",sB,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(l.error.data.errors,h=>(t.openBlock(),t.createElementBlock("pre",{key:h.path},t.toDisplayString(h.message),1))),128))])):(t.openBlock(),t.createElementBlock("pre",cB,t.toDisplayString(l.error),1)),t.createVNode(s,{color:"primary",onClick:r.softReset},{default:t.withCtx(()=>[t.createTextVNode(" Try again "),t.createVNode(a,{right:"",icon:"fa-undo"})]),_:1},8,["onClick"])],64)):l.state==="form.complete"?t.renderSlot(e.$slots,"default",{key:1,reset:r.reset},()=>[t.createTextVNode(" Thank you "),t.createVNode(s,{onClick:r.reset},{default:t.withCtx(()=>[t.createTextVNode(" Back to form ")]),_:1},8,["onClick"])],!0):l.state==="form.intent"?(t.openBlock(),t.createElementBlock(t.Fragment,{key:2},[r.intentModule==="stripe"?(t.openBlock(),t.createElementBlock(t.Fragment,{key:0},[t.createVNode(d,null,{default:t.withCtx(()=>[t.createVNode(c,null,{default:t.withCtx(()=>[t.createTextVNode(" Total: "+t.toDisplayString(r.formattedTotal),1)]),_:1})]),_:1}),r.stripeIntent?(t.openBlock(),t.createBlock(m,{key:0,ref:"elms","stripe-key":r.stripeIntent.key,"instance-options":r.stripeIntent.instanceOptions,"elements-options":r.stripeIntent.elementOptions},{default:t.withCtx(({elements:h,instance:y})=>[t.createVNode(u,{ref:"stripePayment",type:"payment",elements:h},null,8,["elements"])]),_:1},8,["stripe-key","instance-options","elements-options"])):t.createCommentVNode("",!0),t.createElementVNode("div",dB,[t.createVNode(s,{color:"primary",onClick:r.confirmIntention},{default:t.withCtx(()=>[t.createTextVNode(" Confirm Payment ")]),_:1},8,["onClick"])])],64)):t.createCommentVNode("",!0)],64)):(t.openBlock(),t.createElementBlock(t.Fragment,{key:3},[t.createVNode(f,{submission:"",sandbox:o.sandbox,ref:"form",paymentConfiguration:r.paymentConfiguration,modelValue:l.model,"onUpdate:modelValue":n[0]||(n[0]=h=>l.model=h),"onForm:state":r.formStateUpdated,fields:r.formFields},null,8,["sandbox","paymentConfiguration","modelValue","onForm:state","fields"]),t.createElementVNode("span",{tooltip:r.tooltip},[t.createVNode(s,{disabled:r.buttonDisabled,color:"primary",onClick:r.submit,loading:l.processing},{default:t.withCtx(()=>[t.createTextVNode(t.toDisplayString(o.submitText),1)]),_:1},8,["disabled","onClick","loading"])],8,uB)],64))],2)}const dr=g(iB,[["render",mB],["__scopeId","data-v-e1ea11cb"]]),gT="",fB={props:{modelValue:{type:String},placeholder:{type:String},debounce:{type:Number,default(){return 500}},loading:{type:Boolean}},mounted(){var e=this;e.dispatch=Ht(()=>{e.$emit("update:modelValue",e.value)},e.debounce)},data(){return{value:String(this.modelValue)}},methods:{clear(){this.value="",this.$emit("update:modelValue",this.value)}},watch:{modelValue(e,n){this.value=e}},computed:{icon(){return this.loading?"fa-spinner fa-spin":this.value?"fa-times":"fa-search"},selectableOptions(){return this.options.map(function(e){const n=e.value||e;return{label:e.title||e.name||e.label||n,value:n}})},model:{get(){return this.value},set(e){this.value=e,this.dispatch()}}}},pB={class:"search"},hB=["placeholder"];function yB(e,n,o,i,l,r){const a=t.resolveComponent("ux-icon");return t.openBlock(),t.createElementBlock("div",pB,[t.withDirectives(t.createElementVNode("input",{"onUpdate:modelValue":n[0]||(n[0]=s=>r.model=s),placeholder:o.placeholder},null,8,hB),[[t.vModelText,r.model]]),t.createElementVNode("div",{onClick:n[1]||(n[1]=s=>r.clear()),class:"icon"},[t.createVNode(a,{icon:r.icon},null,8,["icon"])])])}const ur=g(fB,[["render",yB],["__scopeId","data-v-9cf5026c"]]),gB={props:{field:{type:Object,default(){return{}}},parentModel:{type:Object}},data(){return{model:this.modelValue}},methods:{getValue(e){if(e)return e._id||e.value||e},getLabel(e){if(e)return e.title||e.name||e.label||e}},computed:{label(){return this.field.title},description(){return this.field.description},singleValue(){if(this.asObject){var e=this.minimum===1&&this.maximum===1;return e}else return this.maximum===1},type(){return this.field.type||"string"},multiValue(){return!this.singleValue},key(){return this.field.key},isGroup(){return this.type==="group"},asObject(){return this.isGroup&&!!this.field.asObject},layoutGroup(){return this.isGroup&&!this.field.asObject},numValues(){return this.multiValue?(this.model||[]).length:1},fields(){var e=this.field.fields;if(e&&e.length)return e},minimum(){if(this.layoutGroup)return 1;var e=parseInt(this.field.minimum||0);return isNaN(e)&&(e=0),e=Math.max(e,0),e=this.maximum?Math.min(e,this.maximum):e,parseInt(e)},maximum(){if(this.layoutGroup)return 1;var e=parseInt(this.field.maximum||0);return isNaN(e)&&(e=0),e=Math.max(e,0),parseInt(e)}}},_T="",_B={mixins:[gB],props:{modelValue:{type:[Object,Array]},submission:{type:Boolean,default:!1}},computed:{sameLine(){return this.field.sameLine}},methods:{multiLabel(e,n){return`${this.label} ${n+1}`}}},kB={key:0,class:"ux-multi-group"};function xB(e,n,o,i,l,r){const a=t.resolveComponent("flex-cell"),s=t.resolveComponent("flex-row"),c=t.resolveComponent("ux-panel-header"),d=t.resolveComponent("ux-render"),u=t.resolveComponent("ux-panel-body"),m=t.resolveComponent("ux-panel");return e.multiValue?(t.openBlock(),t.createElementBlock("div",kB,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.model,(f,p)=>(t.openBlock(),t.createBlock(m,{ref_for:!0,ref:"row",key:f},{default:t.withCtx(()=>[t.createVNode(c,null,{default:t.withCtx(()=>[t.createVNode(s,null,{default:t.withCtx(()=>[t.createVNode(a,{vcenter:""},{default:t.withCtx(()=>[t.createElementVNode("div",null,[t.createElementVNode("strong",null,t.toDisplayString(r.multiLabel(f,p)),1)])]),_:2},1024)]),_:2},1024)]),_:2},1024),t.createVNode(u,null,{default:t.withCtx(()=>[t.createVNode(d,{submission:o.submission,fields:e.fields,flex:r.sameLine,parentModel:e.parentModel,modelValue:e.model[p],"onUpdate:modelValue":h=>e.model[p]=h},null,8,["submission","fields","flex","parentModel","modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024))),128))])):(t.openBlock(),t.createBlock(d,{key:1,submission:o.submission,fields:e.fields,flex:r.sameLine,parentModel:e.parentModel,modelValue:e.model,"onUpdate:modelValue":n[0]||(n[0]=f=>e.model=f)},null,8,["submission","fields","flex","parentModel","modelValue"]))}const bB=g(_B,[["render",xB],["__scopeId","data-v-cb997d0e"]]),kT="",CB={components:{Item:ql,FieldGroup:bB,Compile:Lo},props:{field:{type:Object,required:!0},parentModel:{type:Object},modelValue:{type:Object,required:!0},submission:{type:Boolean,default:!1}},data(){return{model:this.modelValue,unmaskedLookup:{},unmasked:!1}},methods:{toggleMask(e){this.multiValue?this.unmaskedLookup[`${e}`]=!this.unmaskedLookup[`${e}`]:this.unmasked=!this.unmasked},renderDate(e){return S.fromJSDate(new Date(e)).toFormat("h:mma - ccc, DD")},formatCurrency(e){return`${this.$sdk.utils.formatCurrency(e,this.field.currency)}`.toUpperCase()},cleanInput(e){return e},cleanOutput(e){return this.type=="reference"&&!this.multiValue&&Array.isArray(e)&&e.length?e[0]:e}},watch:{modelValue(e,n){this.model=e}},computed:{type(){return this.field.type||"string"},isEmbedded(){return this.submission&&this.field.widget==="form"&&this.field.type==="reference"},isGroup(){return this.isEmbedded||this.type==="group"},asObject(){return this.isEmbedded||this.isGroup&&this.field.asObject},isNumber(){switch(this.type){case"integer":case"number":case"float":case"decimal":return!0}},multiValue(){return this.field.maximum!=1},title(){return this.field.title},getExpressionHide(){if(!this.expressions)return;let e=this.expressions.show,n=this.expressions.hide,o=this.expressionsContext;if(e)return!nt.evaluateExpression(e,o);if(n)return nt.evaluateExpression(n,o)},expressions(){return this.field.expressions},expressionsContext(){return{this:this.model,model:this.model,data:this.parentModel}},hidden(){return this.getExpressionHide},visible(){var e=!this.hidden,n=this.layoutGroup||this.fieldModel;return e&&n},type(){return this.field.type||"string"},key(){return this.field.key},isGroup(){return this.type==="group"},asObject(){return this.isGroup&&this.field.asObject},layoutGroup(){return this.isGroup&&!this.field.asObject},fieldModel:{get(){return this.cleanOutput(this.model[this.key])},set(e){}},sourceModel:{get(){return this.model},set(e){}},classes(){var e=[];return e.push(`ux-field-render-${this.type}`),this.layoutGroup?e.push("ux-layout-only"):(!this.fieldModel||Array.isArray(this.fieldModel)&&!this.fieldModel.length)&&e.push("ux-empty"),e},widget(){if(this.type=="group")return this.type;var e=this.field.widget;switch(e){case"form":e=this.submission?"form":"content-select";break;case"content-select":case"select":case"checkbox":case"datefield":case"richtext":case"longtext":case"buttons":case"switch":case"email":case"url":case"currency":case"timezone":case"country":case"typeselect":case"upload":case"code":case"password":break;default:switch(this.type){case"date":e="datefield";break;case"reference":e="content-select";break;case"boolean":e="checkbox";break;default:case"string":e="textfield";break}break}return e}}},wB={class:"ux-field-title"},VB={class:"currency"},EB={key:1},BB={class:"currency"},NB={key:1},SB={key:4,class:"ux-password-render"},TB=["type","value"],OB=["type","value"],DB={key:1},AB={key:1},MB=["href"],FB={key:1},IB=["href"],$B=["href"],LB={key:1},PB=["href"],UB={key:1};function jB(e,n,o,i,l,r){const a=t.resolveComponent("field-group"),s=t.resolveComponent("v-ace-editor"),c=t.resolveComponent("flex-cell"),d=t.resolveComponent("ux-icon"),u=t.resolveComponent("ux-button"),m=t.resolveComponent("flex-row"),f=t.resolveComponent("item"),p=t.resolveComponent("compile");return r.visible?(t.openBlock(),t.createElementBlock("div",{key:0,class:t.normalizeClass(["ux-field-render",r.classes])},[t.createElementVNode("label",wB,t.toDisplayString(r.title),1),r.widget==="group"?(t.openBlock(),t.createElementBlock(t.Fragment,{key:0},[r.asObject?(t.openBlock(),t.createBlock(a,{key:0,submission:o.submission,field:o.field,parentModel:o.parentModel,modelValue:r.fieldModel,"onUpdate:modelValue":n[0]||(n[0]=h=>r.fieldModel=h)},null,8,["submission","field","parentModel","modelValue"])):(t.openBlock(),t.createBlock(a,{key:1,submission:o.submission,field:o.field,parentModel:o.parentModel,modelValue:r.sourceModel,"onUpdate:modelValue":n[1]||(n[1]=h=>r.sourceModel=h)},null,8,["submission","field","parentModel","modelValue"]))],64)):r.widget==="form"?(t.openBlock(),t.createBlock(a,{key:1,submission:o.submission,field:o.field,parentModel:o.parentModel,modelValue:r.fieldModel,"onUpdate:modelValue":n[2]||(n[2]=h=>r.fieldModel=h)},null,8,["submission","field","parentModel","modelValue"])):r.widget==="currency"?(t.openBlock(),t.createElementBlock(t.Fragment,{key:2},[r.multiValue?(t.openBlock(!0),t.createElementBlock(t.Fragment,{key:0},t.renderList(r.fieldModel,(h,y)=>(t.openBlock(),t.createElementBlock("div",null,[t.createTextVNode(t.toDisplayString(r.formatCurrency(h))+" ",1),t.createElementVNode("span",VB,t.toDisplayString(o.field.currency),1)]))),256)):(t.openBlock(),t.createElementBlock("div",EB,[t.createTextVNode(t.toDisplayString(r.formatCurrency(r.fieldModel))+" ",1),t.createElementVNode("span",BB,t.toDisplayString(o.field.currency),1)]))],64)):r.widget==="code"?(t.openBlock(),t.createElementBlock(t.Fragment,{key:3},[r.multiValue?(t.openBlock(!0),t.createElementBlock(t.Fragment,{key:0},t.renderList(r.fieldModel,(h,y)=>(t.openBlock(),t.createElementBlock("div",null,[t.createVNode(s,{readonly:!0,class:"editor-wrap",value:h,options:{useWorker:!0},lang:o.field.syntax,theme:"tomorrow_night_eighties",style:{"min-height":"300px"}},null,8,["value","lang"])]))),256)):(t.openBlock(),t.createElementBlock("div",NB,[t.createVNode(s,{readonly:!0,class:"editor-wrap",value:r.fieldModel,options:{useWorker:!0},lang:o.field.syntax,theme:"tomorrow_night_eighties",style:{"min-height":"300px"}},null,8,["value","lang"])]))],64)):r.widget==="password"?(t.openBlock(),t.createElementBlock("div",SB,[r.multiValue?(t.openBlock(!0),t.createElementBlock(t.Fragment,{key:0},t.renderList(r.fieldModel,(h,y)=>(t.openBlock(),t.createBlock(m,{gap:"",center:""},{default:t.withCtx(()=>[t.createVNode(c,null,{default:t.withCtx(()=>[t.createElementVNode("input",{type:l.unmaskedLookup[`${y}`]?"text":"password",value:h},null,8,TB)]),_:2},1024),t.createVNode(c,{shrink:""},{default:t.withCtx(()=>[t.createVNode(u,{icon:"",onClick:x=>r.toggleMask(y)},{default:t.withCtx(()=>[t.createVNode(d,{icon:l.unmaskedLookup[`${y}`]?"fa-eye":"fa-eye-slash"},null,8,["icon"])]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),256)):(t.openBlock(),t.createBlock(m,{key:1,gap:"",center:""},{default:t.withCtx(()=>[t.createVNode(c,null,{default:t.withCtx(()=>[t.createElementVNode("input",{type:l.unmasked?"text":"password",value:r.fieldModel},null,8,OB)]),_:1}),t.createVNode(c,{shrink:""},{default:t.withCtx(()=>[t.createVNode(u,{icon:"",onClick:r.toggleMask},{default:t.withCtx(()=>[t.createVNode(d,{icon:l.unmasked?"fa-eye":"fa-eye-slash"},null,8,["icon"])]),_:1},8,["onClick"])]),_:1})]),_:1}))])):(t.openBlock(),t.createElementBlock(t.Fragment,{key:5},[r.type==="reference"?(t.openBlock(),t.createElementBlock(t.Fragment,{key:0},[r.multiValue?(t.openBlock(!0),t.createElementBlock(t.Fragment,{key:0},t.renderList(r.fieldModel,(h,y)=>(t.openBlock(),t.createBlock(f,{submission:o.submission,key:h._id,item:h},null,8,["submission","item"]))),128)):(t.openBlock(),t.createBlock(f,{key:1,submission:o.submission,item:r.fieldModel},null,8,["submission","item"]))],64)):t.createCommentVNode("",!0),r.type=="string"?(t.openBlock(),t.createElementBlock(t.Fragment,{key:1},[r.multiValue?(t.openBlock(!0),t.createElementBlock(t.Fragment,{key:0},t.renderList(r.fieldModel,(h,y)=>(t.openBlock(),t.createElementBlock("div",null,[t.createVNode(p,{template:h},null,8,["template"])]))),256)):(t.openBlock(),t.createBlock(p,{key:1,template:r.fieldModel},null,8,["template"]))],64)):t.createCommentVNode("",!0),r.type=="boolean"?(t.openBlock(),t.createElementBlock(t.Fragment,{key:2},[r.multiValue?(t.openBlock(!0),t.createElementBlock(t.Fragment,{key:0},t.renderList(r.fieldModel,(h,y)=>(t.openBlock(),t.createElementBlock("div",null,t.toDisplayString(!!h),1))),256)):(t.openBlock(),t.createElementBlock("div",DB,t.toDisplayString(!!r.fieldModel),1))],64)):t.createCommentVNode("",!0),r.type=="date"?(t.openBlock(),t.createElementBlock(t.Fragment,{key:3},[r.multiValue?(t.openBlock(!0),t.createElementBlock(t.Fragment,{key:0},t.renderList(r.fieldModel,(h,y)=>(t.openBlock(),t.createElementBlock("div",null,t.toDisplayString(r.renderDate(h)),1))),256)):(t.openBlock(),t.createElementBlock("div",AB,t.toDisplayString(r.renderDate(r.fieldModel)),1))],64)):t.createCommentVNode("",!0),r.type=="email"?(t.openBlock(),t.createElementBlock(t.Fragment,{key:4},[r.multiValue?(t.openBlock(!0),t.createElementBlock(t.Fragment,{key:0},t.renderList(r.fieldModel,(h,y)=>(t.openBlock(),t.createElementBlock("div",null,[t.createElementVNode("a",{href:`mailto:${h}`},t.toDisplayString(h),9,MB)]))),256)):(t.openBlock(),t.createElementBlock("div",FB,[t.createElementVNode("a",{href:`mailto:${r.fieldModel}`},t.toDisplayString(r.fieldModel),9,IB)]))],64)):t.createCommentVNode("",!0),r.type=="url"?(t.openBlock(),t.createElementBlock(t.Fragment,{key:5},[r.multiValue?(t.openBlock(!0),t.createElementBlock(t.Fragment,{key:0},t.renderList(r.fieldModel,(h,y)=>(t.openBlock(),t.createElementBlock("div",null,[t.createElementVNode("a",{href:h},t.toDisplayString(h),9,$B)]))),256)):(t.openBlock(),t.createElementBlock("div",LB,[t.createElementVNode("a",{href:r.fieldModel},t.toDisplayString(r.fieldModel),9,PB)]))],64)):t.createCommentVNode("",!0),r.isNumber?(t.openBlock(),t.createElementBlock(t.Fragment,{key:6},[r.multiValue?(t.openBlock(!0),t.createElementBlock(t.Fragment,{key:0},t.renderList(r.fieldModel,(h,y)=>(t.openBlock(),t.createElementBlock("div",null,t.toDisplayString(h),1))),256)):(t.openBlock(),t.createElementBlock("div",UB,t.toDisplayString(r.fieldModel),1))],64)):t.createCommentVNode("",!0)],64))],2)):t.createCommentVNode("",!0)}const mr=g(CB,[["render",jB],["__scopeId","data-v-74a68263"]]),xT="",RB={props:{parentModel:{type:Object},fields:{type:Array,default(){return[]}},modelValue:{type:Object,default(){return{}}},flex:{type:Boolean,default:!1},submission:{type:Boolean,default:!1}},watch:{modelValue(e,n){this.model=e}},data(){return{model:this.modelValue}},components:{UxFieldRender:mr},computed:{renderClass(){var e=[];return this.flex&&e.push("ux-render-flex"),e},fieldClass(){var e=[];return this.flex&&e.push("ux-field-render-flex"),e},renderFields(){return this.fields}}};function zB(e,n,o,i,l,r){const a=t.resolveComponent("ux-field-render");return t.openBlock(),t.createElementBlock("div",{class:t.normalizeClass(["ux-render",r.renderClass])},[t.renderSlot(e.$slots,"render",{fields:o.fields},()=>[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(r.renderFields,(s,c)=>(t.openBlock(),t.createBlock(a,{submission:o.submission,field:s,modelValue:l.model,"onUpdate:modelValue":n[0]||(n[0]=d=>l.model=d),parentModel:o.parentModel||l.model,key:`ux-render-field-${s.key}-${c}`,class:t.normalizeClass(r.fieldClass)},null,8,["submission","field","modelValue","parentModel","class"]))),128))],!0)],2)}const cs=g(RB,[["render",zB],["__scopeId","data-v-f2b5ec33"]]);function ds(e){e=e||{},Math.max(parseInt(e.minimum||0),0);let n=Math.max(parseInt(e.maximum||0),0);const o=Bs.EventDispatcher({}),i=t.reactive([]);let l={};t.watch(i,function(){r()});function r(){l=i.reduce(function(a,s){var c=s._id||s.id;if(c)return a[c]=s,a},{})}return o.isSelected=function(a){return l[a._id||a.id]},o.select=function(a,s){o.isSelected(a)||(n&&i.length>=n&&n===1&&(i.length=0),i.push(a),n&&i.length>n&&(i.length=n,o.dispatch("limit",n)),s||o.dispatch("change",i))},o.deselect=function(a,s){if(n===1){i.length=0;return}var c=i.findIndex(function(d){return d._id&&d._id==a._id||d.id&&d.id==a.id});c!=-1&&(i.splice(c,1),s||o.dispatch("change",i))},o.toggle=function(a,s){o.isSelected(a)?o.deselect(a,s):o.select(a,s)},o.selectMultiple=function(a){a.forEach(function(s){o.select(s,!0)}),o.dispatch("change",i)},o.deselectMultiple=function(a){a.forEach(function(s){o.deselect(s,!0)}),o.dispatch("change",i)},o.setSelection=function(a){i.length=0,setTimeout(function(){o.selectMultiple(a)})},o.deselectAll=function(){i.length=0,o.dispatch("change",i)},Object.defineProperty(o,"items",{value:i,writable:!1}),Object.defineProperty(o,"hash",{get(){return l}}),o}const bT="",HB={props:{total:{type:Number,default(){return 0}},page:{type:Object,default(){return{size:50,index:1}}}},components:{NativeSelect:Qe},watch:{totalPages(){this.currentPage=0}},computed:{perPage:{get(){return this.pageModel.size},set(e){e=Math.max(e,1),this.pageModel.size=e,this.dispatch()}},pageField(){return{type:"integer",maximum:1,minimum:1,options:Array(this.totalPages).fill(1).map((e,n)=>e+n)}},totalPages(){return Math.ceil(this.total/this.perPage)},startIndex(){return(this.currentPage-1)*this.pageModel.size},displayStartIndex(){return this.total?this.startIndex+1:0},endIndex(){return Math.min(this.startIndex+this.pageModel.size,this.total)},currentPage:{get(){return this.pageModel.index},set(e){this.totalPages&&(e=Math.min(this.totalPages,e)),e=Math.max(e,1),this.pageModel.index=e,this.dispatch()}}},methods:{dispatch(){return this.$emit("update:page",this.pageModel)},previousPage(){this.currentPage--},nextPage(){this.currentPage++}},data(){return{pageModel:this.page,perPageField:{minimum:1,maximum:1,options:[{title:"50 per page",value:50},{title:"100 per page",value:100},{title:"250 per page",value:250},{title:"500 per page",value:500}]}}}};function qB(e,n,o,i,l,r){const a=t.resolveComponent("native-select"),s=t.resolveComponent("flex-cell"),c=t.resolveComponent("ux-icon"),d=t.resolveComponent("ux-button"),u=t.resolveComponent("flex-row");return t.openBlock(),t.createBlock(u,{center:"",gap:""},{default:t.withCtx(()=>[t.createVNode(s,{shrink:"",class:"text"},{default:t.withCtx(()=>[t.createVNode(a,{modelValue:r.perPage,"onUpdate:modelValue":n[0]||(n[0]=m=>r.perPage=m),field:l.perPageField},{default:t.withCtx(()=>[e.$device.breakpoint.xs?(t.openBlock(),t.createElementBlock(t.Fragment,{key:0},[t.createTextVNode(t.toDisplayString(r.displayStartIndex)+"-"+t.toDisplayString(r.endIndex)+" of "+t.toDisplayString(o.total),1)],64)):(t.openBlock(),t.createElementBlock(t.Fragment,{key:1},[t.createTextVNode("Showing "+t.toDisplayString(r.displayStartIndex)+" to "+t.toDisplayString(r.endIndex)+" of "+t.toDisplayString(o.total)+" total",1)],64))]),_:1},8,["modelValue","field"])]),_:1}),t.createVNode(s),r.totalPages>1?(t.openBlock(),t.createBlock(s,{key:0,shrink:""},{default:t.withCtx(()=>[t.createVNode(u,{gap:"",center:""},{default:t.withCtx(()=>[t.createVNode(s,{shrink:"",class:"text"},{default:t.withCtx(()=>[t.createVNode(a,{modelValue:r.currentPage,"onUpdate:modelValue":n[1]||(n[1]=m=>r.currentPage=m),field:r.pageField},{default:t.withCtx(()=>[e.$device.breakpoint.xs?(t.openBlock(),t.createElementBlock(t.Fragment,{key:0},[t.createTextVNode(t.toDisplayString(r.currentPage)+"/"+t.toDisplayString(r.totalPages),1)],64)):(t.openBlock(),t.createElementBlock(t.Fragment,{key:1},[t.createTextVNode("Page "+t.toDisplayString(r.currentPage)+" of "+t.toDisplayString(r.totalPages),1)],64))]),_:1},8,["modelValue","field"])]),_:1}),t.createVNode(s,{shrink:""},{default:t.withCtx(()=>[t.createVNode(d,{icon:"",onClick:n[2]||(n[2]=m=>r.previousPage())},{default:t.withCtx(()=>[t.createVNode(c,{icon:"fa-arrow-left"})]),_:1})]),_:1}),t.createVNode(s,{shrink:""},{default:t.withCtx(()=>[t.createVNode(d,{icon:"",onClick:n[3]||(n[3]=m=>r.nextPage())},{default:t.withCtx(()=>[t.createVNode(c,{icon:"fa-arrow-right"})]),_:1})]),_:1})]),_:1})]),_:1})):t.createCommentVNode("",!0)]),_:1})}const GB=g(HB,[["render",qB],["__scopeId","data-v-51741539"]]),CT="";function WB(e,n){var o=[],i;switch(n){case"image":case"video":o.push({title:"",key:"_id",renderer:"thumbnail",shrink:!0,fields:["width","height","fileMeta.colors.colors[0]"]});break}switch(n){case"profile":i=!0,o.push({title:"First Name",key:"firstName",shrink:!0}),o.push({title:"Last Name",key:"lastName",shrink:!0}),o.push({title:"Email",key:"emails"}),o.push({title:"Phone Number",key:"phoneNumbersInternational"});break;case"definition":o.push({title:"Plural",key:"plural"}),o.push({title:"Defines Type",key:"definesType"}),o.push({title:"Database Key",key:"key"}),o.push({title:"Category",key:"category"});break;case"file":case"audio":case"image":case"video":switch(i=!0,o.push({title:"Title",key:"title"}),n){case"image":case"video":o.push({title:"Width",key:"width",shrink:!0}),o.push({title:"Height",key:"height",shrink:!0});break}switch(o.push({title:"Ext",key:"fileExtension",shrink:!0}),o.push({title:"Mime Type",key:"fileMime",shrink:!0}),n){case"image":case"video":o.push({title:"Media Type",key:"mediaIntegrationType",shrink:!0});break}break}switch(i||o.unshift({title:"Title",key:"title"}),n){case"file":case"audio":case"image":case"video":o.push({title:"",key:"meta.security",renderer:"security",shrink:!0}),o.push({title:"",key:"_id",renderer:"button",shrink:!0,button:{size:"sm",text:"Download",icon:"fa-download",action(l){return new Promise(async function(r,a){await e.$sdk.auth.ensureValidToken();var s=e.$sdk.files.downloadUrl(e.basicType,l);window.open(s),r()})}}});break}return o}function us(){return{operator:"and",filters:[]}}let he,fr,pr;const KB={props:{view:{type:Object,default(){return{title:"List",key:"table"}}},filter:{type:Object,default(){return us()}},type:{type:String,required:!0},showFilters:{type:Boolean},search:{type:String,default:""},dateRange:{type:Object,default:{}},rolodexPrimary:{type:String,default:""},rolodexSecondary:{type:String,default:""},options:{type:Object,default(){return{}}},cacheKey:{type:[String,Number]},modelValue:{type:Array,default(){return[]}},maximum:{type:Number,default(){return 0}},dateFilterEnabled:{type:Boolean},selectionManager:{type:Object},enableActions:{type:Boolean,default:!1},enableSelection:{type:Boolean,default:!0},trash:{type:Boolean,default:!1}},components:{Pager:GB,NativeTable:El,FilterBuilder:Da,Search:ur,UxField:io},deactivated(){pr=this.$sdk.global.cacheKeys[this.type],he&&(he.cancel(),he=null,fr=!0)},async activated(){var e=this,n=e.$sdk.global.cacheKeys[e.type];pr!=n&&(pr=n,e.dataSource=await e.load()),fr&&(fr=!1,e.dataSource=await e.load())},async created(){var e=this;await new Promise(async function(n,o){var i=await e.$sdk.content.glossary({hash:!0}),l=i[e.type];if(e.definition=l,!l)return o();n()}),e.sort=e.defaultSort},watch:{keywords(e){this.$emit("update:search",e)},roloPrimary(e){this.$emit("update:rolodexPrimary",e)},roloSecondary(e){this.$emit("update:rolodexSecondary",e)},dateRangeFilter(e){this.$emit("update:dateRange",e)},search(e){this.keywords=e},rolodexPrimary(e){this.roloPrimary=e},rolodexSecondary(e){this.roloSecondary=e},change:{handler:"debounceReload",immediate:!0},loading(){this.$emit("loading",this.loading)},selectedItems(e){this.$emit("update:modelValue",e)},loadKey(){this.$emit("loaded")},options(e){this.actualOptions=e},filter(e){e?this.actualFilter=e:this.actualFilter=us()}},computed:{actualDefinition(){var e;return this.definition||((e=this.options)==null?void 0:e.definition)},showFilterSidebar(){return this.showFilters},boundaryMessage(){var e;if((e=this.dataSource)!=null&&e.boundary)return this.dataSource.message||"Limit was reached. Please provide more selective criteria"},viewModeCacheKey(){return`${this.cacheKey}-${this.loadKey}`},dateRangeField(){return{type:"object",widget:"daterange",key:"dateRange",minimum:0,maximum:1}},combinedFilter(){const e=this;let n=e.actualFilter,o=e.actualOptions.lockFilter;if(!o)return n;n=JSON.parse(JSON.stringify(n)),o=JSON.parse(JSON.stringify(o));let i;return n.operator==="and"?(i=n,i.filters.push(o)):(i=o,o.filters.push(n)),i},viewMode(){var e=this.view;switch(e.key){case"list":case"table":return}return e},defaultSort(){var n;var e=(n=this.definition)==null?void 0:n.defaultSort;if(e)return e;switch(e={key:"title",direction:"asc",type:"string"},this.basicType){case"profile":case"persona":case"user":e={key:"lastName",direction:"asc",type:"string"};break;case"event":e={key:"startDate",direction:"asc",type:"date"};break;case"workflowcard":e={key:"due",direction:"dsc",type:"date"};break;case"email":case"notification":case"transaction":case"campaign":case"transaction":case"componentsnapshot":case"interfacesnapshot":case"image":case"video":case"audio":case"file":case"submission":case"export":case"log":e={key:"meta.created",direction:"dsc",type:"date"};break}return e},fields(){const e=this,n=e.actualDefinition.definesType==="submission";var o=[...e.actualDefinition.fields],i=e.actualDefinition.definedFields||[];if(i.length)if(n){var l={title:"Form Data",minimum:1,maximum:1,key:"formData",asObject:!0,type:"group",fields:i};o.push(l);var r={title:"Data",minimum:1,maximum:1,key:"data",asObject:!0,type:"group",fields:i.map(function(c){return c.type==="reference"&&(c=JSON.parse(JSON.stringify(c)),delete c.fields),c})};o.push(r)}else{var r={title:`${e.actualDefinition.title}`,minimum:1,maximum:1,key:"data",asObject:!0,type:"group",fields:i};o.push(r)}var a=e.$sdk.utils.mapFields(o).filter(function(s){var c=s.type=="group"&&s.asObject&&s.minimum==1&&s.maximum==1;return!c}).map(function(s){return s.title=s.titles.join(" > "),s}).sort(function(s,c){return s.title<c.title?-1:1});return a},deselectAllFunction(){return this.manager.items.length?this.deselectAll:null},selectedItems(){return this.manager.items.slice()},activeFilters(){const e=this;var n=this.$sdk.filter.activeFilters(e.actualFilter).reduce(function(o,i){return i.key&&(i={...i},i.title=`Filter ${o.length+1}`,i.key=i.key.split("[]").join(""),i.class="active-filter",i.shrink=!0,o.push(i)),o},[]);return n},searching(){return this.loading&&this.keywords.length},title(){return this.actualDefinition.title},plural(){return this.actualDefinition.plural},selectFields(){const e=this;var n=e.columns.map(function(o){return[o.path||o.key,...o.select||[]]}).flat().filter(Boolean).map(function(o){return o.split("[]").join("")});return e.actualOptions.select&&(n=[...n,...e.actualOptions.select]),n},columns(){let e=[],n={};function o(d){return function(u){var m=n[u.path||u.key];(d||!m)&&(n[u.path||u.key]=1,e.push({...u,key:u.path||u.key}))}}var i=this.actualOptions.prefixColumns||[];i.forEach(o(!0));var l=this.actualOptions.columns,r=l&&l.length?l:WB(this,this.basicType);r.length||r.push({title:"Title",key:"title"}),r.forEach(o(!0));var a=this.additionalFields;a.forEach(o());var s=this.actualOptions.suffixColumns||[];s.forEach(o(!0));var c=this.activeFilters;return c.forEach(o()),e},filterChangeString(){const e=this;var n=this.$sdk.filter.filterChangeString(e.actualFilter);return n},change(){return`${JSON.stringify([this.page,this.roloSecondary,this.rolodexPrimary,this.dateRangeFilter,this.sort,this.keywords,this.selectFields,this.type,this.filterChangeString])}-${this.cacheKey}-${this.$sdk.global.cacheKeys[this.type]}`},items(){return this.dataSource.items},totalItems(){return this.dataSource.total},basicType(){return this.actualDefinition?this.actualDefinition.definesType||this.actualDefinition.key:this.type},loadCriteria(){const e=this,n=e.sort||e.defaultSort,o=e.keywords,i=e.selectFields,l=e.page,r=e.combinedFilter,a=e.roloPrimary,s=e.roloSecondary;return{sort:n,search:o,select:i,page:l,filter:r,rolodexPrimary:a,rolodexSecondary:s}},fieldEnabled(){var e=this;return e.columns.reduce(function(n,o){return n[o.key]=!0,n},{})}},methods:{debounceReload:Ht(function(){this.reload()}),async reload(){this.dataSource=await this.load()},toggleField(e){var n=e.path||e.key,o=this.additionalFields.findIndex(function(i){return i.path===n||i.key===n});o===-1?this.additionalFields.push(e):this.additionalFields.splice(o,1)},ensureMeta(e){var n;return e.meta||(e.meta={}),e.meta.type||(e.meta.type=this.basicType),e.meta.definition||(e.meta.definition=(n=this.definition)==null?void 0:n.key),this.trash&&(e.meta.deleted=!0),e},deselectAll(){this.manager.deselectAll()},async selectAll(){var e=this;e.dataSource=await e.load(!0);var n=this.dataSource.all.map(function(o){var i=e.ensureMeta({_id:o});return i});e.manager.setSelection(n)},selectMultiple(e){e=e.map(this.ensureMeta),this.manager.selectMultiple(e)},deselectMultiple(e){e=e.map(this.ensureMeta),this.manager.deselectMultiple(e)},rowToggled(e){this.toggle(e)},rowClicked(e){this.$emit("click:row",e)},actionsClicked(e){this.$emit("click:actions",e)},select(e){this.ensureMeta(e),this.manager.select(e)},deselect(e){this.manager.deselect(e)},isSelected(e){return this.manager.isSelected(e)},toggle(e){this.ensureMeta(e),this.manager.toggle(e)},async load(e){var s,c,d,u;var n=this;n.loading=!0,he&&(he.cancel(),he=null);var o=Object.assign({},n.loadCriteria);if(o.includeAll=e,n.trash&&(o.trash=!0),n.dateFilterEnabled&&!o.search){let m=(c=(s=n.dateRangeFilter)==null?void 0:s.dateRange)==null?void 0:c.startDate,f=(u=(d=n.dateRangeFilter)==null?void 0:d.dateRange)==null?void 0:u.endDate;if(m||f){let p=Intl.DateTimeFormat().resolvedOptions().timeZone;m.toISOString()==f.toISOString()?(m=new Date(m),m.setHours(0,0,0,0),f=new Date(m),f.setHours(23,59,59,999)):(f=new Date(f),f.setHours(23,59,59,999)),o.date={startDate:m,endDate:f,timezone:p}}}const i=Math.random(),{promise:l,cancel:r}=await n.$sdk.content.list(n.type,o,{remoteURL:n.actualOptions.remoteURL,cancellable:!0});he={id:i,cancel:r},l.then(function(m){(he==null?void 0:he.id)===i&&(he=null,n.loading=!1,n.loadKey++)}),l.catch(function(m){(he==null?void 0:he.id)===i&&(he=null)});const{data:a}=await l;if(a)return a.items.forEach(n.ensureMeta),a}},data(){var e=this.selectionManager;return e||(e=new ds({minimum:this.minimum,maximum:this.maximum})),this.modelValue&&e.setSelection(this.modelValue),{definition:null,manager:e,loading:!0,additionalFields:[],loadKey:1,page:{size:50,index:1},actualFilter:this.filter,sort:this.defaultSort,keywords:this.search,roloPrimary:this.rolodexPrimary,roloSecondary:this.roloSecondary,dateRangeFilter:{dateRange:this.dateRange},dataSource:null,actualOptions:this.options}}},ms=e=>(t.pushScopeId("data-v-b5412074"),e=e(),t.popScopeId(),e),ZB={class:"footer"},YB=ms(()=>t.createElementVNode("p",null,null,-1)),XB={key:0},JB=ms(()=>t.createElementVNode("p",null,null,-1));function QB(e,n,o,i,l,r){const a=t.resolveComponent("ux-icon"),s=t.resolveComponent("ux-panel-body"),c=t.resolveComponent("ux-panel"),d=t.resolveComponent("flex-column"),u=t.resolveComponent("ux-button"),m=t.resolveComponent("ux-list-item"),f=t.resolveComponent("ux-list"),p=t.resolveComponent("ux-menu"),h=t.resolveComponent("native-table"),y=t.resolveComponent("pager"),x=t.resolveComponent("flex-footer"),F=t.resolveComponent("flex-row"),R=t.resolveComponent("search"),H=t.resolveComponent("ux-field"),Z=t.resolveComponent("filter-builder"),Y=t.resolveComponent("flex-body"),A=t.resolveComponent("spinner");return r.actualDefinition?(t.openBlock(),t.createBlock(d,{key:0,class:"content-browser"},{default:t.withCtx(()=>[t.createVNode(d,{class:"browser-body"},{default:t.withCtx(()=>[t.createVNode(F,null,{default:t.withCtx(()=>[t.createVNode(F,{class:t.normalizeClass({loading:l.loading})},{default:t.withCtx(()=>[t.createVNode(d,null,{default:t.withCtx(()=>[t.createVNode(d,null,{default:t.withCtx(()=>[l.dataSource?(t.openBlock(),t.createElementBlock(t.Fragment,{key:0},[t.renderSlot(e.$slots,"abovecontent",{},void 0,!0),r.boundaryMessage?(t.openBlock(),t.createBlock(d,{key:0,class:"empty"},{default:t.withCtx(()=>[t.createVNode(c,null,{default:t.withCtx(()=>[t.createVNode(s,null,{default:t.withCtx(()=>[t.createVNode(a,{class:"large-icon",icon:"fa-database"}),t.createElementVNode("div",null,t.toDisplayString(r.boundaryMessage),1)]),_:1})]),_:1})]),_:1})):r.items.length?(t.openBlock(),t.createBlock(d,{key:1},{default:t.withCtx(()=>[r.viewMode&&r.viewMode.component?(t.openBlock(),t.createBlock(t.resolveDynamicComponent(r.viewMode.component),{key:0,onReload:r.debounceReload,cacheKey:r.viewModeCacheKey,definition:r.actualDefinition,selection:l.manager.items,items:r.items,"onClick:actions":r.actionsClicked,"onSelect:item:toggle":r.rowToggled,"onClick:item":r.rowClicked},null,40,["onReload","cacheKey","definition","selection","items","onClick:actions","onSelect:item:toggle","onClick:item"])):(t.openBlock(),t.createBlock(h,{key:1,sort:l.sort,"onUpdate:sort":n[0]||(n[0]=V=>l.sort=V),enableSelection:o.enableSelection,enableActions:o.enableActions,total:r.totalItems,selectAll:r.selectAll,deselectAll:r.deselectAllFunction,selection:l.manager.items,"onClick:row":r.rowClicked,"onClick:actions":r.actionsClicked,"onSelect:row:toggle":r.rowToggled,"onSelect:multiple":r.selectMultiple,"onDeselect:multiple":r.deselectMultiple,rows:r.items,columns:r.columns},{corner:t.withCtx(()=>[t.createVNode(p,{right:""},{activator:t.withCtx(({on:V})=>[t.createVNode(u,t.mergeProps({icon:""},t.toHandlers(V)),{default:t.withCtx(()=>[t.createVNode(a,{icon:"fa-cog"})]),_:2},1040)]),default:t.withCtx(()=>[t.createVNode(f,null,{default:t.withCtx(()=>[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(r.fields,V=>(t.openBlock(),t.createBlock(m,{onClick:W=>r.toggleField(V),key:V.path},{default:t.withCtx(()=>[t.createVNode(a,{icon:r.fieldEnabled[V.path]?"fa-check-square":"fa-regular fa-square",left:""},null,8,["icon"]),t.createTextVNode(" "+t.toDisplayString(V.title),1)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1},8,["sort","enableSelection","enableActions","total","selectAll","deselectAll","selection","onClick:row","onClick:actions","onSelect:row:toggle","onSelect:multiple","onDeselect:multiple","rows","columns"]))]),_:1})):l.loading?(t.openBlock(),t.createBlock(d,{key:3,class:"empty",center:""})):(t.openBlock(),t.createBlock(d,{key:2,class:"empty",center:""},{default:t.withCtx(()=>[t.createVNode(c,null,{default:t.withCtx(()=>[t.createVNode(s,null,{default:t.withCtx(()=>[t.createElementVNode("div",null,"No "+t.toDisplayString(r.plural)+" found.",1)]),_:1})]),_:1})]),_:1}))],64)):t.createCommentVNode("",!0)]),_:3}),l.dataSource&&!r.boundaryMessage?(t.openBlock(),t.createBlock(x,{key:0},{default:t.withCtx(()=>[t.renderSlot(e.$slots,"footera",{},void 0,!0),t.createElementVNode("div",ZB,[t.createVNode(y,{page:l.page,"onUpdate:page":n[1]||(n[1]=V=>l.page=V),total:r.totalItems},null,8,["page","total"])]),t.renderSlot(e.$slots,"footerb",{},void 0,!0)]),_:3})):t.createCommentVNode("",!0)]),_:3})]),_:3},8,["class"]),r.showFilterSidebar?(t.openBlock(),t.createBlock(d,{key:0,class:"filter-column"},{default:t.withCtx(()=>[t.renderSlot(e.$slots,"abovefilter",{},void 0,!0),t.createVNode(Y,null,{default:t.withCtx(()=>[t.createVNode(R,{modelValue:l.keywords,"onUpdate:modelValue":n[2]||(n[2]=V=>l.keywords=V),loading:r.searching,debounce:500,placeholder:"Keyword Search"},null,8,["modelValue","loading"]),YB,o.dateFilterEnabled?(t.openBlock(),t.createElementBlock("div",XB,[t.createVNode(H,{field:r.dateRangeField,modelValue:l.dateRangeFilter,"onUpdate:modelValue":n[3]||(n[3]=V=>l.dateRangeFilter=V)},null,8,["field","modelValue"])])):t.createCommentVNode("",!0),JB,t.createVNode(Z,{definition:r.actualDefinition,modelValue:l.actualFilter,"onUpdate:modelValue":n[4]||(n[4]=V=>l.actualFilter=V)},null,8,["definition","modelValue"])]),_:1}),t.renderSlot(e.$slots,"belowfilter",{},void 0,!0)]),_:3})):t.createCommentVNode("",!0)]),_:3})]),_:3}),l.loading?(t.openBlock(),t.createBlock(A,{key:0,large:""})):t.createCommentVNode("",!0)]),_:3})):t.createCommentVNode("",!0)}const fs=g(KB,[["render",QB],["__scopeId","data-v-b5412074"]]),Ft={props:{options:{type:Object,default(){return{}}}},data(){return{}},methods:{dismiss(e){this.$emit("dismiss",e)},close(e){this.$emit("close",e)}}},wT="",vB={props:{modal:{type:Object,required:!0}},data(){return{}},methods:{blanketClick(){this.dismiss()},dismiss(e){this.$sdk.closeModal(this.modal.id),this.modal.reject(e)},close(e){this.$sdk.closeModal(this.modal.id),this.modal.resolve(e)}},computed:{componentProps(){return this.modal.componentProps||{}},style(){var e={};return this.modal.style&&(e=Object.assign(e,this.modal.style)),e}}},eN={class:"modal-wrapper"};function tN(e,n,o,i,l,r){return t.openBlock(),t.createElementBlock("div",eN,[t.createElementVNode("div",{class:"modal-blanket",onClick:n[0]||(n[0]=(...a)=>r.blanketClick&&r.blanketClick(...a))}),t.createElementVNode("div",{class:"modal-content",style:t.normalizeStyle(r.style)},[(t.openBlock(),t.createBlock(t.resolveDynamicComponent(o.modal.component),t.mergeProps({options:o.modal.options},r.componentProps,{onClose:r.close,onDismiss:r.dismiss}),null,16,["options","onClose","onDismiss"]))],4)])}const ps=g(vB,[["render",tN],["__scopeId","data-v-3f68f622"]]),VT="",nN={mixins:[Ft]},oN={class:"padder"},rN=["innerHTML"],iN={class:"padder"};function lN(e,n,o,i,l,r){const a=t.resolveComponent("flex-body"),s=t.resolveComponent("ux-button"),c=t.resolveComponent("flex-cell"),d=t.resolveComponent("flex-row"),u=t.resolveComponent("flex-footer"),m=t.resolveComponent("flex-column");return t.openBlock(),t.createBlock(m,{class:"wrapper"},{default:t.withCtx(()=>[t.createVNode(a,null,{default:t.withCtx(()=>[t.createElementVNode("div",oN,[t.createElementVNode("h5",null,t.toDisplayString(e.options.title),1),t.createElementVNode("div",{innerHTML:e.options.description},null,8,rN)])]),_:1}),t.createVNode(u,null,{default:t.withCtx(()=>[t.createElementVNode("div",iN,[t.createVNode(d,null,{default:t.withCtx(()=>[t.createVNode(c,null,{default:t.withCtx(()=>[t.createVNode(s,{color:"dismiss",onClick:e.dismiss},{default:t.withCtx(()=>[t.createTextVNode("Cancel")]),_:1},8,["onClick"])]),_:1}),t.createVNode(c,null,{default:t.withCtx(()=>[t.createVNode(s,{color:"primary",onClick:e.close},{default:t.withCtx(()=>[t.createTextVNode("Confirm")]),_:1},8,["onClick"])]),_:1})]),_:1})])]),_:1})]),_:1})}const hs=g(nN,[["render",lN],["__scopeId","data-v-19242609"]]),ET="",aN={data(){return{selected:null}},mixins:[Ft],methods:{select(e){this.selected=e,this.close(e)}}},sN={class:"header"},cN={class:"padder"},dN=["onClick"],uN={key:0,class:"title"},mN={key:1,class:"description"},fN={class:"padder"};function pN(e,n,o,i,l,r){const a=t.resolveComponent("flex-header"),s=t.resolveComponent("flex-cell"),c=t.resolveComponent("ux-icon"),d=t.resolveComponent("flex-row"),u=t.resolveComponent("flex-body"),m=t.resolveComponent("ux-button"),f=t.resolveComponent("flex-footer"),p=t.resolveComponent("flex-column");return t.openBlock(),t.createBlock(p,{class:"wrapper"},{default:t.withCtx(()=>[t.createVNode(a,null,{default:t.withCtx(()=>[t.createElementVNode("div",sN,[t.createElementVNode("h5",null,t.toDisplayString(e.options.title),1),t.createElementVNode("div",null,t.toDisplayString(e.options.description),1)])]),_:1}),t.createVNode(u,{class:"body"},{default:t.withCtx(()=>[t.createElementVNode("div",cN,[(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(e.options.choices,h=>(t.openBlock(),t.createElementBlock("div",{class:"choice",onClick:y=>r.select(h)},[t.createVNode(d,{vcenter:""},{default:t.withCtx(()=>[t.createVNode(s,null,{default:t.withCtx(()=>[h.title?(t.openBlock(),t.createElementBlock("div",uN,t.toDisplayString(h.title),1)):t.createCommentVNode("",!0),h.description?(t.openBlock(),t.createElementBlock("div",mN,t.toDisplayString(h.description),1)):t.createCommentVNode("",!0)]),_:2},1024),t.createVNode(s,{shrink:""},{default:t.withCtx(()=>[t.createVNode(c,{icon:"fa-angle-right"})]),_:1})]),_:2},1024)],8,dN))),256))])]),_:1}),t.createVNode(f,null,{default:t.withCtx(()=>[t.createElementVNode("div",fN,[t.createVNode(m,{onClick:e.dismiss},{default:t.withCtx(()=>[t.createTextVNode("Cancel")]),_:1},8,["onClick"])])]),_:1})]),_:1})}const ys=g(aN,[["render",pN],["__scopeId","data-v-5b38f9ba"]]),BT="",hN={mixins:[Ft],data(){return{model:{},formState:null}},methods:{formStateUpdated(e){this.formState=e}},computed:{invalid(){var n;var e=(n=this.formState)==null?void 0:n.invalid;if(e)return!0},fields(){return this.options.fields||[]}},created(){this.options.model&&(this.model=this.options.model)}},yN={class:"padder"},gN={key:0},_N={class:"padder"};function kN(e,n,o,i,l,r){const a=t.resolveComponent("ux-form"),s=t.resolveComponent("flex-body"),c=t.resolveComponent("ux-button"),d=t.resolveComponent("flex-cell"),u=t.resolveComponent("flex-spacer"),m=t.resolveComponent("flex-row"),f=t.resolveComponent("flex-footer"),p=t.resolveComponent("flex-column");return t.openBlock(),t.createElementBlock("form",{class:"wrapper",onSubmit:n[2]||(n[2]=t.withModifiers((...h)=>e.submit&&e.submit(...h),["prevent","stop"]))},[t.createVNode(p,null,{default:t.withCtx(()=>[t.createVNode(s,null,{default:t.withCtx(()=>[t.createElementVNode("div",yN,[t.createElementVNode("h5",null,t.toDisplayString(e.options.title),1),e.options.description?(t.openBlock(),t.createElementBlock("p",gN,t.toDisplayString(e.options.description),1)):t.createCommentVNode("",!0),t.createVNode(a,{ref:"form","onForm:state":r.formStateUpdated,modelValue:l.model,"onUpdate:modelValue":n[0]||(n[0]=h=>l.model=h),fields:r.fields},null,8,["onForm:state","modelValue","fields"])])]),_:1}),t.createVNode(f,null,{default:t.withCtx(()=>[t.createElementVNode("div",_N,[t.createVNode(m,null,{default:t.withCtx(()=>[t.createVNode(d,{shrink:""},{default:t.withCtx(()=>[t.createVNode(c,{tag:"a",onClick:e.dismiss},{default:t.withCtx(()=>[t.createTextVNode("Cancel")]),_:1},8,["onClick"])]),_:1}),t.createVNode(u),t.createVNode(d,{shrink:""},{default:t.withCtx(()=>[t.createVNode(c,{disabled:r.invalid,color:"primary",type:"submit",onClick:n[1]||(n[1]=h=>e.close(l.model))},{default:t.withCtx(()=>[t.createTextVNode("Confirm")]),_:1},8,["disabled"])]),_:1})]),_:1})])]),_:1})]),_:1})],32)}const gs=g(hN,[["render",kN],["__scopeId","data-v-243e2939"]]),NT="",xN={components:{ContentBrowser:fs,Search:ur},mixins:[Ft],async created(){var e=this,n=await e.$sdk.content.glossary({hash:!0});e.loading=!1;var o=n[e.type];if(!o){e.$sdk.notify("You do not have the required permissions to list content of this type"),e.dismiss();return}e.definition=o,e.bigData&&e.rolodexEnabled&&(e.rolodexLetter="A")},computed:{bigData(){var e;return((e=this.definition)==null?void 0:e.count)>2e4},rolodexEnabled(){let e;if(!this.bigData)return;switch(this.definition.definesType||this.definition.key){case"profile":case"persona":e=!0;break}return(this.search||this.shortcut)&&(e=!1),e},rolodexPrimary:{get(){if(!(this.search||this.shortcut))return this.rolodexLetter},set(e){this.search||this.shortcut||(this.rolodexLetter=e)}},letters(){return"abcdefghijklmnopqrstuvwxyz".toUpperCase().split("")},type(){return this.options.type},title(){return this.definition.title},plural(){return this.definition.plural},maximum(){return this.options.maximum||0},browserOptions(){return this.options.browserOptions||{}}},watch:{search(e,n){const o=this;!e&&o.bigData&&(o.rolodexLetter||(o.rolodexLetter="A"))}},data(){return{showFilters:!1,search:"",searching:!1,definition:null,loading:!0,model:this.options.model.slice(),rolodexLetter:""}},methods:{toggleRolodex(e){this.rolodexLetter===e?this.rolodexLetter="":this.rolodexLetter=e},rowClicked(e){this.$refs.browser.toggle(e)},selectionComplete(e){this.close(this.model)}}},bN={class:"header"},CN={class:"font-muted font-sm"},wN={class:"rolodex"};function VN(e,n,o,i,l,r){const a=t.resolveComponent("flex-column"),s=t.resolveComponent("flex-cell"),c=t.resolveComponent("search"),d=t.resolveComponent("ux-icon"),u=t.resolveComponent("ux-button"),m=t.resolveComponent("flex-row"),f=t.resolveComponent("flex-header"),p=t.resolveComponent("content-browser");return t.openBlock(),t.createBlock(a,{class:"wrapper"},{default:t.withCtx(()=>[l.loading?(t.openBlock(),t.createBlock(a,{key:0},{default:t.withCtx(()=>[t.createTextVNode(" Loading ")]),_:1})):(t.openBlock(),t.createElementBlock(t.Fragment,{key:1},[l.definition?(t.openBlock(),t.createElementBlock(t.Fragment,{key:0},[t.createVNode(f,null,{default:t.withCtx(()=>[t.createElementVNode("div",bN,[t.createVNode(m,{vcenter:"",gap:""},{default:t.withCtx(()=>[t.createVNode(s,{shrink:""},{default:t.withCtx(()=>[t.createElementVNode("h3",null,"Select "+t.toDisplayString(r.maximum==1?r.title:r.plural),1)]),_:1}),r.maximum?(t.openBlock(),t.createBlock(s,{key:0},{default:t.withCtx(()=>[t.createElementVNode("span",CN,"("+t.toDisplayString(l.model.length)+" of "+t.toDisplayString(r.maximum)+")",1)]),_:1})):t.createCommentVNode("",!0),t.createVNode(s,null,{default:t.withCtx(()=>[l.showFilters?t.createCommentVNode("",!0):(t.openBlock(),t.createBlock(c,{key:0,modelValue:l.search,"onUpdate:modelValue":n[0]||(n[0]=h=>l.search=h),loading:l.searching,debounce:500,placeholder:"Keyword Search"},null,8,["modelValue","loading"]))]),_:1}),t.createVNode(s,{shrink:""},{default:t.withCtx(()=>[t.createVNode(u,{icon:e.$device.breakpoint.mobile,onClick:n[1]||(n[1]=h=>l.showFilters=!l.showFilters)},{default:t.withCtx(()=>[e.$device.breakpoint.mobile?(t.openBlock(),t.createBlock(d,{key:0,icon:"fa-search"})):(t.openBlock(),t.createElementBlock(t.Fragment,{key:1},[t.createTextVNode(t.toDisplayString(l.showFilters?"Hide":"Show")+" Filters",1)],64))]),_:1},8,["icon"])]),_:1}),t.createVNode(s,{shrink:""},{default:t.withCtx(()=>[t.createVNode(u,{color:"primary",onClick:r.selectionComplete},{default:t.withCtx(()=>[t.createTextVNode("Done")]),_:1},8,["onClick"])]),_:1})]),_:1})])]),_:1}),t.createVNode(p,{rolodexPrimary:r.rolodexPrimary,"onUpdate:rolodexPrimary":n[3]||(n[3]=h=>r.rolodexPrimary=h),showFilters:l.showFilters,ref:"browser",search:l.search,"onClick:row":r.rowClicked,maximum:e.options.maximum,modelValue:l.model,"onUpdate:modelValue":n[4]||(n[4]=h=>l.model=h),type:e.options.type,options:r.browserOptions},{abovecontent:t.withCtx(()=>[r.rolodexEnabled?(t.openBlock(),t.createBlock(f,{key:0},{default:t.withCtx(()=>[t.createElementVNode("div",wN,[t.createVNode(u,{size:"sm",onClick:n[2]||(n[2]=h=>r.toggleRolodex("")),icon:"",color:r.rolodexPrimary?"":"primary"},{default:t.withCtx(()=>[t.createTextVNode("All")]),_:1},8,["color"]),(t.openBlock(!0),t.createElementBlock(t.Fragment,null,t.renderList(r.letters,h=>(t.openBlock(),t.createBlock(u,{size:"sm",onClick:y=>r.toggleRolodex(h),icon:"",color:r.rolodexPrimary===h?"primary":""},{default:t.withCtx(()=>[t.createTextVNode(t.toDisplayString(h),1)]),_:2},1032,["onClick","color"]))),256))])]),_:1})):t.createCommentVNode("",!0)]),_:1},8,["rolodexPrimary","showFilters","search","onClick:row","maximum","modelValue","type","options"])],64)):t.createCommentVNode("",!0)],64))]),_:1})}const _s=g(xN,[["render",VN],["__scopeId","data-v-7eedb824"]]),ST="",EN={components:{ScopeSelect:Ea},mixins:[Ft],computed:{type(){return this.options.type},action(){return this.options.action}},data(){return{model:this.options.model.slice()}},methods:{selectionComplete(e){this.close(this.model)}}},BN=e=>(t.pushScopeId("data-v-e905a558"),e=e(),t.popScopeId(),e),NN={class:"header"},SN=BN(()=>t.createElementVNode("h3",null,"Select Scopes",-1)),TN={class:"padder"};function ON(e,n,o,i,l,r){const a=t.resolveComponent("flex-cell"),s=t.resolveComponent("ux-button"),c=t.resolveComponent("flex-row"),d=t.resolveComponent("flex-header"),u=t.resolveComponent("scope-select"),m=t.resolveComponent("flex-body"),f=t.resolveComponent("flex-column");return t.openBlock(),t.createBlock(f,{class:"wrapper"},{default:t.withCtx(()=>[t.createVNode(d,null,{default:t.withCtx(()=>[t.createElementVNode("div",NN,[t.createVNode(c,{vcenter:"",gap:""},{default:t.withCtx(()=>[t.createVNode(a,null,{default:t.withCtx(()=>[SN]),_:1}),t.createVNode(a,{shrink:""},{default:t.withCtx(()=>[t.createVNode(s,{color:"primary",onClick:r.selectionComplete},{default:t.withCtx(()=>[t.createTextVNode("Done")]),_:1},8,["onClick"])]),_:1})]),_:1})])]),_:1}),t.createVNode(m,{class:"scroll-body"},{default:t.withCtx(()=>[t.createElementVNode("div",TN,[t.createVNode(u,{action:r.action,type:r.type,modelValue:l.model,"onUpdate:modelValue":n[0]||(n[0]=p=>l.model=p)},null,8,["action","type","modelValue"])])]),_:1})]),_:1})}const ks=g(EN,[["render",ON],["__scopeId","data-v-e905a558"]]);function DN(){var e=t.reactive({mounted:!1,screen:{width:1024,height:768},limits:{xs:600,sm:960,md:1264,lg:1904},breakpoint:{mobile:!1,tablet:!1,desktop:!1,xs:!1,sm:!1,md:!1,lg:!1,xl:!1,xsOnly:!1,smOnly:!1,smAndDown:!1,smAndUp:!1,mdOnly:!1,mdAndDown:!1,mdAndUp:!1,lgOnly:!1,lgAndDown:!1,lgAndUp:!1,xlOnly:!1,point:0}}),n;let o;return e.resize=function(){var i=Math.max(o.innerWidth||0),l=Math.max(o.innerHeight||0);e.screen={width:i,height:l};var r={mobile:!1,tablet:!1,desktop:!1,xs:!1,sm:!1,md:!1,lg:!1,xl:!1,xsOnly:!1,smOnly:!1,smAndDown:!1,smAndUp:!1,mdOnly:!1,mdAndDown:!1,mdAndUp:!1,lgOnly:!1,lgAndDown:!1,lgAndUp:!1,xlOnly:!1,point:0},a=0;i>e.limits.xs&&a++,i>e.limits.sm&&a++,i>e.limits.md&&a++,i>e.limits.lg&&a++,a<1&&(r.mobile=!0,r.xs=!0,r.xsOnly=!0,r.smAndDown=!0,r.mdAndDown=!0,r.lgAndDown=!0),a==1&&(r.tablet=!0,r.sm=!0,r.smOnly=!0,r.smAndDown=!0,r.mdAndDown=!0,r.lgAndDown=!0,r.smAndUp=!0),a==2&&(r.desktop=!0,r.md=!0,r.mdOnly=!0,r.mdAndDown=!0,r.lgAndDown=!0,r.smAndUp=!0,r.mdAndUp=!0),a==3&&(r.desktop=!0,r.lg=!0,r.lgOnly=!0,r.lgAndDown=!0,r.smAndUp=!0,r.mdAndUp=!0,r.lgAndUp=!0),a>3&&(r.desktop=!0,r.xl=!0,r.xlOnly=!0,r.smAndUp=!0,r.mdAndUp=!0,r.lgAndUp=!0),e.point=a,e.breakpoint=r},e.mount=function(i){n||(o=i,e.resize(),n=!0,e.mounted=!0,o.addEventListener("resize",e.resize))},e.unmount=function(){o.removeEventListener("resize",e.resize),o=!1,n=!1,e.mounted=!1},e}const AN=`qik vue ui ${Ns}`,xs={FlexColumn:kr,FlexBody:xr,FlexHeader:br,FlexFooter:Cr,FlexCell:wr,FlexSpacer:Er,FlexRow:Vr,UxInfo:Tl,UxPanel:Br,UxPanelBody:Nr,UxPanelHeader:Sr,UxPanelFooter:Tr,UxList:jl,UxListItem:Rl,UxForm:sr,UxSubmissionForm:dr,UxFormField:io,UxSubmissionForm:dr,UxRender:cs,UxRenderField:mr,UxIcon:Fl,UxMenu:Il,UxMenuList:$l,UxImage:Ll,UxVideo:Pl,UxButton:Dl,UxCheckbox:jo,UxSwitch:Al,UxLink:Ml,UxTabset:Ur,UxTab:jr,Avatar:Ol,Spinner:Uo,ProgressBar:Ul,UxModal:ps,Compile:Lo},MN={install(e,n){console.log(AN),n.modals=t.reactive([]),n.modal=function(o){return new Promise(function(i,l){o.id=n.modals.length,o.resolve=i,o.reject=l,n.modals.splice(o.id,0,o)})},n.prompt=function(o,i){return i=i||{},i.model=i.model||{},i.fields=o,n.modal({component:gs,options:i})},n.browse=function(o,i){return i=i||{},i.type=o,i.model=i.model||[],n.modal({component:_s,options:i})},n.selectScopes=function(o){return o=o||{},o.model=o.model||[],n.modal({component:ks,options:o})},n.confirm=function(o,i){return i=i||{},i.title=o,n.modal({component:hs,options:i})},n.options=function(o,i,l){return n.modal({component:ys,options:{title:i,description:l,choices:o}})},n.closeModal=function(o){var i=n.modals.find(function(r){return r.id==o}),l=n.modals.indexOf(i);n.modals.splice(l,1)};for(const o in xs){const i=xs[o];e.component(o,i)}}};E.Avatar=Ol,E.CodeEditor=Ma,E.ContentBrowser=fs,E.DateRange=Hl,E.Device=DN,E.FileDrop=Aa,E.FlexBody=xr,E.FlexCell=wr,E.FlexColumn=kr,E.FlexFooter=Cr,E.FlexHeader=br,E.FlexRow=Vr,E.FlexSpacer=Er,E.Info=Tl,E.ModalMixin=Ft,E.NativeSelect=Qe,E.Pager=$y,E.Panel=Br,E.PanelBody=Nr,E.PanelFooter=Tr,E.PanelHeader=Sr,E.ProgressBar=Ul,E.QikUI=MN,E.RememberScrollMixin=Vl,E.ScopeSelect=Ea,E.ScopeSelectButton=Ba,E.Search=ur,E.Selection=ds,E.Spinner=Uo,E.StripeElement=gr,E.StripeElements=_r,E.UXButton=Dl,E.UXCheckbox=jo,E.UXForm=sr,E.UXFormField=io,E.UXIcon=Fl,E.UXImage=Ll,E.UXLink=Ml,E.UXList=jl,E.UXListItem=Rl,E.UXMenu=Il,E.UXMenuList=$l,E.UXRender=cs,E.UXRenderField=mr,E.UXSubmissionForm=dr,E.UXSwitch=Al,E.UXTab=jr,E.UXTable=El,E.UXTabset=Ur,E.UXVideo=Pl,E.UxConfirmModal=hs,E.UxContentModal=_s,E.UxModal=ps,E.UxOptionsModal=ys,E.UxPromptModal=gs,E.UxScopeModal=ks,Object.defineProperty(E,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=lib.umd.js.map
